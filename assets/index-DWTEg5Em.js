(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function F0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Em={exports:{}},ql={};var Kv;function mA(){if(Kv)return ql;Kv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return ql.Fragment=e,ql.jsx=n,ql.jsxs=n,ql}var Qv;function pA(){return Qv||(Qv=1,Em.exports=mA()),Em.exports}var L=pA(),Tm={exports:{}},Ae={};var Yv;function gA(){if(Yv)return Ae;Yv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function k(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,H={};function Z(M,te,oe){this.props=M,this.context=te,this.refs=H,this.updater=oe||z}Z.prototype.isReactComponent={},Z.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},Z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Q(){}Q.prototype=Z.prototype;function ne(M,te,oe){this.props=M,this.context=te,this.refs=H,this.updater=oe||z}var de=ne.prototype=new Q;de.constructor=ne,Y(de,Z.prototype),de.isPureReactComponent=!0;var ae=Array.isArray;function ue(){}var O={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(M,te,oe){var he=oe.ref;return{$$typeof:r,type:M,key:te,ref:he!==void 0?he:null,props:oe}}function V(M,te){return I(M.type,te,M.props)}function w(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function D(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return te[oe]})}var C=/\/+/g;function Ue(M,te){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):te.toString(36)}function Ke(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ue,ue):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function X(M,te,oe,he,Te){var Ie=typeof M;(Ie==="undefined"||Ie==="boolean")&&(M=null);var ze=!1;if(M===null)ze=!0;else switch(Ie){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(M.$$typeof){case r:case e:ze=!0;break;case E:return ze=M._init,X(ze(M._payload),te,oe,he,Te)}}if(ze)return Te=Te(M),ze=he===""?"."+Ue(M,0):he,ae(Te)?(oe="",ze!=null&&(oe=ze.replace(C,"$&/")+"/"),X(Te,te,oe,"",function(As){return As})):Te!=null&&(w(Te)&&(Te=V(Te,oe+(Te.key==null||M&&M.key===Te.key?"":(""+Te.key).replace(C,"$&/")+"/")+ze)),te.push(Te)),1;ze=0;var Mt=he===""?".":he+":";if(ae(M))for(var at=0;at<M.length;at++)he=M[at],Ie=Mt+Ue(he,at),ze+=X(he,te,oe,Ie,Te);else if(at=k(M),typeof at=="function")for(M=at.call(M),at=0;!(he=M.next()).done;)he=he.value,Ie=Mt+Ue(he,at++),ze+=X(he,te,oe,Ie,Te);else if(Ie==="object"){if(typeof M.then=="function")return X(Ke(M),te,oe,he,Te);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ze}function re(M,te,oe){if(M==null)return M;var he=[],Te=0;return X(M,he,"","",function(Ie){return te.call(oe,Ie,Te++)}),he}function pe(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var be=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},He={map:re,forEach:function(M,te,oe){re(M,function(){te.apply(this,arguments)},oe)},count:function(M){var te=0;return re(M,function(){te++}),te},toArray:function(M){return re(M,function(te){return te})||[]},only:function(M){if(!w(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ae.Activity=T,Ae.Children=He,Ae.Component=Z,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ne,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return O.H.useMemoCache(M)}},Ae.cache=function(M){return function(){return M.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(M,te,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var he=Y({},M.props),Te=M.key;if(te!=null)for(Ie in te.key!==void 0&&(Te=""+te.key),te)!R.call(te,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&te.ref===void 0||(he[Ie]=te[Ie]);var Ie=arguments.length-2;if(Ie===1)he.children=oe;else if(1<Ie){for(var ze=Array(Ie),Mt=0;Mt<Ie;Mt++)ze[Mt]=arguments[Mt+2];he.children=ze}return I(M.type,Te,he)},Ae.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ae.createElement=function(M,te,oe){var he,Te={},Ie=null;if(te!=null)for(he in te.key!==void 0&&(Ie=""+te.key),te)R.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=te[he]);var ze=arguments.length-2;if(ze===1)Te.children=oe;else if(1<ze){for(var Mt=Array(ze),at=0;at<ze;at++)Mt[at]=arguments[at+2];Te.children=Mt}if(M&&M.defaultProps)for(he in ze=M.defaultProps,ze)Te[he]===void 0&&(Te[he]=ze[he]);return I(M,Ie,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:m,render:M}},Ae.isValidElement=w,Ae.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:pe}},Ae.memo=function(M,te){return{$$typeof:g,type:M,compare:te===void 0?null:te}},Ae.startTransition=function(M){var te=O.T,oe={};O.T=oe;try{var he=M(),Te=O.S;Te!==null&&Te(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ue,be)}catch(Ie){be(Ie)}finally{te!==null&&oe.types!==null&&(te.types=oe.types),O.T=te}},Ae.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ae.use=function(M){return O.H.use(M)},Ae.useActionState=function(M,te,oe){return O.H.useActionState(M,te,oe)},Ae.useCallback=function(M,te){return O.H.useCallback(M,te)},Ae.useContext=function(M){return O.H.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M,te){return O.H.useDeferredValue(M,te)},Ae.useEffect=function(M,te){return O.H.useEffect(M,te)},Ae.useEffectEvent=function(M){return O.H.useEffectEvent(M)},Ae.useId=function(){return O.H.useId()},Ae.useImperativeHandle=function(M,te,oe){return O.H.useImperativeHandle(M,te,oe)},Ae.useInsertionEffect=function(M,te){return O.H.useInsertionEffect(M,te)},Ae.useLayoutEffect=function(M,te){return O.H.useLayoutEffect(M,te)},Ae.useMemo=function(M,te){return O.H.useMemo(M,te)},Ae.useOptimistic=function(M,te){return O.H.useOptimistic(M,te)},Ae.useReducer=function(M,te,oe){return O.H.useReducer(M,te,oe)},Ae.useRef=function(M){return O.H.useRef(M)},Ae.useState=function(M){return O.H.useState(M)},Ae.useSyncExternalStore=function(M,te,oe){return O.H.useSyncExternalStore(M,te,oe)},Ae.useTransition=function(){return O.H.useTransition()},Ae.version="19.2.0",Ae}var Xv;function Qh(){return Xv||(Xv=1,Tm.exports=gA()),Tm.exports}var q=Qh();const yA=F0(q);var Sm={exports:{}},Hl={},bm={exports:{}},Am={};var $v;function _A(){return $v||($v=1,(function(r){function e(X,re){var pe=X.length;X.push(re);e:for(;0<pe;){var be=pe-1>>>1,He=X[be];if(0<o(He,re))X[be]=re,X[pe]=He,pe=be;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var re=X[0],pe=X.pop();if(pe!==re){X[0]=pe;e:for(var be=0,He=X.length,M=He>>>1;be<M;){var te=2*(be+1)-1,oe=X[te],he=te+1,Te=X[he];if(0>o(oe,pe))he<He&&0>o(Te,oe)?(X[be]=Te,X[he]=pe,be=he):(X[be]=oe,X[te]=pe,be=te);else if(he<He&&0>o(Te,pe))X[be]=Te,X[he]=pe,be=he;else break e}}return re}function o(X,re){var pe=X.sortIndex-re.sortIndex;return pe!==0?pe:X.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,A=3,k=!1,z=!1,Y=!1,H=!1,Z=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function de(X){for(var re=n(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=X)s(g),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(g)}}function ae(X){if(Y=!1,de(X),!z)if(n(p)!==null)z=!0,ue||(ue=!0,D());else{var re=n(g);re!==null&&Ke(ae,re.startTime-X)}}var ue=!1,O=-1,R=5,I=-1;function V(){return H?!0:!(r.unstable_now()-I<R)}function w(){if(H=!1,ue){var X=r.unstable_now();I=X;var re=!0;try{e:{z=!1,Y&&(Y=!1,Q(O),O=-1),k=!0;var pe=A;try{t:{for(de(X),T=n(p);T!==null&&!(T.expirationTime>X&&V());){var be=T.callback;if(typeof be=="function"){T.callback=null,A=T.priorityLevel;var He=be(T.expirationTime<=X);if(X=r.unstable_now(),typeof He=="function"){T.callback=He,de(X),re=!0;break t}T===n(p)&&s(p),de(X)}else s(p);T=n(p)}if(T!==null)re=!0;else{var M=n(g);M!==null&&Ke(ae,M.startTime-X),re=!1}}break e}finally{T=null,A=pe,k=!1}re=void 0}}finally{re?D():ue=!1}}}var D;if(typeof ne=="function")D=function(){ne(w)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ue=C.port2;C.port1.onmessage=w,D=function(){Ue.postMessage(null)}}else D=function(){Z(w,0)};function Ke(X,re){O=Z(function(){X(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(X){switch(A){case 1:case 2:case 3:var re=3;break;default:re=A}var pe=A;A=re;try{return X()}finally{A=pe}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=A;A=X;try{return re()}finally{A=pe}},r.unstable_scheduleCallback=function(X,re,pe){var be=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?be+pe:be):pe=be,X){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=pe+He,X={id:E++,callback:re,priorityLevel:X,startTime:pe,expirationTime:He,sortIndex:-1},pe>be?(X.sortIndex=pe,e(g,X),n(p)===null&&X===n(g)&&(Y?(Q(O),O=-1):Y=!0,Ke(ae,pe-be))):(X.sortIndex=He,e(p,X),z||k||(z=!0,ue||(ue=!0,D()))),X},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(X){var re=A;return function(){var pe=A;A=re;try{return X.apply(this,arguments)}finally{A=pe}}}})(Am)),Am}var Wv;function vA(){return Wv||(Wv=1,bm.exports=_A()),bm.exports}var wm={exports:{}},$t={};var Jv;function EA(){if(Jv)return $t;Jv=1;var r=Qh();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},$t.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},$t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},$t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,g){return p(g)},$t.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},$t.useFormStatus=function(){return h.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var Zv;function TA(){if(Zv)return wm.exports;Zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wm.exports=EA(),wm.exports}var eE;function SA(){if(eE)return Hl;eE=1;var r=vA(),e=Qh(),n=TA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function D(t){return t===null||typeof t!="object"?null:(t=w&&t[w]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case Z:return"Profiler";case H:return"StrictMode";case ae:return"Suspense";case ue:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case ne:return t.displayName||"Context";case Q:return(t._context.displayName||"Context")+".Consumer";case de:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return i=t.displayName||null,i!==null?i:Ue(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Ue(t(i))}catch{}}return null}var Ke=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},be=[],He=-1;function M(t){return{current:t}}function te(t){0>He||(t.current=be[He],be[He]=null,He--)}function oe(t,i){He++,be[He]=t.current,t.current=i}var he=M(null),Te=M(null),Ie=M(null),ze=M(null);function Mt(t,i){switch(oe(Ie,i),oe(Te,t),oe(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?pv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=pv(i),t=gv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(he),oe(he,t)}function at(){te(he),te(Te),te(Ie)}function As(t){t.memoizedState!==null&&oe(ze,t);var i=he.current,a=gv(i,t.type);i!==a&&(oe(Te,t),oe(he,a))}function ya(t){Te.current===t&&(te(he),te(Te)),ze.current===t&&(te(ze),Ul._currentValue=pe)}var _a,va;function li(t){if(_a===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);_a=i&&i[1]||"",va=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_a+t+va}var Uo=!1;function ws(t,i){if(!t||Uo)return"";Uo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var F=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){F=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){F=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),j=S.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===j.length)for(l=N.length-1,f=j.length-1;1<=l&&0<=f&&N[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==j[f]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=f);break}}}finally{Uo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?li(a):""}function zo(t,i){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return t.child!==i&&i!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return ws(t.type,!1);case 11:return ws(t.type.render,!1);case 1:return ws(t.type,!0);case 31:return li("Activity");default:return""}}function Bo(t){try{var i="",a=null;do i+=zo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,Sr=r.unstable_cancelCallback,Sf=r.unstable_shouldYield,Mu=r.unstable_requestPaint,tn=r.unstable_now,Rs=r.unstable_getCurrentPriorityLevel,jo=r.unstable_ImmediatePriority,qo=r.unstable_UserBlockingPriority,br=r.unstable_NormalPriority,bf=r.unstable_LowPriority,Vu=r.unstable_IdlePriority,ku=r.log,Pu=r.unstable_setDisableYieldValue,Fn=null,jt=null;function Dn(t){if(typeof ku=="function"&&Pu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Fn,t)}catch{}}var pt=Math.clz32?Math.clz32:Uu,Lu=Math.log,Ea=Math.LN2;function Uu(t){return t>>>=0,t===0?32:31-(Lu(t)/Ea|0)|0}var ui=256,Cs=262144,St=4194304;function ci(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=ci(l):(_&=S,_!==0?f=ci(_):a||(a=S&~t,a!==0&&(f=ci(a))))):(S=l&~d,S!==0?f=ci(S):_!==0?f=ci(_):a||(a=l&~t,a!==0&&(f=ci(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Gn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Af(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zu(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function fi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Is(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-pt(a),ee=1<<$;S[$]=0,N[$]=-1;var F=j[$];if(F!==null)for(j[$]=null,$=0;$<F.length;$++){var K=F[$];K!==null&&(K.lane&=-536870913)}a&=~ee}l!==0&&Ds(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ds(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ho(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Fo(t,i){var a=i&-i;return a=(a&42)!==0?1:Os(a),(a&(t.suspendedLanes|i))!==0?0:a}function Os(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:zv(t.type))}function Kn(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var Qn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Qn,Lt="__reactProps$"+Qn,di="__reactContainer$"+Qn,Ta="__reactEvents$"+Qn,Rf="__reactListeners$"+Qn,ju="__reactHandles$"+Qn,qu="__reactResources$"+Qn,mi="__reactMarker$"+Qn;function Sa(t){delete t[bt],delete t[Lt],delete t[Ta],delete t[Rf],delete t[ju]}function pi(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[di]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=bv(t);t!==null;){if(a=t[bt])return a;t=bv(t)}return i}t=a,a=t.parentNode}return null}function On(t){if(t=t[bt]||t[di]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function gi(t){var i=t[qu];return i||(i=t[qu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[mi]=!0}var Go=new Set,Ko={};function yi(t,i){_i(t,i),_i(t+"Capture",i)}function _i(t,i){for(Ko[t]=i,t=0;t<i.length;t++)Go.add(i[t])}var Qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},Xo={};function Hu(t){return Tt.call(Xo,t)?!0:Tt.call(Yo,t)?!1:Qo.test(t)?Xo[t]=!0:(Yo[t]=!0,!1)}function ba(t,i,a){if(Hu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ar(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $o(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=Ar(t)?"checked":"value";t._valueTracker=$o(t,i,""+t[i])}}function Ns(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ar(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xs=/[\n"\\]/g;function on(t){return t.replace(xs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Aa(t,i,a,l,f,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ut(i)):t.value!==""+Ut(i)&&(t.value=""+Ut(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Wo(t,_,Ut(i)):a!=null?Wo(t,_,Ut(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ut(S):t.removeAttribute("name")}function Fu(t,i,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+Ut(a):"",i=i!=null?""+Ut(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function Wo(t,i,a){i==="number"&&vi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function wr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Gu(t,i,a){if(i!=null&&(i=""+Ut(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ut(a):""}function Rr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ke(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ut(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ku.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Zo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Jo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Jo(t,d,i[d])}function wa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Cr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var el=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ir=null,Ei=null;function Ms(t){var i=On(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(s(90));Aa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ns(l)}break e;case"textarea":Gu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&wr(t,!!a.multiple,i,!1)}}}var Ca=!1;function Dr(t,i,a){if(Ca)return t(i,a);Ca=!0;try{var l=t(i);return l}finally{if(Ca=!1,(Ir!==null||Ei!==null)&&(Bc(),Ir&&(i=Ir,t=Ei,Ei=Ir=null,Ms(i),t)))for(i=0;i<t.length;i++)Ms(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(xn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Vs=!1}var Ti=null,tl=null,ks=null;function nl(){if(ks)return ks;var t,i=tl,a=i.length,l,f="value"in Ti?Ti.value:Ti.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return ks=f.slice(t,1<l?1-l:void 0)}function Ps(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function qi(){return!0}function $n(){return!1}function qt(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?qi:$n,this.isPropagationStopped=$n,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),i}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=qt(Hi),Or=T({},Hi,{view:0,detail:0}),il=qt(Or),Nr,Ia,bi,Da=T({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(Nr=t.screenX-bi.screenX,Ia=t.screenY-bi.screenY):Ia=Nr=0,bi=t),Nr)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),rl=qt(Da),Ls=T({},Da,{dataTransfer:0}),Yu=qt(Ls),Xu=T({},Or,{relatedTarget:0}),Us=qt(Xu),sl=T({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),$u=qt(sl),Oa=T({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wu=qt(Oa),Ju=T({},Hi,{data:0}),Ai=qt(Ju),Zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=tc[t])?!!i[t]:!1}function xr(){return nc}var nn=T({},Or,{key:function(t){if(t.key){var i=Zu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ec[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ic=qt(nn),rc=T({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=qt(rc),c=T({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),y=qt(c),v=T({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=qt(v),U=T({},Da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=qt(U),se=T({},Hi,{newState:0,oldState:0}),Re=qt(se),gt=[9,13,27,32],Fe=xn&&"CompositionEvent"in window,ot=null;xn&&"documentMode"in document&&(ot=document.documentMode);var Mn=xn&&"TextEvent"in window&&!ot,wi=xn&&(!Fe||ot&&8<ot&&11>=ot),Wn=" ",Jn=!1;function zs(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function U1(t,i){switch(t){case"compositionend":return Na(i);case"keypress":return i.which!==32?null:(Jn=!0,Wn);case"textInput":return t=i.data,t===Wn&&Jn?null:t;default:return null}}function z1(t,i){if(xa)return t==="compositionend"||!Fe&&zs(t,i)?(t=nl(),ks=tl=Ti=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var B1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!B1[t.type]:i==="textarea"}function Cg(t,i,a,l){Ir?Ei?Ei.push(l):Ei=[l]:Ir=l,i=Qc(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var al=null,ol=null;function j1(t){uv(t,0)}function sc(t){var i=gn(t);if(Ns(i))return t}function Ig(t,i){if(t==="change")return i}var Dg=!1;if(xn){var Cf;if(xn){var If="oninput"in document;if(!If){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),If=typeof Og.oninput=="function"}Cf=If}else Cf=!1;Dg=Cf&&(!document.documentMode||9<document.documentMode)}function Ng(){al&&(al.detachEvent("onpropertychange",xg),ol=al=null)}function xg(t){if(t.propertyName==="value"&&sc(ol)){var i=[];Cg(i,ol,t,Nn(t)),Dr(j1,i)}}function q1(t,i,a){t==="focusin"?(Ng(),al=i,ol=a,al.attachEvent("onpropertychange",xg)):t==="focusout"&&Ng()}function H1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sc(ol)}function F1(t,i){if(t==="click")return sc(i)}function G1(t,i){if(t==="input"||t==="change")return sc(i)}function K1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:K1;function ll(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Tt.call(i,f)||!_n(t[f],i[f]))return!1}return!0}function Mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vg(t,i){var a=Mg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Mg(a)}}function kg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?kg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Pg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=vi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=vi(t.document)}return i}function Df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Q1=xn&&"documentMode"in document&&11>=document.documentMode,Ma=null,Of=null,ul=null,Nf=!1;function Lg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nf||Ma==null||Ma!==vi(l)||(l=Ma,"selectionStart"in l&&Df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=Qc(Of,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ma)))}function Bs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Va={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},xf={},Ug={};xn&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function js(t){if(xf[t])return xf[t];if(!Va[t])return t;var i=Va[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ug)return xf[t]=i[a];return t}var zg=js("animationend"),Bg=js("animationiteration"),jg=js("animationstart"),Y1=js("transitionrun"),X1=js("transitionstart"),$1=js("transitioncancel"),qg=js("transitionend"),Hg=new Map,Mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mf.push("scrollEnd");function Zn(t,i){Hg.set(t,i),yi(i,[t])}var ac=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],ka=0,Vf=0;function oc(){for(var t=ka,i=Vf=ka=0;i<t;){var a=Vn[i];Vn[i++]=null;var l=Vn[i];Vn[i++]=null;var f=Vn[i];Vn[i++]=null;var d=Vn[i];if(Vn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Fg(a,f,d)}}function lc(t,i,a,l){Vn[ka++]=t,Vn[ka++]=i,Vn[ka++]=a,Vn[ka++]=l,Vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function kf(t,i,a,l){return lc(t,i,a,l),uc(t)}function qs(t,i){return lc(t,null,null,i),uc(t)}function Fg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-pt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function uc(t){if(50<Nl)throw Nl=0,Fd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Pa={};function W1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new W1(t,i,a,l)}function Pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Gg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function cc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Pf(t)&&(_=1);else if(typeof t=="string")_=nA(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=vn(31,a,i,f),t.elementType=I,t.lanes=d,t;case Y:return Hs(a.children,f,d,i);case H:_=8,f|=24;break;case Z:return t=vn(12,a,i,f|2),t.elementType=Z,t.lanes=d,t;case ae:return t=vn(13,a,i,f),t.elementType=ae,t.lanes=d,t;case ue:return t=vn(19,a,i,f),t.elementType=ue,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:_=10;break e;case Q:_=9;break e;case de:_=11;break e;case O:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Hs(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function Lf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Kg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function Uf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Qg=new WeakMap;function kn(t,i){if(typeof t=="object"&&t!==null){var a=Qg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Bo(i)},Qg.set(t,i),i)}return{value:t,source:i,stack:Bo(i)}}var La=[],Ua=0,hc=null,cl=0,Pn=[],Ln=0,Mr=null,Ri=1,Ci="";function Ki(t,i){La[Ua++]=cl,La[Ua++]=hc,hc=t,cl=i}function Yg(t,i,a){Pn[Ln++]=Ri,Pn[Ln++]=Ci,Pn[Ln++]=Mr,Mr=t;var l=Ri;t=Ci;var f=32-pt(l)-1;l&=~(1<<f),a+=1;var d=32-pt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ri=1<<32-pt(i)+f|a<<f|l,Ci=d+t}else Ri=1<<d|a<<f|l,Ci=t}function zf(t){t.return!==null&&(Ki(t,1),Yg(t,1,0))}function Bf(t){for(;t===hc;)hc=La[--Ua],La[Ua]=null,cl=La[--Ua],La[Ua]=null;for(;t===Mr;)Mr=Pn[--Ln],Pn[Ln]=null,Ci=Pn[--Ln],Pn[Ln]=null,Ri=Pn[--Ln],Pn[Ln]=null}function Xg(t,i){Pn[Ln++]=Ri,Pn[Ln++]=Ci,Pn[Ln++]=Mr,Ri=i.id,Ci=i.overflow,Mr=t}var Ht=null,it=null,Le=!1,Vr=null,Un=!1,jf=Error(s(519));function kr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(kn(i,t)),jf}function $g(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[Lt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Ne(Ml[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Fu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Rr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||dv(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||kr(t,!0)}function Wg(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ht=Ht.return}}function za(t){if(t!==Ht)return!1;if(!Le)return Wg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||sm(t.type,t.memoizedProps)),a=!a),a&&it&&kr(t),Wg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=Sv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=Sv(t)}else i===27?(i=it,Xr(t.type)?(t=cm,cm=null,it=t):it=i):it=Ht?Bn(t.stateNode.nextSibling):null;return!0}function Fs(){it=Ht=null,Le=!1}function qf(){var t=Vr;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Vr=null),t}function hl(t){Vr===null?Vr=[t]:Vr.push(t)}var Hf=M(null),Gs=null,Qi=null;function Pr(t,i,a){oe(Hf,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=Hf.current,te(Hf)}function Ff(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Gf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Ff(d.return,a,t),l||(_=null);break e}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Ff(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ba(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;_n(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===ze.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}f=f.return}t!==null&&Gf(i,t,a,l),i.flags|=262144}function fc(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ks(t){Gs=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Jg(Gs,t)}function dc(t,i){return Gs===null&&Ks(t),Jg(t,i)}function Jg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Qi===null){if(t===null)throw Error(s(308));Qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qi=Qi.next=i;return a}var J1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Z1=r.unstable_scheduleCallback,eb=r.unstable_NormalPriority,Rt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new J1,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&Z1(eb,function(){t.controller.abort()})}var dl=null,Qf=0,ja=0,qa=null;function tb(t,i){if(dl===null){var a=dl=[];Qf=0,ja=$d(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qf++,i.then(Zg,Zg),i}function Zg(){if(--Qf===0&&dl!==null){qa!==null&&(qa.status="fulfilled");var t=dl;dl=null,ja=0,qa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function nb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ey=X.S;X.S=function(t,i){L_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&tb(t,i),ey!==null&&ey(t,i)};var Qs=M(null);function Yf(){var t=Qs.current;return t!==null?t:tt.pooledCache}function mc(t,i){i===null?oe(Qs,Qs.current):oe(Qs,i.pool)}function ty(){var t=Yf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Ha=Error(s(460)),Xf=Error(s(474)),pc=Error(s(542)),gc={then:function(){}};function ny(t){return t=t.status,t==="fulfilled"||t==="rejected"}function iy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,sy(t),t;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,sy(t),t}throw Xs=i,Ha}}function Ys(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xs=a,Ha):a}}var Xs=null;function ry(){if(Xs===null)throw Error(s(459));var t=Xs;return Xs=null,t}function sy(t){if(t===Ha||t===pc)throw Error(s(483))}var Fa=null,ml=0;function yc(t){var i=ml;return ml+=1,Fa===null&&(Fa=[]),iy(Fa,t,i)}function pl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function _c(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ay(t){function i(P,x){if(t){var B=P.deletions;B===null?(P.deletions=[x],P.flags|=16):B.push(x)}}function a(P,x){if(!t)return null;for(;x!==null;)i(P,x),x=x.sibling;return null}function l(P){for(var x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function f(P,x){return P=Gi(P,x),P.index=0,P.sibling=null,P}function d(P,x,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<x?(P.flags|=67108866,x):B):(P.flags|=67108866,x)):(P.flags|=1048576,x)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,x,B,W){return x===null||x.tag!==6?(x=Lf(B,P.mode,W),x.return=P,x):(x=f(x,B),x.return=P,x)}function N(P,x,B,W){var ge=B.type;return ge===Y?$(P,x,B.props.children,W,B.key):x!==null&&(x.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Ys(ge)===x.type)?(x=f(x,B.props),pl(x,B),x.return=P,x):(x=cc(B.type,B.key,B.props,null,P.mode,W),pl(x,B),x.return=P,x)}function j(P,x,B,W){return x===null||x.tag!==4||x.stateNode.containerInfo!==B.containerInfo||x.stateNode.implementation!==B.implementation?(x=Uf(B,P.mode,W),x.return=P,x):(x=f(x,B.children||[]),x.return=P,x)}function $(P,x,B,W,ge){return x===null||x.tag!==7?(x=Hs(B,P.mode,W,ge),x.return=P,x):(x=f(x,B),x.return=P,x)}function ee(P,x,B){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Lf(""+x,P.mode,B),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case k:return B=cc(x.type,x.key,x.props,null,P.mode,B),pl(B,x),B.return=P,B;case z:return x=Uf(x,P.mode,B),x.return=P,x;case R:return x=Ys(x),ee(P,x,B)}if(Ke(x)||D(x))return x=Hs(x,P.mode,B,null),x.return=P,x;if(typeof x.then=="function")return ee(P,yc(x),B);if(x.$$typeof===ne)return ee(P,dc(P,x),B);_c(P,x)}return null}function F(P,x,B,W){var ge=x!==null?x.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ge!==null?null:S(P,x,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return B.key===ge?N(P,x,B,W):null;case z:return B.key===ge?j(P,x,B,W):null;case R:return B=Ys(B),F(P,x,B,W)}if(Ke(B)||D(B))return ge!==null?null:$(P,x,B,W,null);if(typeof B.then=="function")return F(P,x,yc(B),W);if(B.$$typeof===ne)return F(P,x,dc(P,B),W);_c(P,B)}return null}function K(P,x,B,W,ge){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(B)||null,S(x,P,""+W,ge);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case k:return P=P.get(W.key===null?B:W.key)||null,N(x,P,W,ge);case z:return P=P.get(W.key===null?B:W.key)||null,j(x,P,W,ge);case R:return W=Ys(W),K(P,x,B,W,ge)}if(Ke(W)||D(W))return P=P.get(B)||null,$(x,P,W,ge,null);if(typeof W.then=="function")return K(P,x,B,yc(W),ge);if(W.$$typeof===ne)return K(P,x,B,dc(x,W),ge);_c(x,W)}return null}function fe(P,x,B,W){for(var ge=null,je=null,me=x,De=x=0,Me=null;me!==null&&De<B.length;De++){me.index>De?(Me=me,me=null):Me=me.sibling;var qe=F(P,me,B[De],W);if(qe===null){me===null&&(me=Me);break}t&&me&&qe.alternate===null&&i(P,me),x=d(qe,x,De),je===null?ge=qe:je.sibling=qe,je=qe,me=Me}if(De===B.length)return a(P,me),Le&&Ki(P,De),ge;if(me===null){for(;De<B.length;De++)me=ee(P,B[De],W),me!==null&&(x=d(me,x,De),je===null?ge=me:je.sibling=me,je=me);return Le&&Ki(P,De),ge}for(me=l(me);De<B.length;De++)Me=K(me,P,De,B[De],W),Me!==null&&(t&&Me.alternate!==null&&me.delete(Me.key===null?De:Me.key),x=d(Me,x,De),je===null?ge=Me:je.sibling=Me,je=Me);return t&&me.forEach(function(es){return i(P,es)}),Le&&Ki(P,De),ge}function _e(P,x,B,W){if(B==null)throw Error(s(151));for(var ge=null,je=null,me=x,De=x=0,Me=null,qe=B.next();me!==null&&!qe.done;De++,qe=B.next()){me.index>De?(Me=me,me=null):Me=me.sibling;var es=F(P,me,qe.value,W);if(es===null){me===null&&(me=Me);break}t&&me&&es.alternate===null&&i(P,me),x=d(es,x,De),je===null?ge=es:je.sibling=es,je=es,me=Me}if(qe.done)return a(P,me),Le&&Ki(P,De),ge;if(me===null){for(;!qe.done;De++,qe=B.next())qe=ee(P,qe.value,W),qe!==null&&(x=d(qe,x,De),je===null?ge=qe:je.sibling=qe,je=qe);return Le&&Ki(P,De),ge}for(me=l(me);!qe.done;De++,qe=B.next())qe=K(me,P,De,qe.value,W),qe!==null&&(t&&qe.alternate!==null&&me.delete(qe.key===null?De:qe.key),x=d(qe,x,De),je===null?ge=qe:je.sibling=qe,je=qe);return t&&me.forEach(function(dA){return i(P,dA)}),Le&&Ki(P,De),ge}function et(P,x,B,W){if(typeof B=="object"&&B!==null&&B.type===Y&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case k:e:{for(var ge=B.key;x!==null;){if(x.key===ge){if(ge=B.type,ge===Y){if(x.tag===7){a(P,x.sibling),W=f(x,B.props.children),W.return=P,P=W;break e}}else if(x.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Ys(ge)===x.type){a(P,x.sibling),W=f(x,B.props),pl(W,B),W.return=P,P=W;break e}a(P,x);break}else i(P,x);x=x.sibling}B.type===Y?(W=Hs(B.props.children,P.mode,W,B.key),W.return=P,P=W):(W=cc(B.type,B.key,B.props,null,P.mode,W),pl(W,B),W.return=P,P=W)}return _(P);case z:e:{for(ge=B.key;x!==null;){if(x.key===ge)if(x.tag===4&&x.stateNode.containerInfo===B.containerInfo&&x.stateNode.implementation===B.implementation){a(P,x.sibling),W=f(x,B.children||[]),W.return=P,P=W;break e}else{a(P,x);break}else i(P,x);x=x.sibling}W=Uf(B,P.mode,W),W.return=P,P=W}return _(P);case R:return B=Ys(B),et(P,x,B,W)}if(Ke(B))return fe(P,x,B,W);if(D(B)){if(ge=D(B),typeof ge!="function")throw Error(s(150));return B=ge.call(B),_e(P,x,B,W)}if(typeof B.then=="function")return et(P,x,yc(B),W);if(B.$$typeof===ne)return et(P,x,dc(P,B),W);_c(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,x!==null&&x.tag===6?(a(P,x.sibling),W=f(x,B),W.return=P,P=W):(a(P,x),W=Lf(B,P.mode,W),W.return=P,P=W),_(P)):a(P,x)}return function(P,x,B,W){try{ml=0;var ge=et(P,x,B,W);return Fa=null,ge}catch(me){if(me===Ha||me===pc)throw me;var je=vn(29,me,null,P.mode);return je.lanes=W,je.return=P,je}finally{}}}var $s=ay(!0),oy=ay(!1),Lr=!1;function $f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=uc(t),Fg(t,null,a),i}return lc(t,l,i,a),uc(t)}function gl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ho(t,a)}}function Jf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Zf=!1;function yl(){if(Zf){var t=qa;if(t!==null)throw t}}function _l(t,i,a,l){Zf=!1;var f=t.updateQueue;Lr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,j=N.next;N.next=null,_===null?d=j:_.next=j,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=j:S.next=j,$.lastBaseUpdate=N))}if(d!==null){var ee=f.baseState;_=0,$=j=N=null,S=d;do{var F=S.lane&-536870913,K=F!==S.lane;if(K?(xe&F)===F:(l&F)===F){F!==0&&F===ja&&(Zf=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=t,_e=S;F=i;var et=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){ee=fe.call(et,ee,F);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,F=typeof fe=="function"?fe.call(et,ee,F):fe,F==null)break e;ee=T({},ee,F);break e;case 2:Lr=!0}}F=S.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=f.callbacks,K===null?f.callbacks=[F]:K.push(F))}else K={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(j=$=K,N=ee):$=$.next=K,_|=F;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;K=S,S=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);$===null&&(N=ee),f.baseState=N,f.firstBaseUpdate=j,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),Fr|=_,t.lanes=_,t.memoizedState=ee}}function ly(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function uy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ly(a[t],i)}var Ga=M(null),vc=M(0);function cy(t,i){t=ir,oe(vc,t),oe(Ga,i),ir=t|i.baseLanes}function ed(){oe(vc,ir),oe(Ga,Ga.current)}function td(){ir=vc.current,te(Ga),te(vc)}var En=M(null),zn=null;function Br(t){var i=t.alternate;oe(yt,yt.current&1),oe(En,t),zn===null&&(i===null||Ga.current!==null||i.memoizedState!==null)&&(zn=t)}function nd(t){oe(yt,yt.current),oe(En,t),zn===null&&(zn=t)}function hy(t){t.tag===22?(oe(yt,yt.current),oe(En,t),zn===null&&(zn=t)):jr()}function jr(){oe(yt,yt.current),oe(En,En.current)}function Tn(t){te(En),zn===t&&(zn=null),te(yt)}var yt=M(0);function Ec(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||lm(a)||um(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,Ce=null,Je=null,Ct=null,Tc=!1,Ka=!1,Ws=!1,Sc=0,vl=0,Qa=null,ib=0;function ft(){throw Error(s(321))}function id(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function rd(t,i,a,l,f,d){return Xi=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?Yy:vd,Ws=!1,d=a(l,f),Ws=!1,Ka&&(d=dy(i,a,l,f)),fy(t),d}function fy(t){X.H=Sl;var i=Je!==null&&Je.next!==null;if(Xi=0,Ct=Je=Ce=null,Tc=!1,vl=0,Qa=null,i)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&fc(t)&&(It=!0))}function dy(t,i,a,l){Ce=t;var f=0;do{if(Ka&&(Qa=null),vl=0,Ka=!1,25<=f)throw Error(s(301));if(f+=1,Ct=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=Xy,d=i(a,l)}while(Ka);return d}function rb(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?El(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ce.flags|=1024),i}function sd(){var t=Sc!==0;return Sc=0,t}function ad(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function od(t){if(Tc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Tc=!1}Xi=0,Ct=Je=Ce=null,Ka=!1,vl=Sc=0,Qa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ce.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function _t(){if(Je===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=Ct===null?Ce.memoizedState:Ct.next;if(i!==null)Ct=i,Je=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Ct===null?Ce.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var i=vl;return vl+=1,Qa===null&&(Qa=[]),t=iy(Qa,t,i),i=Ce,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Yy:vd),t}function Ac(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===ne)return Ft(t)}throw Error(s(438,String(t)))}function ld(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=bc(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function $i(t,i){return typeof i=="function"?i(t):i}function wc(t){var i=_t();return ud(i,Je,t)}function ud(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var S=_=null,N=null,j=i,$=!1;do{var ee=j.lane&-536870913;if(ee!==j.lane?(xe&ee)===ee:(Xi&ee)===ee){var F=j.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ee===ja&&($=!0);else if((Xi&F)===F){j=j.next,F===ja&&($=!0);continue}else ee={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(S=N=ee,_=d):N=N.next=ee,Ce.lanes|=F,Fr|=F;ee=j.action,Ws&&a(d,ee),d=j.hasEagerState?j.eagerState:a(d,ee)}else F={lane:ee,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(S=N=F,_=d):N=N.next=F,Ce.lanes|=ee,Fr|=ee;j=j.next}while(j!==null&&j!==i);if(N===null?_=d:N.next=S,!_n(d,t.memoizedState)&&(It=!0,$&&(a=qa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function cd(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);_n(d,i.memoizedState)||(It=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function my(t,i,a){var l=Ce,f=_t(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((Je||f).memoizedState,a);if(_&&(f.memoizedState=a,It=!0),f=f.queue,dd(yy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ya(9,{destroy:void 0},gy.bind(null,l,f,a,i),null),tt===null)throw Error(s(349));d||(Xi&127)!==0||py(l,i,a)}return a}function py(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=bc(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function gy(t,i,a,l){i.value=a,i.getSnapshot=l,_y(i)&&vy(t)}function yy(t,i,a){return a(function(){_y(i)&&vy(t)})}function _y(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function vy(t){var i=qs(t,2);i!==null&&dn(i,t,2)}function hd(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Ws){Dn(!0);try{a()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},i}function Ey(t,i,a,l){return t.baseState=a,ud(t,Je,typeof l=="function"?l:$i)}function sb(t,i,a,l,f){if(Ic(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ty(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ty(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var S=a(f,l),N=X.S;N!==null&&N(_,S),Sy(t,i,S)}catch(j){fd(t,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),Sy(t,i,d)}catch(j){fd(t,i,j)}}function Sy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){by(t,i,l)},function(l){return fd(t,i,l)}):by(t,i,a)}function by(t,i,a){i.status="fulfilled",i.value=a,Ay(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ty(t,a)))}function fd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ay(i),i=i.next;while(i!==l)}t.action=null}function Ay(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function wy(t,i){return i}function Ry(t,i){if(Le){var a=tt.formState;if(a!==null){e:{var l=Ce;if(Le){if(it){t:{for(var f=it,d=Un;f.nodeType!==8;){if(!d){f=null;break t}if(f=Bn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){it=Bn(f.nextSibling),l=f.data==="F!";break e}}kr(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wy,lastRenderedState:i},a.queue=l,a=Gy.bind(null,Ce,l),l.dispatch=a,l=hd(!1),d=_d.bind(null,Ce,!1,l.queue),l=rn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=sb.bind(null,Ce,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Cy(t){var i=_t();return Iy(i,Je,t)}function Iy(t,i,a){if(i=ud(t,i,wy)[0],t=wc($i)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=El(i)}catch(_){throw _===Ha?pc:_}else l=i;i=_t();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,Ya(9,{destroy:void 0},ab.bind(null,f,a),null)),[l,d,t]}function ab(t,i){t.action=i}function Dy(t){var i=_t(),a=Je;if(a!==null)return Iy(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ya(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=bc(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Oy(){return _t().memoizedState}function Rc(t,i,a,l){var f=rn();Ce.flags|=t,f.memoizedState=Ya(1|i,{destroy:void 0},a,l===void 0?null:l)}function Cc(t,i,a,l){var f=_t();l=l===void 0?null:l;var d=f.memoizedState.inst;Je!==null&&l!==null&&id(l,Je.memoizedState.deps)?f.memoizedState=Ya(i,d,a,l):(Ce.flags|=t,f.memoizedState=Ya(1|i,d,a,l))}function Ny(t,i){Rc(8390656,8,t,i)}function dd(t,i){Cc(2048,8,t,i)}function ob(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=bc(),Ce.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function xy(t){var i=_t().memoizedState;return ob({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function My(t,i){return Cc(4,2,t,i)}function Vy(t,i){return Cc(4,4,t,i)}function ky(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Py(t,i,a){a=a!=null?a.concat([t]):null,Cc(4,4,ky.bind(null,i,t),a)}function md(){}function Ly(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&id(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Uy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&id(i,l[1]))return l[0];if(l=t(),Ws){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,i],l}function pd(t,i,a){return a===void 0||(Xi&1073741824)!==0&&(xe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=z_(),Ce.lanes|=t,Fr|=t,a)}function zy(t,i,a,l){return _n(a,i)?a:Ga.current!==null?(t=pd(t,a,l),_n(t,i)||(It=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(xe&261930)===0?(It=!0,t.memoizedState=a):(t=z_(),Ce.lanes|=t,Fr|=t,i)}function By(t,i,a,l,f){var d=re.p;re.p=d!==0&&8>d?d:8;var _=X.T,S={};X.T=S,_d(t,!1,i,a);try{var N=f(),j=X.S;if(j!==null&&j(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=nb(N,l);Tl(t,i,$,An(t))}else Tl(t,i,l,An(t))}catch(ee){Tl(t,i,{then:function(){},status:"rejected",reason:ee},An())}finally{re.p=d,_!==null&&S.types!==null&&(_.types=S.types),X.T=_}}function lb(){}function gd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=jy(t).queue;By(t,f,i,pe,a===null?lb:function(){return qy(t),a(l)})}function jy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function qy(t){var i=jy(t);i.next===null&&(i=t.alternate.memoizedState),Tl(t,i.next.queue,{},An())}function yd(){return Ft(Ul)}function Hy(){return _t().memoizedState}function Fy(){return _t().memoizedState}function ub(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=Ur(a);var l=zr(i,t,a);l!==null&&(dn(l,i,a),gl(l,i,a)),i={cache:Kf()},t.payload=i;return}i=i.return}}function cb(t,i,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ic(t)?Ky(i,a):(a=kf(t,i,a,l),a!==null&&(dn(a,t,l),Qy(a,i,l)))}function Gy(t,i,a){var l=An();Tl(t,i,a,l)}function Tl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ic(t))Ky(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,_n(S,_))return lc(t,i,f,0),tt===null&&oc(),!1}catch{}finally{}if(a=kf(t,i,f,l),a!==null)return dn(a,t,l),Qy(a,i,l),!0}return!1}function _d(t,i,a,l){if(l={lane:2,revertLane:$d(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ic(t)){if(i)throw Error(s(479))}else i=kf(t,a,l,2),i!==null&&dn(i,t,2)}function Ic(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function Ky(t,i){Ka=Tc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Qy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ho(t,a)}}var Sl={readContext:Ft,use:Ac,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};Sl.useEffectEvent=ft;var Yy={readContext:Ft,use:Ac,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:Ny,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Rc(4194308,4,ky.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Rc(4194308,4,t,i)},useInsertionEffect:function(t,i){Rc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Ws){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var f=a(i);if(Ws){Dn(!0);try{a(i)}finally{Dn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=cb.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=hd(t);var i=t.queue,a=Gy.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:md,useDeferredValue:function(t,i){var a=rn();return pd(a,t,i)},useTransition:function(){var t=hd(!1);return t=By.bind(null,Ce,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,f=rn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(xe&127)!==0||py(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Ny(yy.bind(null,l,d,t),[t]),l.flags|=2048,Ya(9,{destroy:void 0},gy.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=tt.identifierPrefix;if(Le){var a=Ci,l=Ri;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Sc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=ib++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:yd,useFormState:Ry,useActionState:Ry,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=_d.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:ld,useCacheRefresh:function(){return rn().memoizedState=ub.bind(null,Ce)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},vd={readContext:Ft,use:Ac,useCallback:Ly,useContext:Ft,useEffect:dd,useImperativeHandle:Py,useInsertionEffect:My,useLayoutEffect:Vy,useMemo:Uy,useReducer:wc,useRef:Oy,useState:function(){return wc($i)},useDebugValue:md,useDeferredValue:function(t,i){var a=_t();return zy(a,Je.memoizedState,t,i)},useTransition:function(){var t=wc($i)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:my,useId:Hy,useHostTransitionStatus:yd,useFormState:Cy,useActionState:Cy,useOptimistic:function(t,i){var a=_t();return Ey(a,Je,t,i)},useMemoCache:ld,useCacheRefresh:Fy};vd.useEffectEvent=xy;var Xy={readContext:Ft,use:Ac,useCallback:Ly,useContext:Ft,useEffect:dd,useImperativeHandle:Py,useInsertionEffect:My,useLayoutEffect:Vy,useMemo:Uy,useReducer:cd,useRef:Oy,useState:function(){return cd($i)},useDebugValue:md,useDeferredValue:function(t,i){var a=_t();return Je===null?pd(a,t,i):zy(a,Je.memoizedState,t,i)},useTransition:function(){var t=cd($i)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:my,useId:Hy,useHostTransitionStatus:yd,useFormState:Dy,useActionState:Dy,useOptimistic:function(t,i){var a=_t();return Je!==null?Ey(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ld,useCacheRefresh:Fy};Xy.useEffectEvent=xy;function Ed(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Td={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),f=Ur(l);f.payload=i,a!=null&&(f.callback=a),i=zr(t,f,l),i!==null&&(dn(i,t,l),gl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),f=Ur(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=zr(t,f,l),i!==null&&(dn(i,t,l),gl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=Ur(a);l.tag=2,i!=null&&(l.callback=i),i=zr(t,l,a),i!==null&&(dn(i,t,a),gl(i,t,a))}};function $y(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!ll(a,l)||!ll(f,d):!0}function Wy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Td.enqueueReplaceState(i,i.state,null)}function Js(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Jy(t){ac(t)}function Zy(t){console.error(t)}function e_(t){ac(t)}function Dc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function t_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Sd(t,i,a){return a=Ur(a),a.tag=3,a.payload={element:null},a.callback=function(){Dc(t,i)},a}function n_(t){return t=Ur(t),t.tag=3,t}function i_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){t_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){t_(i,a,l),typeof f!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function hb(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ba(i,a,f,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?jc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===gc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Qd(t,l,f)),!1;case 22:return a.flags|=65536,l===gc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Qd(t,l,f)),!1}throw Error(s(435,a.tag))}return Qd(t,l,f),jc(),!1}if(Le)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==jf&&(t=Error(s(422),{cause:l}),hl(kn(t,a)))):(l!==jf&&(i=Error(s(423),{cause:l}),hl(kn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=kn(l,a),f=Sd(t.stateNode,l,f),Jf(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),Ol===null?Ol=[d]:Ol.push(d),dt!==4&&(dt=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Sd(a.stateNode,l,t),Jf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=n_(f),i_(f,t,a,l),Jf(a,f),!1}a=a.return}while(a!==null);return!1}var bd=Error(s(461)),It=!1;function Gt(t,i,a,l){i.child=t===null?oy(i,null,a,l):$s(i,t.child,a,l)}function r_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Ks(i),l=rd(t,i,a,_,d,f),S=sd(),t!==null&&!It?(ad(t,i,f),Wi(t,i,f)):(Le&&S&&zf(i),i.flags|=1,Gt(t,i,l,f),i.child)}function s_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Pf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,a_(t,i,d,l,f)):(t=cc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Nd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(_,l)&&t.ref===i.ref)return Wi(t,i,f)}return i.flags|=1,t=Gi(d,l),t.ref=i.ref,t.return=i,i.child=t}function a_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(ll(d,l)&&t.ref===i.ref)if(It=!1,i.pendingProps=l=d,Nd(t,f))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,Wi(t,i,f)}return Ad(t,i,a,l,f)}function o_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return l_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&mc(i,d!==null?d.cachePool:null),d!==null?cy(i,d):ed(),hy(i);else return l=i.lanes=536870912,l_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(mc(i,d.cachePool),cy(i,d),jr(),i.memoizedState=null):(t!==null&&mc(i,null),ed(),jr());return Gt(t,i,f,a),i.child}function bl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function l_(t,i,a,l,f){var d=Yf();return d=d===null?null:{parent:Rt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&mc(i,null),ed(),hy(i),t!==null&&Ba(t,i,l,!0),i.childLanes=f,null}function Oc(t,i){return i=xc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function u_(t,i,a){return $s(i,t.child,null,a),t=Oc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function fb(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Oc(i,l),i.lanes=536870912,bl(null,t);if(nd(i),(t=it)?(t=Tv(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Kg(t),a.return=i,i.child=a,Ht=i,it=null)):t=null,t===null)throw kr(i);return i.lanes=536870912,null}return Oc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(nd(i),f)if(i.flags&256)i.flags&=-257,i=u_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(It||Ba(t,i,a,!1),f=(a&t.childLanes)!==0,It||f){if(l=tt,l!==null&&(_=Fo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,qs(t,_),dn(l,t,_),bd;jc(),i=u_(t,i,a)}else t=d.treeContext,it=Bn(_.nextSibling),Ht=i,Le=!0,Vr=null,Un=!1,t!==null&&Xg(i,t),i=Oc(i,l),i.flags|=4096;return i}return t=Gi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Nc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Ad(t,i,a,l,f){return Ks(i),a=rd(t,i,a,l,void 0,f),l=sd(),t!==null&&!It?(ad(t,i,f),Wi(t,i,f)):(Le&&l&&zf(i),i.flags|=1,Gt(t,i,a,f),i.child)}function c_(t,i,a,l,f,d){return Ks(i),i.updateQueue=null,a=dy(i,l,a,f),fy(t),l=sd(),t!==null&&!It?(ad(t,i,d),Wi(t,i,d)):(Le&&l&&zf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function h_(t,i,a,l,f){if(Ks(i),i.stateNode===null){var d=Pa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Td,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},$f(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Pa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ed(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Td.enqueueReplaceState(d,d.state,null),_l(i,l,d,f),yl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=Js(a,S);d.props=N;var j=d.context,$=a.contextType;_=Pa,typeof $=="object"&&$!==null&&(_=Ft($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||j!==_)&&Wy(i,d,l,_),Lr=!1;var F=i.memoizedState;d.state=F,_l(i,l,d,f),yl(),j=i.memoizedState,S||F!==j||Lr?(typeof ee=="function"&&(Ed(i,a,ee,l),j=i.memoizedState),(N=Lr||$y(i,a,N,l,F,j,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Wf(t,i),_=i.memoizedProps,$=Js(a,_),d.props=$,ee=i.pendingProps,F=d.context,j=a.contextType,N=Pa,typeof j=="object"&&j!==null&&(N=Ft(j)),S=a.getDerivedStateFromProps,(j=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||F!==N)&&Wy(i,d,l,N),Lr=!1,F=i.memoizedState,d.state=F,_l(i,l,d,f),yl();var K=i.memoizedState;_!==ee||F!==K||Lr||t!==null&&t.dependencies!==null&&fc(t.dependencies)?(typeof S=="function"&&(Ed(i,a,S,l),K=i.memoizedState),($=Lr||$y(i,a,$,l,F,K,N)||t!==null&&t.dependencies!==null&&fc(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Nc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=$s(i,t.child,null,f),i.child=$s(i,null,a,f)):Gt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Wi(t,i,f),t}function f_(t,i,a,l){return Fs(),i.flags|=256,Gt(t,i,a,l),i.child}var wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rd(t){return{baseLanes:t,cachePool:ty()}}function Cd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=bn),t}function d_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(f?Br(i):jr(),(t=it)?(t=Tv(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Kg(t),a.return=i,i.child=a,Ht=i,it=null)):t=null,t===null)throw kr(i);return um(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(jr(),f=i.mode,S=xc({mode:"hidden",children:S},f),l=Hs(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Rd(a),l.childLanes=Cd(t,_,a),i.memoizedState=wd,bl(null,l)):(Br(i),Id(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Br(i),i.flags&=-257,i=Dd(t,i,a)):i.memoizedState!==null?(jr(),i.child=t.child,i.flags|=128,i=null):(jr(),S=l.fallback,f=i.mode,l=xc({mode:"visible",children:l.children},f),S=Hs(S,f,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,$s(i,t.child,null,a),l=i.child,l.memoizedState=Rd(a),l.childLanes=Cd(t,_,a),i.memoizedState=wd,i=bl(null,l));else if(Br(i),um(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,hl({value:l,source:null,stack:null}),i=Dd(t,i,a)}else if(It||Ba(t,i,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=tt,_!==null&&(l=Fo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,qs(t,l),dn(_,t,l),bd;lm(S)||jc(),i=Dd(t,i,a)}else lm(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,it=Bn(S.nextSibling),Ht=i,Le=!0,Vr=null,Un=!1,t!==null&&Xg(i,t),i=Id(i,l.children),i.flags|=4096);return i}return f?(jr(),S=l.fallback,f=i.mode,N=t.child,j=N.sibling,l=Gi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,j!==null?S=Gi(j,S):(S=Hs(S,f,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,bl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=Rd(a):(f=S.cachePool,f!==null?(N=Rt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=ty(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Cd(t,_,a),i.memoizedState=wd,bl(t.child,l)):(Br(i),a=t.child,t=a.sibling,a=Gi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Id(t,i){return i=xc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function xc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function Dd(t,i,a){return $s(i,t.child,null,a),t=Id(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function m_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Ff(t.return,i,a)}function Od(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function p_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,oe(yt,_),Gt(t,i,l,a),l=Le?cl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&m_(t,a,i);else if(t.tag===19)m_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Ec(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Od(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Ec(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Od(i,!0,a,null,d,l);break;case"together":Od(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Wi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Fr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ba(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Gi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Gi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Nd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&fc(t)))}function db(t,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),Pr(i,Rt,t.memoizedState.cache),Fs();break;case 27:case 5:As(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:Pr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,nd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Br(i),i.flags|=128,null):(a&i.child.childLanes)!==0?d_(t,i,a):(Br(i),t=Wi(t,i,a),t!==null?t.sibling:null);Br(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ba(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return p_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(yt,yt.current),l)break;return null;case 22:return i.lanes=0,o_(t,i,a,i.pendingProps);case 24:Pr(i,Rt,t.memoizedState.cache)}return Wi(t,i,a)}function g_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!Nd(t,a)&&(i.flags&128)===0)return It=!1,db(t,i,a);It=(t.flags&131072)!==0}else It=!1,Le&&(i.flags&1048576)!==0&&Yg(i,cl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ys(i.elementType),i.type=t,typeof t=="function")Pf(t)?(l=Js(t,l),i.tag=1,i=h_(null,i,t,l,a)):(i.tag=0,i=Ad(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===de){i.tag=11,i=r_(null,i,t,l,a);break e}else if(f===O){i.tag=14,i=s_(null,i,t,l,a);break e}}throw i=Ue(t)||t,Error(s(306,i,""))}}return i;case 0:return Ad(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Js(l,i.pendingProps),h_(t,i,l,f,a);case 3:e:{if(Mt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Wf(t,i),_l(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Pr(i,Rt,l),l!==d.cache&&Gf(i,[Rt],a,!0),yl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=f_(t,i,l,a);break e}else if(l!==f){f=kn(Error(s(424)),i),hl(f),i=f_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Bn(t.firstChild),Ht=i,Le=!0,Vr=null,Un=!0,a=oy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fs(),l===f){i=Wi(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return Nc(t,i),t===null?(a=Cv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=Yc(Ie.current).createElement(a),l[bt]=i,l[Lt]=t,Kt(l,a,t),At(l),i.stateNode=l):i.memoizedState=Cv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return As(i),t===null&&Le&&(l=i.stateNode=Av(i.type,i.pendingProps,Ie.current),Ht=i,Un=!0,f=it,Xr(i.type)?(cm=f,it=Bn(l.firstChild)):it=f),Gt(t,i,i.pendingProps.children,a),Nc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((f=l=it)&&(l=Hb(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,Ht=i,it=Bn(l.firstChild),Un=!1,f=!0):f=!1),f||kr(i)),As(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,sm(f,d)?l=null:_!==null&&sm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=rd(t,i,rb,null,null,a),Ul._currentValue=f),Nc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=it)&&(a=Fb(a,i.pendingProps,Un),a!==null?(i.stateNode=a,Ht=i,it=null,t=!0):t=!1),t||kr(i)),null;case 13:return d_(t,i,a);case 4:return Mt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=$s(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return r_(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Pr(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Ks(i),f=Ft(f),l=l(f),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return s_(t,i,i.type,i.pendingProps,a);case 15:return a_(t,i,i.type,i.pendingProps,a);case 19:return p_(t,i,a);case 31:return fb(t,i,a);case 22:return o_(t,i,a,i.pendingProps);case 24:return Ks(i),l=Ft(Rt),t===null?(f=Yf(),f===null&&(f=tt,d=Kf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},$f(i),Pr(i,Rt,f)):((t.lanes&a)!==0&&(Wf(t,i),_l(i,null,null,a),yl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Pr(i,Rt,l)):(l=d.cache,Pr(i,Rt,l),l!==f.cache&&Gf(i,[Rt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ji(t){t.flags|=4}function xd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(H_())t.flags|=8192;else throw Xs=gc,Xf}else t.flags&=-16777217}function y_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xv(i))if(H_())t.flags|=8192;else throw Xs=gc,Xf}function Mc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?zu():536870912,t.lanes|=i,Ja|=i)}function Al(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function mb(t,i,a){var l=i.pendingProps;switch(Bf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yi(Rt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(za(i)?Ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qf())),rt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Ji(i),d!==null?(rt(i),y_(i,d)):(rt(i),xd(i,f,null,l,a))):d?d!==t.memoizedState?(Ji(i),rt(i),y_(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ji(i),rt(i),xd(i,f,t,l,a)),null;case 27:if(ya(i),a=Ie.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=he.current,za(i)?$g(i):(t=Av(f,l,a),i.stateNode=t,Ji(i))}return rt(i),null;case 5:if(ya(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(d=he.current,za(i))$g(i);else{var _=Yc(Ie.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[bt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Kt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ji(i)}}return rt(i),xd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ie.current,za(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||dv(t.nodeValue,a)),t||kr(i,!0)}else t=Yc(t).createTextNode(l),t[bt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=za(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=i}else Fs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=qf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=za(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[bt]=i}else Fs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else f=qf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Mc(i,i.updateQueue),rt(i),null);case 4:return at(),t===null&&em(i.stateNode.containerInfo),rt(i),null;case 10:return Yi(i.type),rt(i),null;case 19:if(te(yt),l=i.memoizedState,l===null)return rt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Al(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Ec(t),d!==null){for(i.flags|=128,Al(l,!1),t=d.updateQueue,i.updateQueue=t,Mc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Gg(a,t),a=a.sibling;return oe(yt,yt.current&1|2),Le&&Ki(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>Uc&&(i.flags|=128,f=!0,Al(l,!1),i.lanes=4194304)}else{if(!f)if(t=Ec(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Mc(i,t),Al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return rt(i),null}else 2*tn()-l.renderingStartTime>Uc&&a!==536870912&&(i.flags|=128,f=!0,Al(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=yt.current,oe(yt,f?a&1|2:a&1),Le&&Ki(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return Tn(i),td(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Mc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(Qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(Rt),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function pb(t,i){switch(Bf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(Rt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ya(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Fs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Fs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(yt),null;case 4:return at(),null;case 10:return Yi(i.type),null;case 22:case 23:return Tn(i),td(),t!==null&&te(Qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(Rt),null;case 25:return null;default:return null}}function __(t,i){switch(Bf(i),i.tag){case 3:Yi(Rt),at();break;case 26:case 27:case 5:ya(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:te(yt);break;case 10:Yi(i.type);break;case 22:case 23:Tn(i),td(),t!==null&&te(Qs);break;case 24:Yi(Rt)}}function wl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){$e(i,i.return,S)}}function qr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=i;var N=a,j=S;try{j()}catch($){$e(f,N,$)}}}l=l.next}while(l!==d)}}catch($){$e(i,i.return,$)}}function v_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{uy(i,a)}catch(l){$e(t,t.return,l)}}}function E_(t,i,a){a.props=Js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function Rl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){$e(t,i,f)}}function Ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$e(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$e(t,i,f)}else a.current=null}function T_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$e(t,t.return,f)}}function Md(t,i,a){try{var l=t.stateNode;Lb(l,t.type,a,i),l[Lt]=i}catch(f){$e(t,t.return,f)}}function S_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xr(t.type)||t.tag===4}function Vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(l!==4&&(l===27&&Xr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(kd(t,i,a),t=t.sibling;t!==null;)kd(t,i,a),t=t.sibling}function Vc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Xr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Vc(t,i,a),t=t.sibling;t!==null;)Vc(t,i,a),t=t.sibling}function b_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Kt(i,l,a),i[bt]=t,i[Lt]=a}catch(d){$e(t,t.return,d)}}var Zi=!1,Dt=!1,Pd=!1,A_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function gb(t,i){if(t=t.containerInfo,im=th,t=Pg(t),Df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,j=0,$=0,ee=t,F=null;t:for(;;){for(var K;ee!==a||f!==0&&ee.nodeType!==3||(S=_+f),ee!==d||l!==0&&ee.nodeType!==3||(N=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(K=ee.firstChild)!==null;)F=ee,ee=K;for(;;){if(ee===t)break t;if(F===a&&++j===f&&(S=_),F===d&&++$===l&&(N=_),(K=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=K}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(rm={focusedElem:t,selectionRange:a},th=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Js(a.type,f);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){$e(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)om(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":om(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function w_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:tr(t,a),l&4&&wl(5,a);break;case 1:if(tr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var f=Js(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&v_(a),l&512&&Rl(a,a.return);break;case 3:if(tr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{uy(t,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&l&4&&b_(a);case 26:case 5:tr(t,a),i===null&&l&4&&T_(a),l&512&&Rl(a,a.return);break;case 12:tr(t,a);break;case 31:tr(t,a),l&4&&I_(t,a);break;case 13:tr(t,a),l&4&&D_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=wb.bind(null,a),Gb(t,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){i=i!==null&&i.memoizedState!==null||Dt,f=Zi;var d=Dt;Zi=l,(Dt=i)&&!d?nr(t,a,(a.subtreeFlags&8772)!==0):tr(t,a),Zi=f,Dt=d}break;case 30:break;default:tr(t,a)}}function R_(t){var i=t.alternate;i!==null&&(t.alternate=null,R_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Sa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,un=!1;function er(t,i,a){for(a=a.child;a!==null;)C_(t,i,a),a=a.sibling}function C_(t,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:Dt||Ii(a,i),er(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||Ii(a,i);var l=lt,f=un;Xr(a.type)&&(lt=a.stateNode,un=!1),er(t,i,a),kl(a.stateNode),lt=l,un=f;break;case 5:Dt||Ii(a,i);case 6:if(l=lt,f=un,lt=null,er(t,i,a),lt=l,un=f,lt!==null)if(un)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:lt!==null&&(un?(t=lt,vv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ao(t)):vv(lt,a.stateNode));break;case 4:l=lt,f=un,lt=a.stateNode.containerInfo,un=!0,er(t,i,a),lt=l,un=f;break;case 0:case 11:case 14:case 15:qr(2,a,i),Dt||qr(4,a,i),er(t,i,a);break;case 1:Dt||(Ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&E_(a,i,l)),er(t,i,a);break;case 21:er(t,i,a);break;case 22:Dt=(l=Dt)||a.memoizedState!==null,er(t,i,a),Dt=l;break;default:er(t,i,a)}}function I_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ao(t)}catch(a){$e(i,i.return,a)}}}function D_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(a){$e(i,i.return,a)}}function yb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new A_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new A_),i;default:throw Error(s(435,t.tag))}}function kc(t,i){var a=yb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=Rb.bind(null,t,l);l.then(f,f)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Xr(S.type)){lt=S.stateNode,un=!1;break e}break;case 5:lt=S.stateNode,un=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,un=!0;break e}S=S.return}if(lt===null)throw Error(s(160));C_(d,_,f),lt=null,un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)O_(i,t),i=i.sibling}var ei=null;function O_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),l&4&&(qr(3,t,t.return),wl(3,t),qr(5,t,t.return));break;case 1:cn(i,t),hn(t),l&512&&(Dt||a===null||Ii(a,a.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ei;if(cn(i,t),hn(t),l&512&&(Dt||a===null||Ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[mi]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Kt(d,l,a),d[bt]=t,At(d),l=d;break e;case"link":var _=Ov("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Ov("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,At(d),l=d}t.stateNode=l}else Nv(f,t.type,t.stateNode);else t.stateNode=Dv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Nv(f,t.type,t.stateNode):Dv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Md(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),l&512&&(Dt||a===null||Ii(a,a.return)),a!==null&&l&4&&Md(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),l&512&&(Dt||a===null||Ii(a,a.return)),t.flags&32){f=t.stateNode;try{ln(f,"")}catch(fe){$e(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Md(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Pd=!0);break;case 6:if(cn(i,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){$e(t,t.return,fe)}}break;case 3:if(Wc=null,f=ei,ei=Xc(i.containerInfo),cn(i,t),ei=f,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(i.containerInfo)}catch(fe){$e(t,t.return,fe)}Pd&&(Pd=!1,N_(t));break;case 4:l=ei,ei=Xc(t.stateNode.containerInfo),cn(i,t),hn(t),ei=l;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kc(t,l)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,j=Zi,$=Dt;if(Zi=j||f,Dt=$||N,cn(i,t),Dt=$,Zi=j,hn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||Zi||Dt||Zs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var ee=N.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){$e(N,N.return,fe)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(fe){$e(N,N.return,fe)}}}else if(i.tag===18){if(a===null){N=i;try{var K=N.stateNode;f?Ev(K,!0):Ev(N.stateNode,!1)}catch(fe){$e(N,N.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kc(t,a))));break;case 19:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kc(t,l)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(S_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Vd(t);Vc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var S=Vd(t);Vc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,j=Vd(t);kd(t,j,N);break;default:throw Error(s(161))}}catch($){$e(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function N_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;N_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)w_(t,i.alternate,i),i=i.sibling}function Zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qr(4,i,i.return),Zs(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&E_(i,i.return,a),Zs(i);break;case 27:kl(i.stateNode);case 26:case 5:Ii(i,i.return),Zs(i);break;case 22:i.memoizedState===null&&Zs(i);break;case 30:Zs(i);break;default:Zs(i)}t=t.sibling}}function nr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:nr(f,d,a),wl(4,d);break;case 1:if(nr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){$e(l,l.return,j)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)ly(N[f],S)}catch(j){$e(l,l.return,j)}}a&&_&64&&v_(d),Rl(d,d.return);break;case 27:b_(d);case 26:case 5:nr(f,d,a),a&&l===null&&_&4&&T_(d),Rl(d,d.return);break;case 12:nr(f,d,a);break;case 31:nr(f,d,a),a&&_&4&&I_(f,d);break;case 13:nr(f,d,a),a&&_&4&&D_(f,d);break;case 22:d.memoizedState===null&&nr(f,d,a),Rl(d,d.return);break;case 30:break;default:nr(f,d,a)}i=i.sibling}}function Ld(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function Ud(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t))}function ti(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)x_(t,i,a,l),i=i.sibling}function x_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i,a,l),f&2048&&wl(9,i);break;case 1:ti(t,i,a,l);break;case 3:ti(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t)));break;case 12:if(f&2048){ti(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){$e(i,i.return,N)}}else ti(t,i,a,l);break;case 31:ti(t,i,a,l);break;case 13:ti(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ti(t,i,a,l):Cl(t,i):d._visibility&2?ti(t,i,a,l):(d._visibility|=2,Xa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Ld(_,i);break;case 24:ti(t,i,a,l),f&2048&&Ud(i.alternate,i);break;default:ti(t,i,a,l)}}function Xa(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:Xa(d,_,S,N,f),wl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Xa(d,_,S,N,f):Cl(d,_):($._visibility|=2,Xa(d,_,S,N,f)),f&&j&2048&&Ld(_.alternate,_);break;case 24:Xa(d,_,S,N,f),f&&j&2048&&Ud(_.alternate,_);break;default:Xa(d,_,S,N,f)}i=i.sibling}}function Cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Cl(a,l),f&2048&&Ld(l.alternate,l);break;case 24:Cl(a,l),f&2048&&Ud(l.alternate,l);break;default:Cl(a,l)}i=i.sibling}}var Il=8192;function $a(t,i,a){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)M_(t,i,a),t=t.sibling}function M_(t,i,a){switch(t.tag){case 26:$a(t,i,a),t.flags&Il&&t.memoizedState!==null&&iA(a,ei,t.memoizedState,t.memoizedProps);break;case 5:$a(t,i,a);break;case 3:case 4:var l=ei;ei=Xc(t.stateNode.containerInfo),$a(t,i,a),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Il,Il=16777216,$a(t,i,a),Il=l):$a(t,i,a));break;default:$a(t,i,a)}}function V_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Dl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,P_(l,t)}V_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)k_(t),t=t.sibling}function k_(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&qr(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Pc(t)):Dl(t);break;default:Dl(t)}}function Pc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,P_(l,t)}V_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qr(8,i,i.return),Pc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Pc(i));break;default:Pc(i)}t=t.sibling}}function P_(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:qr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var f=l.sibling,d=l.return;if(R_(l),l===a){zt=null;break e}if(f!==null){f.return=d,zt=f;break e}zt=d}}}var _b={getCacheForType:function(t){var i=Ft(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(Rt).controller.signal}},vb=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,Oe=null,xe=0,Xe=0,Sn=null,Hr=!1,Wa=!1,zd=!1,ir=0,dt=0,Fr=0,ea=0,Bd=0,bn=0,Ja=0,Ol=null,fn=null,jd=!1,Lc=0,L_=0,Uc=1/0,zc=null,Gr=null,kt=0,Kr=null,Za=null,rr=0,qd=0,Hd=null,U_=null,Nl=0,Fd=null;function An(){return(Ge&2)!==0&&xe!==0?xe&-xe:X.T!==null?$d():Bu()}function z_(){if(bn===0)if((xe&536870912)===0||Le){var t=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),bn=t}else bn=536870912;return t=En.current,t!==null&&(t.flags|=32),bn}function dn(t,i,a){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(eo(t,0),Qr(t,xe,bn,!1)),Is(t,a),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(ea|=a),dt===4&&Qr(t,xe,bn,!1)),Di(t))}function B_(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Gn(t,i),f=l?Sb(t,i):Kd(t,i,!0),d=l;do{if(f===0){Wa&&!l&&Qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Eb(a)){f=Kd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;f=Ol;var N=S.current.memoizedState.isDehydrated;if(N&&(eo(S,_).flags|=256),_=Kd(S,_,!1),_!==2){if(zd&&!N){S.errorRecoveryDisabledLanes|=d,ea|=d,f=4;break e}d=fn,fn=f,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){eo(t,0),Qr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Qr(l,i,bn,!Hr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Lc+300-tn(),10<f)){if(Qr(l,i,bn,!Hr),hi(l,0,!0)!==0)break e;rr=i,l.timeoutHandle=yv(j_.bind(null,l,a,fn,zc,jd,i,bn,ea,Ja,Hr,d,"Throttled",-0,0),f);break e}j_(l,a,fn,zc,jd,i,bn,ea,Ja,Hr,d,null,-0,0)}}break}while(!0);Di(t)}function j_(t,i,a,l,f,d,_,S,N,j,$,ee,F,K){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},M_(i,d,ee);var fe=(d&62914560)===d?Lc-tn():(d&4194048)===d?L_-tn():0;if(fe=rA(ee,fe),fe!==null){rr=d,t.cancelPendingCommit=fe(X_.bind(null,t,i,d,a,l,f,_,S,N,$,ee,null,F,K)),Qr(t,d,_,!j);return}}X_(t,i,d,a,l,f,_,S,N)}function Eb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qr(t,i,a,l){i&=~Bd,i&=~ea,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-pt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ds(t,a,i)}function Bc(){return(Ge&6)===0?(xl(0),!1):!0}function Gd(){if(Oe!==null){if(Xe===0)var t=Oe.return;else t=Oe,Qi=Gs=null,od(t),Fa=null,ml=0,t=Oe;for(;t!==null;)__(t.alternate,t),t=t.return;Oe=null}}function eo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Bb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),rr=0,Gd(),tt=t,Oe=a=Gi(t.current,null),xe=i,Xe=0,Sn=null,Hr=!1,Wa=Gn(t,i),zd=!1,Ja=bn=Bd=ea=Fr=dt=0,fn=Ol=null,jd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-pt(l),d=1<<f;i|=t[f],l&=~d}return ir=i,oc(),a}function q_(t,i){Ce=null,X.H=Sl,i===Ha||i===pc?(i=ry(),Xe=3):i===Xf?(i=ry(),Xe=4):Xe=i===bd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Oe===null&&(dt=1,Dc(t,kn(i,t.current)))}function H_(){var t=En.current;return t===null?!0:(xe&4194048)===xe?zn===null:(xe&62914560)===xe||(xe&536870912)!==0?t===zn:!1}function F_(){var t=X.H;return X.H=Sl,t===null?Sl:t}function G_(){var t=X.A;return X.A=_b,t}function jc(){dt=4,Hr||(xe&4194048)!==xe&&En.current!==null||(Wa=!0),(Fr&134217727)===0&&(ea&134217727)===0||tt===null||Qr(tt,xe,bn,!1)}function Kd(t,i,a){var l=Ge;Ge|=2;var f=F_(),d=G_();(tt!==t||xe!==i)&&(zc=null,eo(t,i)),i=!1;var _=dt;e:do try{if(Xe!==0&&Oe!==null){var S=Oe,N=Sn;switch(Xe){case 8:Gd(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var j=Xe;if(Xe=0,Sn=null,to(t,S,N,j),a&&Wa){_=0;break e}break;default:j=Xe,Xe=0,Sn=null,to(t,S,N,j)}}Tb(),_=dt;break}catch($){q_(t,$)}while(!0);return i&&t.shellSuspendCounter++,Qi=Gs=null,Ge=l,X.H=f,X.A=d,Oe===null&&(tt=null,xe=0,oc()),_}function Tb(){for(;Oe!==null;)K_(Oe)}function Sb(t,i){var a=Ge;Ge|=2;var l=F_(),f=G_();tt!==t||xe!==i?(zc=null,Uc=tn()+500,eo(t,i)):Wa=Gn(t,i);e:do try{if(Xe!==0&&Oe!==null){i=Oe;var d=Sn;t:switch(Xe){case 1:Xe=0,Sn=null,to(t,i,d,1);break;case 2:case 9:if(ny(d)){Xe=0,Sn=null,Q_(i);break}i=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),Di(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:ny(d)?(Xe=0,Sn=null,Q_(i)):(Xe=0,Sn=null,to(t,i,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var S=Oe;if(_?xv(_):S.stateNode.complete){Xe=0,Sn=null;var N=S.sibling;if(N!==null)Oe=N;else{var j=S.return;j!==null?(Oe=j,qc(j)):Oe=null}break t}}Xe=0,Sn=null,to(t,i,d,5);break;case 6:Xe=0,Sn=null,to(t,i,d,6);break;case 8:Gd(),dt=6;break e;default:throw Error(s(462))}}bb();break}catch($){q_(t,$)}while(!0);return Qi=Gs=null,X.H=l,X.A=f,Ge=a,Oe!==null?0:(tt=null,xe=0,oc(),dt)}function bb(){for(;Oe!==null&&!Sf();)K_(Oe)}function K_(t){var i=g_(t.alternate,t,ir);t.memoizedProps=t.pendingProps,i===null?qc(t):Oe=i}function Q_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=c_(a,i,i.pendingProps,i.type,void 0,xe);break;case 11:i=c_(a,i,i.pendingProps,i.type.render,i.ref,xe);break;case 5:od(i);default:__(a,i),i=Oe=Gg(i,ir),i=g_(a,i,ir)}t.memoizedProps=t.pendingProps,i===null?qc(t):Oe=i}function to(t,i,a,l){Qi=Gs=null,od(i),Fa=null,ml=0;var f=i.return;try{if(hb(t,f,i,a,xe)){dt=1,Dc(t,kn(a,t.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;dt=1,Dc(t,kn(a,t.current)),Oe=null;return}i.flags&32768?(Le||l===1?t=!0:Wa||(xe&536870912)!==0?t=!1:(Hr=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),Y_(i,t)):qc(i)}function qc(t){var i=t;do{if((i.flags&32768)!==0){Y_(i,Hr);return}t=i.return;var a=mb(i.alternate,i,ir);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);dt===0&&(dt=5)}function Y_(t,i){do{var a=pb(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);dt=6,Oe=null}function X_(t,i,a,l,f,d,_,S,N){t.cancelPendingCommit=null;do Hc();while(kt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Vf,wf(t,a,d,_,S,N),t===tt&&(Oe=tt=null,xe=0),Za=i,Kr=t,rr=a,qd=d,Hd=f,U_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Cb(br,function(){return ev(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=re.p,re.p=2,_=Ge,Ge|=4;try{gb(t,i,a)}finally{Ge=_,re.p=f,X.T=l}}kt=1,$_(),W_(),J_()}}function $_(){if(kt===1){kt=0;var t=Kr,i=Za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=re.p;re.p=2;var f=Ge;Ge|=4;try{O_(i,t);var d=rm,_=Pg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&kg(S.ownerDocument.documentElement,S)){if(N!==null&&Df(S)){var j=N.start,$=N.end;if($===void 0&&($=j),"selectionStart"in S)S.selectionStart=j,S.selectionEnd=Math.min($,S.value.length);else{var ee=S.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var K=F.getSelection(),fe=S.textContent.length,_e=Math.min(N.start,fe),et=N.end===void 0?_e:Math.min(N.end,fe);!K.extend&&_e>et&&(_=et,et=_e,_e=_);var P=Vg(S,_e),x=Vg(S,et);if(P&&x&&(K.rangeCount!==1||K.anchorNode!==P.node||K.anchorOffset!==P.offset||K.focusNode!==x.node||K.focusOffset!==x.offset)){var B=ee.createRange();B.setStart(P.node,P.offset),K.removeAllRanges(),_e>et?(K.addRange(B),K.extend(x.node,x.offset)):(B.setEnd(x.node,x.offset),K.addRange(B))}}}}for(ee=[],K=S;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var W=ee[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}th=!!im,rm=im=null}finally{Ge=f,re.p=l,X.T=a}}t.current=i,kt=2}}function W_(){if(kt===2){kt=0;var t=Kr,i=Za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=re.p;re.p=2;var f=Ge;Ge|=4;try{w_(t,i.alternate,i)}finally{Ge=f,re.p=l,X.T=a}}kt=3}}function J_(){if(kt===4||kt===3){kt=0,Mu();var t=Kr,i=Za,a=rr,l=U_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kt=5:(kt=0,Za=Kr=null,Z_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Gr=null),ji(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=re.p,re.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{X.T=i,re.p=f}}(rr&3)!==0&&Hc(),Di(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Fd?Nl++:(Nl=0,Fd=t):Nl=0,xl(0)}}function Z_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,fl(i)))}function Hc(){return $_(),W_(),J_(),ev()}function ev(){if(kt!==5)return!1;var t=Kr,i=qd;qd=0;var a=ji(rr),l=X.T,f=re.p;try{re.p=32>a?32:a,X.T=null,a=Hd,Hd=null;var d=Kr,_=rr;if(kt=0,Za=Kr=null,rr=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,k_(d.current),x_(d,d.current,_,a),Ge=S,xl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Fn,d)}catch{}return!0}finally{re.p=f,X.T=l,Z_(t,i)}}function tv(t,i,a){i=kn(a,i),i=Sd(t.stateNode,i,2),t=zr(t,i,2),t!==null&&(Is(t,2),Di(t))}function $e(t,i,a){if(t.tag===3)tv(t,t,a);else for(;i!==null;){if(i.tag===3){tv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){t=kn(a,t),a=n_(2),l=zr(i,a,2),l!==null&&(i_(a,l,i,t),Is(l,2),Di(l));break}}i=i.return}}function Qd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new vb;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(zd=!0,f.add(a),t=Ab.bind(null,t,i,a),i.then(t,t))}function Ab(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(xe&a)===a&&(dt===4||dt===3&&(xe&62914560)===xe&&300>tn()-Lc?(Ge&2)===0&&eo(t,0):Bd|=a,Ja===xe&&(Ja=0)),Di(t)}function nv(t,i){i===0&&(i=zu()),t=qs(t,i),t!==null&&(Is(t,i),Di(t))}function wb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),nv(t,a)}function Rb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),nv(t,a)}function Cb(t,i){return Vt(t,i)}var Fc=null,no=null,Yd=!1,Gc=!1,Xd=!1,Yr=0;function Di(t){t!==no&&t.next===null&&(no===null?Fc=no=t:no=no.next=t),Gc=!0,Yd||(Yd=!0,Db())}function xl(t,i){if(!Xd&&Gc){Xd=!0;do for(var a=!1,l=Fc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,av(l,d))}else d=xe,d=hi(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,av(l,d));l=l.next}while(a);Xd=!1}}function Ib(){iv()}function iv(){Gc=Yd=!1;var t=0;Yr!==0&&zb()&&(t=Yr);for(var i=tn(),a=null,l=Fc;l!==null;){var f=l.next,d=rv(l,i);d===0?(l.next=null,a===null?Fc=f:a.next=f,f===null&&(no=a)):(a=l,(t!==0||(d&3)!==0)&&(Gc=!0)),l=f}kt!==0&&kt!==5||xl(t),Yr!==0&&(Yr=0)}function rv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),S=1<<_,N=f[_];N===-1?((S&a)===0||(S&l)!==0)&&(f[_]=Af(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=tt,a=xe,a=hi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Sr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Sr(l),ji(a)){case 2:case 8:a=qo;break;case 32:a=br;break;case 268435456:a=Vu;break;default:a=br}return l=sv.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Sr(l),t.callbackPriority=2,t.callbackNode=null,2}function sv(t,i){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Hc()&&t.callbackNode!==a)return null;var l=xe;return l=hi(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(B_(t,l,i),rv(t,tn()),t.callbackNode!=null&&t.callbackNode===a?sv.bind(null,t):null)}function av(t,i){if(Hc())return null;B_(t,i,!0)}function Db(){jb(function(){(Ge&6)!==0?Vt(jo,Ib):iv()})}function $d(){if(Yr===0){var t=ja;t===0&&(t=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Yr=t}return Yr}function ov(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function lv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Ob(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=ov((f[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?ov(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Si("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var N=_?lv(f,_):new FormData(f);gd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?lv(f,_):new FormData(f),gd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Wd=0;Wd<Mf.length;Wd++){var Jd=Mf[Wd],Nb=Jd.toLowerCase(),xb=Jd[0].toUpperCase()+Jd.slice(1);Zn(Nb,"on"+xb)}Zn(zg,"onAnimationEnd"),Zn(Bg,"onAnimationIteration"),Zn(jg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(Y1,"onTransitionRun"),Zn(X1,"onTransitionStart"),Zn($1,"onTransitionCancel"),Zn(qg,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function uv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,j=S.currentTarget;if(S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=j;try{d(f)}catch($){ac($)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,j=S.currentTarget,S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=j;try{d(f)}catch($){ac($)}f.currentTarget=null,d=N}}}}function Ne(t,i){var a=i[Ta];a===void 0&&(a=i[Ta]=new Set);var l=t+"__bubble";a.has(l)||(cv(i,t,2,!1),a.add(l))}function Zd(t,i,a){var l=0;i&&(l|=4),cv(a,t,l,i)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function em(t){if(!t[Kc]){t[Kc]=!0,Go.forEach(function(a){a!=="selectionchange"&&(Mb.has(a)||Zd(a,!1,t),Zd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Kc]||(i[Kc]=!0,Zd("selectionchange",!1,i))}}function cv(t,i,a,l){switch(zv(i)){case 2:var f=oA;break;case 8:f=lA;break;default:f=pm}a=f.bind(null,i,a,t),f=void 0,!Vs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function tm(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=pi(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Dr(function(){var j=d,$=Nn(a),ee=[];e:{var F=Hg.get(t);if(F!==void 0){var K=Si,fe=t;switch(t){case"keypress":if(Ps(a)===0)break e;case"keydown":case"keyup":K=ic;break;case"focusin":fe="focus",K=Us;break;case"focusout":fe="blur",K=Us;break;case"beforeblur":case"afterblur":K=Us;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case zg:case Bg:case jg:K=$u;break;case qg:K=b;break;case"scroll":case"scrollend":K=il;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Fi;break;case"toggle":case"beforetoggle":K=Re}var _e=(i&4)!==0,et=!_e&&(t==="scroll"||t==="scrollend"),P=_e?F!==null?F+"Capture":null:F;_e=[];for(var x=j,B;x!==null;){var W=x;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||P===null||(W=Xn(x,P),W!=null&&_e.push(Vl(x,W,B))),et)break;x=x.return}0<_e.length&&(F=new K(F,fe,null,a,$),ee.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==el&&(fe=a.relatedTarget||a.fromElement)&&(pi(fe)||fe[di]))break e;if((K||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,K?(fe=a.relatedTarget||a.toElement,K=j,fe=fe?pi(fe):null,fe!==null&&(et=u(fe),_e=fe.tag,fe!==et||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(K=null,fe=j),K!==fe)){if(_e=rl,W="onMouseLeave",P="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Fi,W="onPointerLeave",P="onPointerEnter",x="pointer"),et=K==null?F:gn(K),B=fe==null?F:gn(fe),F=new _e(W,x+"leave",K,a,$),F.target=et,F.relatedTarget=B,W=null,pi($)===j&&(_e=new _e(P,x+"enter",fe,a,$),_e.target=B,_e.relatedTarget=et,W=_e),et=W,K&&fe)t:{for(_e=Vb,P=K,x=fe,B=0,W=P;W;W=_e(W))B++;W=0;for(var ge=x;ge;ge=_e(ge))W++;for(;0<B-W;)P=_e(P),B--;for(;0<W-B;)x=_e(x),W--;for(;B--;){if(P===x||x!==null&&P===x.alternate){_e=P;break t}P=_e(P),x=_e(x)}_e=null}else _e=null;K!==null&&hv(ee,F,K,_e,!1),fe!==null&&et!==null&&hv(ee,et,fe,_e,!0)}}e:{if(F=j?gn(j):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var je=Ig;else if(Rg(F))if(Dg)je=G1;else{je=H1;var me=q1}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?j&&wa(j.elementType)&&(je=Ig):je=F1;if(je&&(je=je(t,j))){Cg(ee,je,a,$);break e}me&&me(t,F,j),t==="focusout"&&j&&F.type==="number"&&j.memoizedProps.value!=null&&Wo(F,"number",F.value)}switch(me=j?gn(j):window,t){case"focusin":(Rg(me)||me.contentEditable==="true")&&(Ma=me,Of=j,ul=null);break;case"focusout":ul=Of=Ma=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,Lg(ee,a,$);break;case"selectionchange":if(Q1)break;case"keydown":case"keyup":Lg(ee,a,$)}var De;if(Fe)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else xa?zs(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(wi&&a.locale!=="ko"&&(xa||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&xa&&(De=nl()):(Ti=$,tl="value"in Ti?Ti.value:Ti.textContent,xa=!0)),me=Qc(j,Me),0<me.length&&(Me=new Ai(Me,t,null,a,$),ee.push({event:Me,listeners:me}),De?Me.data=De:(De=Na(a),De!==null&&(Me.data=De)))),(De=Mn?U1(t,a):z1(t,a))&&(Me=Qc(j,"onBeforeInput"),0<Me.length&&(me=new Ai("onBeforeInput","beforeinput",null,a,$),ee.push({event:me,listeners:Me}),me.data=De)),Ob(ee,t,j,a,$)}uv(ee,i)})}function Vl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Qc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Xn(t,a),f!=null&&l.unshift(Vl(t,f,d)),f=Xn(t,i),f!=null&&l.push(Vl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Vb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function hv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,j=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||j===null||(N=j,f?(j=Xn(a,d),j!=null&&_.unshift(Vl(a,j,N))):f||(j=Xn(a,d),j!=null&&_.push(Vl(a,j,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var kb=/\r\n?/g,Pb=/\u0000|\uFFFD/g;function fv(t){return(typeof t=="string"?t:""+t).replace(kb,`
`).replace(Pb,"")}function dv(t,i){return i=fv(i),fv(t)===i}function Ze(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":Zo(t,l,d);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",f.name,f,null),Ze(t,i,"formEncType",f.formEncType,f,null),Ze(t,i,"formMethod",f.formMethod,f,null),Ze(t,i,"formTarget",f.formTarget,f,null)):(Ze(t,i,"encType",f.encType,f,null),Ze(t,i,"method",f.method,f,null),Ze(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),ba(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qu.get(a)||a,ba(t,a,l))}}function nm(t,i,a,l,f,d){switch(a){case"style":Zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ba(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,_,a,null)}}f&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var S=d=_=f=null,N=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":j=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Ze(t,i,l,$,a,null)}}Fu(t,d,S,N,j,_,f,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Ze(t,i,f,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?wr(t,!!l,i,!1):a!=null&&wr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ze(t,i,_,S,a,null)}Rr(t,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,N,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Ne(Ml[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,j,l,a,null)}return;default:if(wa(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&nm(t,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ze(t,i,S,l,a,null))}function Lb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,N=null,j=null,$=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(K)||Ze(t,i,K,null,l,ee)}}for(var F in l){var K=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(K!=null||ee!=null))switch(F){case"type":d=K;break;case"name":f=K;break;case"checked":j=K;break;case"defaultChecked":$=K;break;case"value":_=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==ee&&Ze(t,i,F,K,l,ee)}}Aa(t,_,S,N,j,$,d,f);return;case"select":K=_=S=F=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&Ze(t,i,f,d,l,N)}i=S,a=_,l=K,F!=null?wr(t,!!a,F,!1):!!l!=!!a&&(i!=null?wr(t,!!a,i,!0):wr(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(t,i,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":F=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(t,i,_,f,l,d)}Gu(t,F,K);return;case"option":for(var fe in a)if(F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Ze(t,i,fe,null,l,F)}for(N in l)if(F=l[N],K=a[N],l.hasOwnProperty(N)&&F!==K&&(F!=null||K!=null))switch(N){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ze(t,i,N,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&Ze(t,i,_e,null,l,F);for(j in l)if(F=l[j],K=a[j],l.hasOwnProperty(j)&&F!==K&&(F!=null||K!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Ze(t,i,j,F,l,K)}return;default:if(wa(i)){for(var et in a)F=a[et],a.hasOwnProperty(et)&&F!==void 0&&!l.hasOwnProperty(et)&&nm(t,i,et,void 0,l,F);for($ in l)F=l[$],K=a[$],!l.hasOwnProperty($)||F===K||F===void 0&&K===void 0||nm(t,i,$,F,l,K);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&Ze(t,i,P,null,l,F);for(ee in l)F=l[ee],K=a[ee],!l.hasOwnProperty(ee)||F===K||F==null&&K==null||Ze(t,i,ee,F,l,K)}function mv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ub(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&mv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],j=N.startTime;if(j>S)break;var $=N.transferSize,ee=N.initiatorType;$&&mv(ee)&&(N=N.responseEnd,_+=$*(N<S?1:(S-j)/(N-j)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var im=null,rm=null;function Yc(t){return t.nodeType===9?t:t.ownerDocument}function pv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function sm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var am=null;function zb(){var t=window.event;return t&&t.type==="popstate"?t===am?!1:(am=t,!0):(am=null,!1)}var yv=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,_v=typeof Promise=="function"?Promise:void 0,jb=typeof queueMicrotask=="function"?queueMicrotask:typeof _v<"u"?function(t){return _v.resolve(null).then(t).catch(qb)}:yv;function qb(t){setTimeout(function(){throw t})}function Xr(t){return t==="head"}function vv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),ao(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")kl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,kl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[mi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&kl(t.ownerDocument.body);a=f}while(a);ao(i)}function Ev(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function om(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":om(a),Sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Hb(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[mi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function Fb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function Tv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Bn(t.nextSibling),t===null))return null;return t}function lm(t){return t.data==="$?"||t.data==="$~"}function um(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Gb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var cm=null;function Sv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Bn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function bv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Av(t,i,a){switch(i=Yc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function kl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Sa(t)}var jn=new Map,wv=new Set;function Xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var sr=re.d;re.d={f:Kb,r:Qb,D:Yb,C:Xb,L:$b,m:Wb,X:Zb,S:Jb,M:eA};function Kb(){var t=sr.f(),i=Bc();return t||i}function Qb(t){var i=On(t);i!==null&&i.tag===5&&i.type==="form"?qy(i):sr.r(t)}var io=typeof document>"u"?null:document;function Rv(t,i,a){var l=io;if(l&&typeof i=="string"&&i){var f=on(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),wv.has(f)||(wv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Kt(i,"link",t),At(i),l.head.appendChild(i)))}}function Yb(t){sr.D(t),Rv("dns-prefetch",t,null)}function Xb(t,i){sr.C(t,i),Rv("preconnect",t,i)}function $b(t,i,a){sr.L(t,i,a);var l=io;if(l&&t&&i){var f='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+on(a.imageSizes)+'"]')):f+='[href="'+on(t)+'"]';var d=f;switch(i){case"style":d=ro(t);break;case"script":d=so(t)}jn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Pl(d))||i==="script"&&l.querySelector(Ll(d))||(i=l.createElement("link"),Kt(i,"link",t),At(i),l.head.appendChild(i)))}}function Wb(t,i){sr.m(t,i);var a=io;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=so(t)}if(!jn.has(d)&&(t=T({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(d)))return}l=a.createElement("link"),Kt(l,"link",t),At(l),a.head.appendChild(l)}}}function Jb(t,i,a){sr.S(t,i,a);var l=io;if(l&&t){var f=gi(l).hoistableStyles,d=ro(t);i=i||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Pl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&hm(t,a);var N=_=l.createElement("link");At(N),Kt(N,"link",t),N._p=new Promise(function(j,$){N.onload=j,N.onerror=$}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,$c(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function Zb(t,i){sr.X(t,i);var a=io;if(a&&t){var l=gi(a).hoistableScripts,f=so(t),d=l.get(f);d||(d=a.querySelector(Ll(f)),d||(t=T({src:t,async:!0},i),(i=jn.get(f))&&fm(t,i),d=a.createElement("script"),At(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function eA(t,i){sr.M(t,i);var a=io;if(a&&t){var l=gi(a).hoistableScripts,f=so(t),d=l.get(f);d||(d=a.querySelector(Ll(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=jn.get(f))&&fm(t,i),d=a.createElement("script"),At(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Cv(t,i,a,l){var f=(f=Ie.current)?Xc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ro(a.href),a=gi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var d=gi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Pl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||tA(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=so(a),a=gi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ro(t){return'href="'+on(t)+'"'}function Pl(t){return'link[rel="stylesheet"]['+t+"]"}function Iv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function tA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),At(i),t.head.appendChild(i))}function so(t){return'[src="'+on(t)+'"]'}function Ll(t){return"script[async]"+t}function Dv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return i.instance=l,At(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Kt(l,"style",f),$c(l,a.precedence,t),i.instance=l;case"stylesheet":f=ro(a.href);var d=t.querySelector(Pl(f));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=Iv(a),(f=jn.get(f))&&hm(l,f),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Kt(d,"link",l),i.state.loading|=4,$c(d,a.precedence,t),i.instance=d;case"script":return d=so(a.src),(f=t.querySelector(Ll(d)))?(i.instance=f,At(f),f):(l=a,(f=jn.get(d))&&(l=T({},a),fm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),At(f),Kt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,$c(l,a.precedence,t));return i.instance}function $c(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function hm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function fm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Wc=null;function Ov(t,i,a){if(Wc===null){var l=new Map,f=Wc=new Map;f.set(a,l)}else f=Wc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[mi]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Nv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function nA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function xv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function iA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ro(l.href),d=i.querySelector(Pl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Jc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=Iv(l),(f=jn.get(f))&&hm(l,f),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Jc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var dm=0;function rA(t,i){return t.stylesheets&&t.count===0&&eh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&eh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&dm===0&&(dm=62500*Ub());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&eh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>dm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zc=null;function eh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zc=new Map,i.forEach(sA,t),Zc=null,Jc.call(t))}function sA(t,i){if(!(i.state.loading&4)){var a=Zc.get(t);if(a)var l=a.get(null);else{a=new Map,Zc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Jc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Ul={$$typeof:ne,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function aA(t,i,a,l,f,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Mv(t,i,a,l,f,d,_,S,N,j,$,ee){return t=new aA(t,i,a,_,N,j,$,ee,S),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Kf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},$f(d),t}function Vv(t){return t?(t=Pa,t):Pa}function kv(t,i,a,l,f,d){f=Vv(f),l.context===null?l.context=f:l.pendingContext=f,l=Ur(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=zr(t,l,i),a!==null&&(dn(a,t,i),gl(a,t,i))}function Pv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function mm(t,i){Pv(t,i),(t=t.alternate)&&Pv(t,i)}function Lv(t){if(t.tag===13||t.tag===31){var i=qs(t,67108864);i!==null&&dn(i,t,67108864),mm(t,67108864)}}function Uv(t){if(t.tag===13||t.tag===31){var i=An();i=Os(i);var a=qs(t,i);a!==null&&dn(a,t,i),mm(t,i)}}var th=!0;function oA(t,i,a,l){var f=X.T;X.T=null;var d=re.p;try{re.p=2,pm(t,i,a,l)}finally{re.p=d,X.T=f}}function lA(t,i,a,l){var f=X.T;X.T=null;var d=re.p;try{re.p=8,pm(t,i,a,l)}finally{re.p=d,X.T=f}}function pm(t,i,a,l){if(th){var f=gm(l);if(f===null)tm(t,i,l,nh,a),Bv(t,l);else if(cA(f,t,i,a,l))l.stopPropagation();else if(Bv(t,l),i&4&&-1<uA.indexOf(t)){for(;f!==null;){var d=On(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ci(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-pt(_);S.entanglements[1]|=N,_&=~N}Di(d),(Ge&6)===0&&(Uc=tn()+500,xl(0))}}break;case 31:case 13:S=qs(d,2),S!==null&&dn(S,d,2),Bc(),mm(d,2)}if(d=gm(l),d===null&&tm(t,i,l,nh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else tm(t,i,l,null,a)}}function gm(t){return t=Nn(t),ym(t)}var nh=null;function ym(t){if(nh=null,t=pi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return nh=t,null}function zv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rs()){case jo:return 2;case qo:return 8;case br:case bf:return 32;case Vu:return 268435456;default:return 32}default:return 32}}var _m=!1,$r=null,Wr=null,Jr=null,zl=new Map,Bl=new Map,Zr=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bv(t,i){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(i.pointerId)}}function jl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=On(i),i!==null&&Lv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function cA(t,i,a,l,f){switch(i){case"focusin":return $r=jl($r,t,i,a,l,f),!0;case"dragenter":return Wr=jl(Wr,t,i,a,l,f),!0;case"mouseover":return Jr=jl(Jr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return zl.set(d,jl(zl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Bl.set(d,jl(Bl.get(d)||null,t,i,a,l,f)),!0}return!1}function jv(t){var i=pi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){Uv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){Uv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ih(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=gm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);el=l,a.target.dispatchEvent(l),el=null}else return i=On(a),i!==null&&Lv(i),t.blockedOn=a,!1;i.shift()}return!0}function qv(t,i,a){ih(t)&&a.delete(i)}function hA(){_m=!1,$r!==null&&ih($r)&&($r=null),Wr!==null&&ih(Wr)&&(Wr=null),Jr!==null&&ih(Jr)&&(Jr=null),zl.forEach(qv),Bl.forEach(qv)}function rh(t,i){t.blockedOn===i&&(t.blockedOn=null,_m||(_m=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hA)))}var sh=null;function Hv(t){sh!==t&&(sh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){sh===t&&(sh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(ym(l||a)===null)continue;break}var d=On(a);d!==null&&(t.splice(i,3),i-=3,gd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ao(t){function i(N){return rh(N,t)}$r!==null&&rh($r,t),Wr!==null&&rh(Wr,t),Jr!==null&&rh(Jr,t),zl.forEach(i),Bl.forEach(i);for(var a=0;a<Zr.length;a++){var l=Zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zr.length&&(a=Zr[0],a.blockedOn===null);)jv(a),a.blockedOn===null&&Zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Lt]||null;if(typeof d=="function")_||Hv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Lt]||null)S=_.formAction;else if(ym(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Hv(a)}}}function Fv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function vm(t){this._internalRoot=t}ah.prototype.render=vm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();kv(a,l,t,i,null,null)},ah.prototype.unmount=vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;kv(t.current,2,null,t,null,null),Bc(),i[di]=null}};function ah(t){this._internalRoot=t}ah.prototype.unstable_scheduleHydration=function(t){if(t){var i=Bu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Zr.length&&i!==0&&i<Zr[a].priority;a++);Zr.splice(a,0,t),a===0&&jv(t)}};var Gv=e.version;if(Gv!=="19.2.0")throw Error(s(527,Gv,"19.2.0"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var fA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{Fn=oh.inject(fA),jt=oh}catch{}}return Hl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=Jy,d=Zy,_=e_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Mv(t,1,!1,null,null,a,l,null,f,d,_,Fv),t[di]=i.current,em(t),new vm(i)},Hl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Jy,_=Zy,S=e_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Mv(t,1,!0,i,a??null,l,f,N,d,_,S,Fv),i.context=Vv(null),a=i.current,l=An(),l=Os(l),f=Ur(l),f.callback=null,zr(a,f,l),a=l,i.current.lanes=a,Is(i,a),Di(i),t[di]=i.current,em(t),new ah(i)},Hl.version="19.2.0",Hl}var tE;function bA(){if(tE)return Sm.exports;tE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sm.exports=SA(),Sm.exports}var AA=bA();const wA=F0(AA);var Rm={exports:{}},Cm={};var nE;function RA(){if(nE)return Cm;nE=1;var r=Qh().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return Cm.c=function(e){return r.H.useMemoCache(e)},Cm}var iE;function CA(){return iE||(iE=1,Rm.exports=RA()),Rm.exports}var ai=CA();var rE="popstate";function IA(r={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=ha(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Fm("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:iu(u))}function s(o,u){In(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return OA(e,n,s,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function In(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DA(){return Math.random().toString(36).substring(2,10)}function sE(r,e){return{usr:r.state,key:r.key,idx:e}}function Fm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ha(e):e,state:n,key:e&&e.key||s||DA()}}function iu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ha(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function OA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let H=E(),Z=H==null?null:H-g;g=H,p&&p({action:m,location:Y.location,delta:Z})}function A(H,Z){m="PUSH";let Q=Fm(Y.location,H,Z);n&&n(Q,H),g=E()+1;let ne=sE(Q,g),de=Y.createHref(Q);try{h.pushState(ne,"",de)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(de)}u&&p&&p({action:m,location:Y.location,delta:1})}function k(H,Z){m="REPLACE";let Q=Fm(Y.location,H,Z);n&&n(Q,H),g=E();let ne=sE(Q,g),de=Y.createHref(Q);h.replaceState(ne,"",de),u&&p&&p({action:m,location:Y.location,delta:0})}function z(H){return NA(H)}let Y={get action(){return m},get location(){return r(o,h)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(rE,T),p=H,()=>{o.removeEventListener(rE,T),p=null}},createHref(H){return e(o,H)},createURL:z,encodeLocation(H){let Z=z(H);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:A,replace:k,go(H){return h.go(H)}};return Y}function NA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:iu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function G0(r,e,n="/"){return xA(r,e,n,!1)}function xA(r,e,n,s){let o=typeof e=="string"?ha(e):e,u=mr(o.pathname||"/",n);if(u==null)return null;let h=K0(r);MA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=FA(u);m=qA(h[p],g,s)}return m}function K0(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=cr([s,E.relativePath]),A=n.concat(E);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),K0(h.children,e,A,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:BA(T,h.index),routesMeta:A})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of Q0(h.path))u(h,m,!0,p)}),e}function Q0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=Q0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function MA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:jA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var VA=/^:[\w-]+$/,kA=3,PA=2,LA=1,UA=10,zA=-2,aE=r=>r==="*";function BA(r,e){let n=r.split("/"),s=n.length;return n.some(aE)&&(s+=zA),e&&(s+=PA),n.filter(o=>!aE(o)).reduce((o,u)=>o+(VA.test(u)?kA:u===""?LA:UA),s)}function jA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function qA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:cr([u,T.pathname]),pathnameBase:XA(cr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=cr([u,T.pathnameBase]))}return h}function Ch(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=HA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},A)=>{if(E==="*"){let z=m[A]||"";h=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const k=m[A];return T&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function HA(r,e=!1,n=!0){In(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function FA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return In(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function mr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var GA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KA=r=>GA.test(r);function QA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ha(r):r,u;if(n)if(KA(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),In(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=oE(n.substring(1),"/"):u=oE(n,e)}else u=e;return{pathname:u,search:$A(s),hash:WA(o)}}function oE(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Im(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vp(r){let e=YA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ep(r,e,n,s=!1){let o;typeof r=="string"?o=ha(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Im("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Im("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Im("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=QA(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var cr=r=>r.join("/").replace(/\/\/+/g,"/"),XA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$A=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,WA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function JA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Y0=["POST","PUT","PATCH","DELETE"];new Set(Y0);var ZA=["GET",...Y0];new Set(ZA);var Io=q.createContext(null);Io.displayName="DataRouter";var Yh=q.createContext(null);Yh.displayName="DataRouterState";q.createContext(!1);var X0=q.createContext({isTransitioning:!1});X0.displayName="ViewTransition";var ew=q.createContext(new Map);ew.displayName="Fetchers";var tw=q.createContext(null);tw.displayName="Await";var oi=q.createContext(null);oi.displayName="Navigation";var mu=q.createContext(null);mu.displayName="Location";var Bi=q.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var Tp=q.createContext(null);Tp.displayName="RouteError";function nw(r,{relative:e}={}){ut(Do(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(oi),{hash:o,pathname:u,search:h}=pu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:cr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Do(){return q.useContext(mu)!=null}function _s(){return ut(Do(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(mu).location}var $0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W0(r){q.useContext(oi).static||q.useLayoutEffect(r)}function J0(){let{isDataRoute:r}=q.useContext(Bi);return r?pw():iw()}function iw(){ut(Do(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(Io),{basename:e,navigator:n}=q.useContext(oi),{matches:s}=q.useContext(Bi),{pathname:o}=_s(),u=JSON.stringify(vp(s)),h=q.useRef(!1);return W0(()=>{h.current=!0}),q.useCallback((p,g={})=>{if(In(h.current,$0),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=Ep(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:cr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}q.createContext(null);function pu(r,{relative:e}={}){let{matches:n}=q.useContext(Bi),{pathname:s}=_s(),o=JSON.stringify(vp(n));return q.useMemo(()=>Ep(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function rw(r,e){return Z0(r,e)}function Z0(r,e,n,s,o){ut(Do(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(oi),{matches:h}=q.useContext(Bi),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let Q=T&&T.path||"";eT(g,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let A=_s(),k;if(e){let Q=typeof e=="string"?ha(e):e;ut(E==="/"||Q.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),k=Q}else k=A;let z=k.pathname||"/",Y=z;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");Y="/"+z.replace(/^\//,"").split("/").slice(Q.length).join("/")}let H=G0(r,{pathname:Y});In(T||H!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),In(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=uw(H&&H.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:cr([E,u.encodeLocation?u.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:cr([E,u.encodeLocation?u.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),h,n,s,o);return e&&Z?q.createElement(mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},Z):Z}function sw(){let r=mw(),e=JA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,h)}var aw=q.createElement(sw,null),ow=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?q.createElement(Bi.Provider,{value:this.props.routeContext},q.createElement(Tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lw({routeContext:r,match:e,children:n}){let s=q.useContext(Io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Bi.Provider,{value:r},n)}function uw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);ut(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:A,errors:k}=n,z=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||z){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:T})}:void 0;return u.reduceRight((E,T,A)=>{let k,z=!1,Y=null,H=null;n&&(k=h&&T.route.id?h[T.route.id]:void 0,Y=T.route.errorElement||aw,m&&(p<0&&A===0?(eT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,H=null):p===A&&(z=!0,H=T.route.hydrateFallbackElement||null)));let Z=e.concat(u.slice(0,A+1)),Q=()=>{let ne;return k?ne=Y:z?ne=H:T.route.Component?ne=q.createElement(T.route.Component,null):T.route.element?ne=T.route.element:ne=E,q.createElement(lw,{match:T,routeContext:{outlet:E,matches:Z,isDataRoute:n!=null},children:ne})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?q.createElement(ow,{location:n.location,revalidation:n.revalidation,component:Y,error:k,children:Q(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:g}):Q()},null)}function Sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cw(r){let e=q.useContext(Io);return ut(e,Sp(r)),e}function hw(r){let e=q.useContext(Yh);return ut(e,Sp(r)),e}function fw(r){let e=q.useContext(Bi);return ut(e,Sp(r)),e}function bp(r){let e=fw(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function dw(){return bp("useRouteId")}function mw(){let r=q.useContext(Tp),e=hw("useRouteError"),n=bp("useRouteError");return r!==void 0?r:e.errors?.[n]}function pw(){let{router:r}=cw("useNavigate"),e=bp("useNavigate"),n=q.useRef(!1);return W0(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{In(n.current,$0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var lE={};function eT(r,e,n){!e&&!lE[r]&&(lE[r]=!0,In(!1,n))}q.memo(gw);function gw({routes:r,future:e,state:n,unstable_onError:s}){return Z0(r,void 0,n,s,e)}function sa({to:r,replace:e,state:n,relative:s}){ut(Do(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(oi);In(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(Bi),{pathname:h}=_s(),m=J0(),p=Ep(r,vp(u),h,s==="path"),g=JSON.stringify(p);return q.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function ar(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!Do(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=ha(n));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:A="default"}=n,k=q.useMemo(()=>{let z=mr(p,h);return z==null?null:{location:{pathname:z,search:g,hash:E,state:T,key:A},navigationType:s}},[h,p,g,E,T,A,s]);return In(k!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:q.createElement(oi.Provider,{value:m},q.createElement(mu.Provider,{children:e,value:k}))}function _w({children:r,location:e}){return rw(Gm(r),e)}function Gm(r,e=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,Gm(s.props.children,u));return}ut(s.type===ar,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Gm(s.props.children,u)),n.push(h)}),n}var ph="get",gh="application/x-www-form-urlencoded";function Xh(r){return r!=null&&typeof r.tagName=="string"}function vw(r){return Xh(r)&&r.tagName.toLowerCase()==="button"}function Ew(r){return Xh(r)&&r.tagName.toLowerCase()==="form"}function Tw(r){return Xh(r)&&r.tagName.toLowerCase()==="input"}function Sw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function bw(r,e){return r.button===0&&(!e||e==="_self")&&!Sw(r)}var lh=null;function Aw(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var ww=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(r){return r!=null&&!ww.has(r)?(In(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):r}function Rw(r,e){let n,s,o,u,h;if(Ew(r)){let m=r.getAttribute("action");s=m?mr(m,e):null,n=r.getAttribute("method")||ph,o=Dm(r.getAttribute("enctype"))||gh,u=new FormData(r)}else if(vw(r)||Tw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?mr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ph,o=Dm(r.getAttribute("formenctype"))||Dm(m.getAttribute("enctype"))||gh,u=new FormData(m,r),!Aw()){let{name:g,type:E,value:T}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(Xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ph,s=null,o=gh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ap(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Cw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&mr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Iw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ow(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Iw(u,n);return h.links?h.links():[]}return[]}));return Vw(s.flat(1).filter(Dw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function uE(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Nw(r,e,{includeHydrateFallback:n}={}){return xw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function xw(r){return[...new Set(r)]}function Mw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Vw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Mw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function tT(){let r=q.useContext(Io);return Ap(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function kw(){let r=q.useContext(Yh);return Ap(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wp=q.createContext(void 0);wp.displayName="FrameworkContext";function nT(){let r=q.useContext(wp);return Ap(r,"You must render this element inside a <HydratedRouter> element"),r}function Pw(r,e){let n=q.useContext(wp),[s,o]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,A=q.useRef(null);q.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Y=Z=>{Z.forEach(Q=>{h(Q.isIntersecting)})},H=new IntersectionObserver(Y,{threshold:.5});return A.current&&H.observe(A.current),()=>{H.disconnect()}}},[r]),q.useEffect(()=>{if(s){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let k=()=>{o(!0)},z=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Fl(m,k),onBlur:Fl(p,z),onMouseEnter:Fl(g,k),onMouseLeave:Fl(E,z),onTouchStart:Fl(T,k)}]:[!1,A,{}]}function Fl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Lw({page:r,...e}){let{router:n}=tT(),s=q.useMemo(()=>G0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(zw,{page:r,matches:s,...e}):null}function Uw(r){let{manifest:e,routeModules:n}=nT(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return Ow(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function zw({page:r,matches:e,...n}){let s=_s(),{manifest:o,routeModules:u}=nT(),{basename:h}=tT(),{loaderData:m,matches:p}=kw(),g=q.useMemo(()=>uE(r,e,p,o,s,"data"),[r,e,p,o,s]),E=q.useMemo(()=>uE(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,Y=!1;if(e.forEach(Z=>{let Q=o.routes[Z.route.id];!Q||!Q.hasLoader||(!g.some(ne=>ne.route.id===Z.route.id)&&Z.route.id in m&&u[Z.route.id]?.shouldRevalidate||Q.hasClientLoader?Y=!0:z.add(Z.route.id))}),z.size===0)return[];let H=Cw(r,h,"data");return Y&&z.size>0&&H.searchParams.set("_routes",e.filter(Z=>z.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[H.pathname+H.search]},[h,m,s,o,g,e,r,u]),A=q.useMemo(()=>Nw(E,o),[E,o]),k=Uw(E);return q.createElement(q.Fragment,null,T.map(z=>q.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),A.map(z=>q.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),k.map(({key:z,link:Y})=>q.createElement("link",{key:z,nonce:n.nonce,...Y})))}function Bw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var iT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iT&&(window.__reactRouterVersion="7.9.6")}catch{}function jw({basename:r,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=IA({window:n,v5Compat:!0}));let o=s.current,[u,h]=q.useState({action:o.action,location:o.location}),m=q.useCallback(p=>{q.startTransition(()=>h(p))},[h]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement(yw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var rT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ni=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...A},k){let{basename:z}=q.useContext(oi),Y=typeof g=="string"&&rT.test(g),H,Z=!1;if(typeof g=="string"&&Y&&(H=g,iT))try{let I=new URL(window.location.href),V=g.startsWith("//")?new URL(I.protocol+g):new URL(g),w=mr(V.pathname,z);V.origin===I.origin&&w!=null?g=w+V.search+V.hash:Z=!0}catch{In(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=nw(g,{relative:o}),[ne,de,ae]=Pw(s,A),ue=Gw(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function O(I){e&&e(I),I.defaultPrevented||ue(I)}let R=q.createElement("a",{...A,...ae,href:H||Q,onClick:Z||u?e:O,ref:Bw(k,de),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return ne&&!Y?q.createElement(q.Fragment,null,R,q.createElement(Lw,{page:Q})):R});ni.displayName="Link";var qw=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=pu(h,{relative:g.relative}),A=_s(),k=q.useContext(Yh),{navigator:z,basename:Y}=q.useContext(oi),H=k!=null&&$w(T)&&m===!0,Z=z.encodeLocation?z.encodeLocation(T).pathname:T.pathname,Q=A.pathname,ne=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),ne=ne?ne.toLowerCase():null,Z=Z.toLowerCase()),ne&&Y&&(ne=mr(ne,Y)||ne);const de=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let ae=Q===Z||!o&&Q.startsWith(Z)&&Q.charAt(de)==="/",ue=ne!=null&&(ne===Z||!o&&ne.startsWith(Z)&&ne.charAt(Z.length)==="/"),O={isActive:ae,isPending:ue,isTransitioning:H},R=ae?e:void 0,I;typeof s=="function"?I=s(O):I=[s,ae?"active":null,ue?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(O):u;return q.createElement(ni,{...g,"aria-current":R,className:I,ref:E,style:V,to:h,viewTransition:m},typeof p=="function"?p(O):p)});qw.displayName="NavLink";var Hw=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=ph,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...A},k)=>{let z=Yw(),Y=Xw(m,{relative:g}),H=h.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&rT.test(m),Q=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let de=ne.nativeEvent.submitter,ae=de?.getAttribute("formmethod")||h;z(de||ne.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return q.createElement("form",{ref:k,method:H,action:Y,onSubmit:s?p:Q,...A,"data-discover":!Z&&r==="render"?"true":void 0})});Hw.displayName="Form";function Fw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sT(r){let e=q.useContext(Io);return ut(e,Fw(r)),e}function Gw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=J0(),p=_s(),g=pu(r,{relative:u});return q.useCallback(E=>{if(bw(E,e)){E.preventDefault();let T=n!==void 0?n:iu(p)===iu(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,r,o,u,h])}var Kw=0,Qw=()=>`__${String(++Kw)}__`;function Yw(){let{router:r}=sT("useSubmit"),{basename:e}=q.useContext(oi),n=dw();return q.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=Rw(s,e);if(o.navigate===!1){let E=o.fetcherKey||Qw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Xw(r,{relative:e}={}){let{basename:n}=q.useContext(oi),s=q.useContext(Bi);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...pu(r||".",{relative:e})},h=_s();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:cr([n,u.pathname])),iu(u)}function $w(r,{relative:e}={}){let n=q.useContext(X0);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=sT("useViewTransitionState"),o=pu(r,{relative:e});if(!n.isTransitioning)return!1;let u=mr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=mr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ch(o.pathname,h)!=null||Ch(o.pathname,u)!=null}const Ww=()=>{};var cE={};const aT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Jw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},oT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,k=g&63;p||(k=64,h||(A=64)),s.push(n[E],n[T],n[A],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(aT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Jw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new Zw;const A=u<<2|m>>4;if(s.push(A),g!==64){const k=m<<4&240|g>>2;if(s.push(k),T!==64){const z=g<<6&192|T;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Zw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eR=function(r){const e=aT(r);return oT.encodeByteArray(e,!0)},Ih=function(r){return eR(r).replace(/\./g,"")},lT=function(r){try{return oT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nR=()=>tR().__FIREBASE_DEFAULTS__,iR=()=>{if(typeof process>"u"||typeof cE>"u")return;const r=cE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},rR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&lT(r[1]);return e&&JSON.parse(e)},$h=()=>{try{return Ww()||nR()||iR()||rR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},uT=r=>$h()?.emulatorHosts?.[r],sR=r=>{const e=uT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},cT=()=>$h()?.config,hT=r=>$h()?.[`_${r}`];class aR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Oo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fT(r){return(await fetch(r,{credentials:"include"})).ok}function oR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ih(JSON.stringify(n)),Ih(JSON.stringify(h)),""].join(".")}const Wl={};function lR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?r.emulator.push(e):r.prod.push(e);return r}function uR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let hE=!1;function dT(r,e){if(typeof window>"u"||typeof document>"u"||!Oo(window.location.host)||Wl[r]===e||Wl[r]||hE)return;Wl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=lR().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,k){A.setAttribute("width","24"),A.setAttribute("id",k),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{hE=!0,h()},A}function E(A,k){A.setAttribute("id",k),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=uR(s),k=n("text"),z=document.getElementById(k)||document.createElement("span"),Y=n("learnmore"),H=document.getElementById(Y)||document.createElement("a"),Z=n("preprendIcon"),Q=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ne=A.element;m(ne),E(H,Y);const de=g();p(Q,Z),ne.append(Q,z,H,de),document.body.appendChild(ne)}u?(z.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function hR(){const r=$h()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function mR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pR(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function gR(){return!hR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yR(){try{return typeof indexedDB=="object"}catch{return!1}}function _R(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const vR="FirebaseError";class Er extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=vR,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?ER(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Er(o,m,s)}}function ER(r,e){return r.replace(TR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const TR=/\{\$([^}]+)}/g;function SR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function pr(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(fE(u)&&fE(h)){if(!pr(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function fE(r){return r!==null&&typeof r=="object"}function yu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Kl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function bR(r,e){const n=new AR(r,e);return n.subscribe.bind(n)}class AR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");wR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Om),o.error===void 0&&(o.error=Om),o.complete===void 0&&(o.complete=Om);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Om(){}function Et(r){return r&&r._delegate?r._delegate:r}class aa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class RR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new aR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IR(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CR(r){return r===ta?void 0:r}function IR(r){return r.instantiationMode==="EAGER"}class DR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const OR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},NR=Ve.INFO,xR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},MR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=xR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rp{constructor(e){this.name=e,this._logLevel=NR,this._logHandler=MR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const VR=(r,e)=>e.some(n=>r instanceof n);let dE,mE;function kR(){return dE||(dE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PR(){return mE||(mE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mT=new WeakMap,Km=new WeakMap,pT=new WeakMap,Nm=new WeakMap,Cp=new WeakMap;function LR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(os(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&mT.set(n,r)}).catch(()=>{}),Cp.set(e,r),e}function UR(r){if(Km.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Km.set(r,e)}let Qm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Km.get(r);if(e==="objectStoreNames")return r.objectStoreNames||pT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function zR(r){Qm=r(Qm)}function BR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(xm(this),e,...n);return pT.set(s,e.sort?e.sort():[e]),os(s)}:PR().includes(r)?function(...e){return r.apply(xm(this),e),os(mT.get(this))}:function(...e){return os(r.apply(xm(this),e))}}function jR(r){return typeof r=="function"?BR(r):(r instanceof IDBTransaction&&UR(r),VR(r,kR())?new Proxy(r,Qm):r)}function os(r){if(r instanceof IDBRequest)return LR(r);if(Nm.has(r))return Nm.get(r);const e=jR(r);return e!==r&&(Nm.set(r,e),Cp.set(e,r)),e}const xm=r=>Cp.get(r);function qR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=os(h);return s&&h.addEventListener("upgradeneeded",p=>{s(os(h.result),p.oldVersion,p.newVersion,os(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const HR=["get","getKey","getAll","getAllKeys","count"],FR=["put","add","delete","clear"],Mm=new Map;function pE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=FR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||HR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Mm.set(e,u),u}zR(r=>({...r,get:(e,n,s)=>pE(e,n)||r.get(e,n,s),has:(e,n)=>!!pE(e,n)||r.has(e,n)}));class GR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function KR(r){return r.getComponent()?.type==="VERSION"}const Ym="@firebase/app",gE="0.14.6";const gr=new Rp("@firebase/app"),QR="@firebase/app-compat",YR="@firebase/analytics-compat",XR="@firebase/analytics",$R="@firebase/app-check-compat",WR="@firebase/app-check",JR="@firebase/auth",ZR="@firebase/auth-compat",eC="@firebase/database",tC="@firebase/data-connect",nC="@firebase/database-compat",iC="@firebase/functions",rC="@firebase/functions-compat",sC="@firebase/installations",aC="@firebase/installations-compat",oC="@firebase/messaging",lC="@firebase/messaging-compat",uC="@firebase/performance",cC="@firebase/performance-compat",hC="@firebase/remote-config",fC="@firebase/remote-config-compat",dC="@firebase/storage",mC="@firebase/storage-compat",pC="@firebase/firestore",gC="@firebase/ai",yC="@firebase/firestore-compat",_C="firebase",vC="12.6.0";const Xm="[DEFAULT]",EC={[Ym]:"fire-core",[QR]:"fire-core-compat",[XR]:"fire-analytics",[YR]:"fire-analytics-compat",[WR]:"fire-app-check",[$R]:"fire-app-check-compat",[JR]:"fire-auth",[ZR]:"fire-auth-compat",[eC]:"fire-rtdb",[tC]:"fire-data-connect",[nC]:"fire-rtdb-compat",[iC]:"fire-fn",[rC]:"fire-fn-compat",[sC]:"fire-iid",[aC]:"fire-iid-compat",[oC]:"fire-fcm",[lC]:"fire-fcm-compat",[uC]:"fire-perf",[cC]:"fire-perf-compat",[hC]:"fire-rc",[fC]:"fire-rc-compat",[dC]:"fire-gcs",[mC]:"fire-gcs-compat",[pC]:"fire-fst",[yC]:"fire-fst-compat",[gC]:"fire-vertex","fire-js":"fire-js",[_C]:"fire-js-all"};const Dh=new Map,TC=new Map,$m=new Map;function yE(r,e){try{r.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function yo(r){const e=r.name;if($m.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,r);for(const n of Dh.values())yE(n,r);for(const n of TC.values())yE(n,r);return!0}function Ip(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function qn(r){return r==null?!1:r.settings!==void 0}const SC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new gu("app","Firebase",SC);class bC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}const No=vC;function gT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Xm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(n||(n=cT()),!n)throw ls.create("no-options");const u=Dh.get(o);if(u){if(pr(n,u.options)&&pr(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const h=new DR(o);for(const p of $m.values())h.addComponent(p);const m=new bC(n,s,h);return Dh.set(o,m),m}function yT(r=Xm){const e=Dh.get(r);if(!e&&r===Xm&&cT())return gT();if(!e)throw ls.create("no-app",{appName:r});return e}function us(r,e,n){let s=EC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(h.join(" "));return}yo(new aa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const AC="firebase-heartbeat-database",wC=1,ru="firebase-heartbeat-store";let Vm=null;function _T(){return Vm||(Vm=qR(AC,wC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(r=>{throw ls.create("idb-open",{originalErrorMessage:r.message})})),Vm}async function RC(r){try{const n=(await _T()).transaction(ru),s=await n.objectStore(ru).get(vT(r));return await n.done,s}catch(e){if(e instanceof Er)gr.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e?.message});gr.warn(n.message)}}}async function _E(r,e){try{const s=(await _T()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,vT(r)),await s.done}catch(n){if(n instanceof Er)gr.warn(n.message);else{const s=ls.create("idb-set",{originalErrorMessage:n?.message});gr.warn(s.message)}}}function vT(r){return`${r.name}!${r.options.appId}`}const CC=1024,IC=30;class DC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>IC){const o=xC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vE(),{heartbeatsToSend:n,unsentEntries:s}=OC(this._heartbeatsCache.heartbeats),o=Ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gr.warn(e),""}}}function vE(){return new Date().toISOString().substring(0,10)}function OC(r,e=CC){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),EE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),EE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class NC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yR()?_R().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _E(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _E(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function EE(r){return Ih(JSON.stringify({version:2,heartbeats:r})).length}function xC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function MC(r){yo(new aa("platform-logger",e=>new GR(e),"PRIVATE")),yo(new aa("heartbeat",e=>new DC(e),"PRIVATE")),us(Ym,gE,r),us(Ym,gE,"esm2020"),us("fire-js","")}MC("");var VC="firebase",kC="12.6.0";us(VC,kC,"app");function ET(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PC=ET,TT=new gu("auth","Firebase",ET());const Oh=new Rp("@firebase/auth");function LC(r,...e){Oh.logLevel<=Ve.WARN&&Oh.warn(`Auth (${No}): ${r}`,...e)}function yh(r,...e){Oh.logLevel<=Ve.ERROR&&Oh.error(`Auth (${No}): ${r}`,...e)}function ri(r,...e){throw Dp(r,...e)}function Ni(r,...e){return Dp(r,...e)}function ST(r,e,n){const s={...PC(),[e]:n};return new gu("auth","Firebase",s).create(e,{appName:r.name})}function hr(r){return ST(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return TT.create(r,...e)}function ve(r,e,...n){if(!r)throw Dp(e,...n)}function or(r){const e="INTERNAL ASSERTION FAILED: "+r;throw yh(e),new Error(e)}function yr(r,e){r||or(e)}function Wm(){return typeof self<"u"&&self.location?.href||""}function UC(){return TE()==="http:"||TE()==="https:"}function TE(){return typeof self<"u"&&self.location?.protocol||null}function zC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UC()||dR()||"connection"in navigator)?navigator.onLine:!0}function BC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=cR()||mR()}get(){return zC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Op(r,e){yr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class bT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HC=new _u(3e4,6e4);function vs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Es(r,e,n,s,o={}){return AT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=yu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return fR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Oo(r.emulatorConfig.host)&&(g.credentials="include"),bT.fetch()(await wT(r,r.config.apiHost,n,m),g)})}async function AT(r,e,n){r._canInitEmulator=!1;const s={...jC,...e};try{const o=new GC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw uh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw uh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw uh(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ST(r,E,g);ri(r,E)}}catch(o){if(o instanceof Er)throw o;ri(r,"network-request-failed",{message:String(o)})}}async function vu(r,e,n,s,o={}){const u=await Es(r,e,n,s,o);return"mfaPendingCredential"in u&&ri(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function wT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Op(r.config,o):`${r.config.apiScheme}://${o}`;return qC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function FC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ni(this.auth,"network-request-failed")),HC.get())})}}function uh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ni(r,e,s);return o.customData._tokenResponse=n,o}function SE(r){return r!==void 0&&r.enterprise!==void 0}class KC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QC(r,e){return Es(r,"GET","/v2/recaptchaConfig",vs(r,e))}async function YC(r,e){return Es(r,"POST","/v1/accounts:delete",e)}async function Nh(r,e){return Es(r,"POST","/v1/accounts:lookup",e)}function Jl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XC(r,e=!1){const n=Et(r),s=await n.getIdToken(e),o=Np(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Jl(km(o.auth_time)),issuedAtTime:Jl(km(o.iat)),expirationTime:Jl(km(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function km(r){return Number(r)*1e3}function Np(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=lT(n);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function bE(r){const e=Np(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function su(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Er&&$C(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function $C({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class WC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xh(r){const e=r.auth,n=await r.getIdToken(),s=await su(r,Nh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?RT(o.providerUserInfo):[],h=ZC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function JC(r){const e=Et(r);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function RT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function eI(r,e){const n=await AT(r,{},async()=>{const s=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await wT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Oo(r.emulatorConfig.host)&&(p.credentials="include"),bT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tI(r,e){return Es(r,"POST","/v2/accounts:revokeToken",vs(r,e))}class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=bE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await eI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new fo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return or("not implemented")}}function ts(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new WC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XC(this,e)}reload(){return JC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(hr(this.auth));const e=await this.getIdToken();return await su(this,YC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:k,providerData:z,stsTokenManager:Y}=n;ve(T&&Y,e,"internal-error");const H=fo.fromJSON(this.name,Y);ve(typeof T=="string",e,"internal-error"),ts(s,e.name),ts(o,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof k=="boolean",e,"internal-error"),ts(u,e.name),ts(h,e.name),ts(m,e.name),ts(p,e.name),ts(g,e.name),ts(E,e.name);const Z=new ii({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:k,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:g,lastLoginAt:E});return z&&Array.isArray(z)&&(Z.providerData=z.map(Q=>({...Q}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(e,n,s=!1){const o=new fo;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await xh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?RT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new fo;m.updateFromIdToken(s);const p=new ii({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const AE=new Map;function lr(r){yr(r instanceof Function,"Expected a class definition");let e=AE.get(r);return e?(yr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,AE.set(r,e),e)}class CT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CT.type="NONE";const wE=CT;function _h(r,e,n){return`firebase:${r}:${e}:${n}`}class mo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,u),this.fullPersistenceKey=_h("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new mo(lr(wE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||lr(wE);const h=_h(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const A=await Nh(e,{idToken:E}).catch(()=>{});if(!A)break;T=await ii._fromGetAccountInfoResponse(e,A,E)}else T=ii._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new mo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new mo(u,e,s))}}function RE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MT(e))return"Blackberry";if(VT(e))return"Webos";if(DT(e))return"Safari";if((e.includes("chrome/")||OT(e))&&!e.includes("edge/"))return"Chrome";if(xT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function IT(r=en()){return/firefox\//i.test(r)}function DT(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OT(r=en()){return/crios\//i.test(r)}function NT(r=en()){return/iemobile/i.test(r)}function xT(r=en()){return/android/i.test(r)}function MT(r=en()){return/blackberry/i.test(r)}function VT(r=en()){return/webos/i.test(r)}function xp(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function nI(r=en()){return xp(r)&&!!window.navigator?.standalone}function iI(){return pR()&&document.documentMode===10}function kT(r=en()){return xp(r)||xT(r)||VT(r)||MT(r)||/windows phone/i.test(r)||NT(r)}function PT(r,e=[]){let n;switch(r){case"Browser":n=RE(en());break;case"Worker":n=`${RE(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${No}/${s}`}class rI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function sI(r,e={}){return Es(r,"GET","/v2/passwordPolicy",vs(r,e))}const aI=6;class oI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??aI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class lI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CE(this),this.idTokenSubscription=new CE(this),this.beforeStateQueue=new rI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),s=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(hr(this));const n=e?Et(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sI(this),n=new oI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await tI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fa(r){return Et(r)}class CE{constructor(e){this.auth=e,this.observer=null,this.addObserver=bR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uI(r){Wh=r}function LT(r){return Wh.loadJS(r)}function cI(){return Wh.recaptchaEnterpriseScript}function hI(){return Wh.gapiScript}function fI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class dI{constructor(){this.enterprise=new mI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const pI="recaptcha-enterprise",UT="NO_RECAPTCHA";class gI{constructor(e){this.type=pI,this.auth=fa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{QC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new KC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;SE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(UT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&SE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=cI();p.length!==0&&(p+=m),LT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function IE(r,e,n,s=!1,o=!1){const u=new gI(r);let h;if(o)h=UT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Zm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await IE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await IE(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function yI(r,e){const n=Ip(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(pr(u,e??{}))return o;ri(o,"already-initialized")}return n.initialize({options:e})}function _I(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(lr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function vI(r,e,n){const s=fa(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=zT(e),{host:h,port:m}=EI(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(pr(g,s.config.emulator)&&pr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Oo(h)?(fT(`${u}//${h}${p}`),dT("Auth",!0)):TI()}function zT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function EI(r){const e=zT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:DE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:DE(h)}}}function DE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function TI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Mp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function SI(r,e){return Es(r,"POST","/v1/accounts:signUp",e)}async function bI(r,e){return vu(r,"POST","/v1/accounts:signInWithPassword",vs(r,e))}async function AI(r,e){return vu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}async function wI(r,e){return vu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}class au extends Mp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,n,"signInWithPassword",bI);case"emailLink":return AI(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,s,"signUpPassword",SI);case"emailLink":return wI(e,{idToken:n,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function po(r,e){return vu(r,"POST","/v1/accounts:signInWithIdp",vs(r,e))}const RI="http://localhost";class oa extends Mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new oa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,po(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:RI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yu(n)}return e}}function CI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function II(r){const e=Gl(Kl(r)).link,n=e?Gl(Kl(e)).deep_link_id:null,s=Gl(Kl(r)).deep_link_id;return(s?Gl(Kl(s)).link:null)||s||n||e||r}class Vp{constructor(e){const n=Gl(Kl(e)),s=n.apiKey??null,o=n.oobCode??null,u=CI(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=II(e);try{return new Vp(n)}catch{return null}}}class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Vp.parseLink(n);return ve(s,"argument-error"),au._fromEmailAndCode(e,s.code,s.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class BT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Eu extends BT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ns extends Eu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";class is extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return is.credential(n,s)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";class rs extends Eu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";class ss extends Eu{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ss.credential(n,s)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";async function DI(r,e){return vu(r,"POST","/v1/accounts:signUp",vs(r,e))}class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ii._fromIdTokenResponse(e,s,o),h=OE(s);return new la({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=OE(s);return new la({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function OE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Mh extends Er{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Mh(e,n,s,o)}}function jT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(r,u,e,s):u})}async function OI(r,e,n=!1){const s=await su(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return la._forOperation(r,"link",s)}async function NI(r,e,n=!1){const{auth:s}=r;if(qn(s.app))return Promise.reject(hr(s));const o="reauthenticate";try{const u=await su(r,jT(s,o,e,r),n);ve(u.idToken,s,"internal-error");const h=Np(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(r.uid===m,s,"user-mismatch"),la._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ri(s,"user-mismatch"),u}}async function qT(r,e,n=!1){if(qn(r.app))return Promise.reject(hr(r));const s="signIn",o=await jT(r,s,e),u=await la._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function xI(r,e){return qT(fa(r),e)}async function HT(r){const e=fa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MI(r,e,n){if(qn(r.app))return Promise.reject(hr(r));const s=fa(r),h=await Zm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&HT(r),p}),m=await la._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function VI(r,e,n){return qn(r.app)?Promise.reject(hr(r)):xI(Et(r),xo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&HT(r),s})}function kI(r,e,n,s){return Et(r).onIdTokenChanged(e,n,s)}function PI(r,e,n){return Et(r).beforeAuthStateChanged(e,n)}function LI(r,e,n,s){return Et(r).onAuthStateChanged(e,n,s)}function UI(r){return Et(r).signOut()}const Vh="__sak";class FT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const zI=1e3,BI=10;class GT extends FT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);iI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,BI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},zI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GT.type="LOCAL";const jI=GT;class KT extends FT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KT.type="SESSION";const QT=KT;function qI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Jh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await qI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];function kp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class HI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=kp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function xi(){return window}function FI(r){xi().location.href=r}function YT(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function GI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KI(){return navigator?.serviceWorker?.controller||null}function QI(){return YT()?self:null}const XT="firebaseLocalStorageDb",YI=1,kh="firebaseLocalStorage",$T="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(r,e){return r.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function XI(){const r=indexedDB.deleteDatabase(XT);return new Tu(r).toPromise()}function ep(){const r=indexedDB.open(XT,YI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(kh,{keyPath:$T})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(kh)?e(s):(s.close(),await XI(),e(await ep()))})})}async function NE(r,e,n){const s=Zh(r,!0).put({[$T]:e,value:n});return new Tu(s).toPromise()}async function $I(r,e){const n=Zh(r,!1).get(e),s=await new Tu(n).toPromise();return s===void 0?null:s.value}function xE(r,e){const n=Zh(r,!0).delete(e);return new Tu(n).toPromise()}const WI=800,JI=3;class WT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>JI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(QI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GI(),!this.activeServiceWorker)return;this.sender=new HI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await NE(e,Vh,"1"),await xE(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>NE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>$I(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Zh(o,!1).getAll();return new Tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WT.type="LOCAL";const ZI=WT;new _u(3e4,6e4);function e2(r,e){return e?lr(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Pp extends Mp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function t2(r){return qT(r.auth,new Pp(r),r.bypassAuthState)}function n2(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),NI(n,new Pp(r),r.bypassAuthState)}async function i2(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),OI(n,new Pp(r),r.bypassAuthState)}class JT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t2;case"linkViaPopup":case"linkViaRedirect":return i2;case"reauthViaPopup":case"reauthViaRedirect":return n2;default:ri(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const r2=new _u(2e3,1e4);class ho extends JT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r2.get())};e()}}ho.currentPopupAction=null;const s2="pendingRedirect",vh=new Map;class a2 extends JT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const s=await o2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o2(r,e){const n=c2(e),s=u2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function l2(r,e){vh.set(r._key(),e)}function u2(r){return lr(r._redirectPersistence)}function c2(r){return _h(s2,r.config.apiKey,r.name)}async function h2(r,e,n=!1){if(qn(r.app))return Promise.reject(hr(r));const s=fa(r),o=e2(s,e),h=await new a2(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const f2=600*1e3;class d2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ZT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ni(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f2&&this.cachedEventUids.clear(),this.cachedEventUids.has(ME(e))}saveEventToCache(e){this.cachedEventUids.add(ME(e)),this.lastProcessedEventTime=Date.now()}}function ME(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ZT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function m2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZT(r);default:return!1}}async function p2(r,e={}){return Es(r,"GET","/v1/projects",e)}const g2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y2=/^https?/;async function _2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await p2(r);for(const n of e)try{if(v2(n))return}catch{}ri(r,"unauthorized-domain")}function v2(r){const e=Wm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!y2.test(n))return!1;if(g2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const E2=new _u(3e4,6e4);function VE(){const r=xi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function T2(r){return new Promise((e,n)=>{function s(){VE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VE(),n(Ni(r,"network-request-failed"))},timeout:E2.get()})}if(xi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xi().gapi?.load)s();else{const o=fI("iframefcb");return xi()[o]=()=>{gapi.load?s():n(Ni(r,"network-request-failed"))},LT(`${hI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function S2(r){return Eh=Eh||T2(r),Eh}const b2=new _u(5e3,15e3),A2="__/auth/iframe",w2="emulator/auth/iframe",R2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I2(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Op(e,w2):`https://${r.config.authDomain}/${A2}`,s={apiKey:e.apiKey,appName:r.name,v:No},o=C2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${yu(s).slice(1)}`}async function D2(r){const e=await S2(r),n=xi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:I2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ni(r,"network-request-failed"),m=xi().setTimeout(()=>{u(h)},b2.get());function p(){xi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const O2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N2=500,x2=600,M2="_blank",V2="http://localhost";class kE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k2(r,e,n,s=N2,o=x2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...O2,width:s.toString(),height:o.toString(),top:u,left:h},g=en().toLowerCase();n&&(m=OT(g)?M2:n),IT(g)&&(e=e||V2,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[k,z])=>`${A}${k}=${z},`,"");if(nI(g)&&m!=="_self")return P2(e||"",m),new kE(null);const T=window.open(e||"",m,E);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new kE(T)}function P2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const L2="__/auth/handler",U2="emulator/auth/handler",z2=encodeURIComponent("fac");async function PE(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:No,eventId:o};if(e instanceof BT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",SR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Eu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${z2}=${encodeURIComponent(p)}`:"";return`${B2(r)}?${yu(m).slice(1)}${g}`}function B2({config:r}){return r.emulator?Op(r,U2):`https://${r.authDomain}/${L2}`}const Pm="webStorageSupport";class j2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QT,this._completeRedirectFn=h2,this._overrideRedirectResult=l2}async _openPopup(e,n,s,o){yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await PE(e,n,s,Wm(),o);return k2(e,u,kp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await PE(e,n,s,Wm(),o);return FI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await D2(e),s=new d2(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pm,{type:Pm},o=>{const u=o?.[0]?.[Pm];u!==void 0&&n(!!u),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kT()||DT()||xp()}}const q2=j2;var LE="@firebase/auth",UE="1.11.1";class H2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function F2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G2(r){yo(new aa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PT(r)},g=new lI(s,o,u,p);return _I(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),yo(new aa("auth-internal",e=>{const n=fa(e.getProvider("auth").getImmediate());return(s=>new H2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(LE,UE,F2(r)),us(LE,UE,"esm2020")}const K2=300,Q2=hT("authIdTokenMaxAge")||K2;let zE=null;const Y2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Q2)return;const o=n?.token;zE!==o&&(zE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function X2(r=yT()){const e=Ip(r,"auth");if(e.isInitialized())return e.getImmediate();const n=yI(r,{popupRedirectResolver:q2,persistence:[ZI,jI,QT]}),s=hT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=Y2(u.toString());PI(n,h,()=>h(n.currentUser)),kI(n,m=>h(m))}}const o=uT("auth");return o&&vI(n,`http://${o}`),n}function $2(){return document.getElementsByTagName("head")?.[0]??document}uI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ni("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",$2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G2("Browser");var BE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cs,eS;(function(){var r;function e(O,R){function I(){}I.prototype=R.prototype,O.F=R.prototype,O.prototype=new I,O.prototype.constructor=O,O.D=function(V,w,D){for(var C=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)C[Ue-2]=arguments[Ue];return R.prototype[w].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,I){I||(I=0);const V=Array(16);if(typeof R=="string")for(var w=0;w<16;++w)V[w]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(w=0;w<16;++w)V[w]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=O.g[0],I=O.g[1],w=O.g[2];let D=O.g[3],C;C=R+(D^I&(w^D))+V[0]+3614090360&4294967295,R=I+(C<<7&4294967295|C>>>25),C=D+(w^R&(I^w))+V[1]+3905402710&4294967295,D=R+(C<<12&4294967295|C>>>20),C=w+(I^D&(R^I))+V[2]+606105819&4294967295,w=D+(C<<17&4294967295|C>>>15),C=I+(R^w&(D^R))+V[3]+3250441966&4294967295,I=w+(C<<22&4294967295|C>>>10),C=R+(D^I&(w^D))+V[4]+4118548399&4294967295,R=I+(C<<7&4294967295|C>>>25),C=D+(w^R&(I^w))+V[5]+1200080426&4294967295,D=R+(C<<12&4294967295|C>>>20),C=w+(I^D&(R^I))+V[6]+2821735955&4294967295,w=D+(C<<17&4294967295|C>>>15),C=I+(R^w&(D^R))+V[7]+4249261313&4294967295,I=w+(C<<22&4294967295|C>>>10),C=R+(D^I&(w^D))+V[8]+1770035416&4294967295,R=I+(C<<7&4294967295|C>>>25),C=D+(w^R&(I^w))+V[9]+2336552879&4294967295,D=R+(C<<12&4294967295|C>>>20),C=w+(I^D&(R^I))+V[10]+4294925233&4294967295,w=D+(C<<17&4294967295|C>>>15),C=I+(R^w&(D^R))+V[11]+2304563134&4294967295,I=w+(C<<22&4294967295|C>>>10),C=R+(D^I&(w^D))+V[12]+1804603682&4294967295,R=I+(C<<7&4294967295|C>>>25),C=D+(w^R&(I^w))+V[13]+4254626195&4294967295,D=R+(C<<12&4294967295|C>>>20),C=w+(I^D&(R^I))+V[14]+2792965006&4294967295,w=D+(C<<17&4294967295|C>>>15),C=I+(R^w&(D^R))+V[15]+1236535329&4294967295,I=w+(C<<22&4294967295|C>>>10),C=R+(w^D&(I^w))+V[1]+4129170786&4294967295,R=I+(C<<5&4294967295|C>>>27),C=D+(I^w&(R^I))+V[6]+3225465664&4294967295,D=R+(C<<9&4294967295|C>>>23),C=w+(R^I&(D^R))+V[11]+643717713&4294967295,w=D+(C<<14&4294967295|C>>>18),C=I+(D^R&(w^D))+V[0]+3921069994&4294967295,I=w+(C<<20&4294967295|C>>>12),C=R+(w^D&(I^w))+V[5]+3593408605&4294967295,R=I+(C<<5&4294967295|C>>>27),C=D+(I^w&(R^I))+V[10]+38016083&4294967295,D=R+(C<<9&4294967295|C>>>23),C=w+(R^I&(D^R))+V[15]+3634488961&4294967295,w=D+(C<<14&4294967295|C>>>18),C=I+(D^R&(w^D))+V[4]+3889429448&4294967295,I=w+(C<<20&4294967295|C>>>12),C=R+(w^D&(I^w))+V[9]+568446438&4294967295,R=I+(C<<5&4294967295|C>>>27),C=D+(I^w&(R^I))+V[14]+3275163606&4294967295,D=R+(C<<9&4294967295|C>>>23),C=w+(R^I&(D^R))+V[3]+4107603335&4294967295,w=D+(C<<14&4294967295|C>>>18),C=I+(D^R&(w^D))+V[8]+1163531501&4294967295,I=w+(C<<20&4294967295|C>>>12),C=R+(w^D&(I^w))+V[13]+2850285829&4294967295,R=I+(C<<5&4294967295|C>>>27),C=D+(I^w&(R^I))+V[2]+4243563512&4294967295,D=R+(C<<9&4294967295|C>>>23),C=w+(R^I&(D^R))+V[7]+1735328473&4294967295,w=D+(C<<14&4294967295|C>>>18),C=I+(D^R&(w^D))+V[12]+2368359562&4294967295,I=w+(C<<20&4294967295|C>>>12),C=R+(I^w^D)+V[5]+4294588738&4294967295,R=I+(C<<4&4294967295|C>>>28),C=D+(R^I^w)+V[8]+2272392833&4294967295,D=R+(C<<11&4294967295|C>>>21),C=w+(D^R^I)+V[11]+1839030562&4294967295,w=D+(C<<16&4294967295|C>>>16),C=I+(w^D^R)+V[14]+4259657740&4294967295,I=w+(C<<23&4294967295|C>>>9),C=R+(I^w^D)+V[1]+2763975236&4294967295,R=I+(C<<4&4294967295|C>>>28),C=D+(R^I^w)+V[4]+1272893353&4294967295,D=R+(C<<11&4294967295|C>>>21),C=w+(D^R^I)+V[7]+4139469664&4294967295,w=D+(C<<16&4294967295|C>>>16),C=I+(w^D^R)+V[10]+3200236656&4294967295,I=w+(C<<23&4294967295|C>>>9),C=R+(I^w^D)+V[13]+681279174&4294967295,R=I+(C<<4&4294967295|C>>>28),C=D+(R^I^w)+V[0]+3936430074&4294967295,D=R+(C<<11&4294967295|C>>>21),C=w+(D^R^I)+V[3]+3572445317&4294967295,w=D+(C<<16&4294967295|C>>>16),C=I+(w^D^R)+V[6]+76029189&4294967295,I=w+(C<<23&4294967295|C>>>9),C=R+(I^w^D)+V[9]+3654602809&4294967295,R=I+(C<<4&4294967295|C>>>28),C=D+(R^I^w)+V[12]+3873151461&4294967295,D=R+(C<<11&4294967295|C>>>21),C=w+(D^R^I)+V[15]+530742520&4294967295,w=D+(C<<16&4294967295|C>>>16),C=I+(w^D^R)+V[2]+3299628645&4294967295,I=w+(C<<23&4294967295|C>>>9),C=R+(w^(I|~D))+V[0]+4096336452&4294967295,R=I+(C<<6&4294967295|C>>>26),C=D+(I^(R|~w))+V[7]+1126891415&4294967295,D=R+(C<<10&4294967295|C>>>22),C=w+(R^(D|~I))+V[14]+2878612391&4294967295,w=D+(C<<15&4294967295|C>>>17),C=I+(D^(w|~R))+V[5]+4237533241&4294967295,I=w+(C<<21&4294967295|C>>>11),C=R+(w^(I|~D))+V[12]+1700485571&4294967295,R=I+(C<<6&4294967295|C>>>26),C=D+(I^(R|~w))+V[3]+2399980690&4294967295,D=R+(C<<10&4294967295|C>>>22),C=w+(R^(D|~I))+V[10]+4293915773&4294967295,w=D+(C<<15&4294967295|C>>>17),C=I+(D^(w|~R))+V[1]+2240044497&4294967295,I=w+(C<<21&4294967295|C>>>11),C=R+(w^(I|~D))+V[8]+1873313359&4294967295,R=I+(C<<6&4294967295|C>>>26),C=D+(I^(R|~w))+V[15]+4264355552&4294967295,D=R+(C<<10&4294967295|C>>>22),C=w+(R^(D|~I))+V[6]+2734768916&4294967295,w=D+(C<<15&4294967295|C>>>17),C=I+(D^(w|~R))+V[13]+1309151649&4294967295,I=w+(C<<21&4294967295|C>>>11),C=R+(w^(I|~D))+V[4]+4149444226&4294967295,R=I+(C<<6&4294967295|C>>>26),C=D+(I^(R|~w))+V[11]+3174756917&4294967295,D=R+(C<<10&4294967295|C>>>22),C=w+(R^(D|~I))+V[2]+718787259&4294967295,w=D+(C<<15&4294967295|C>>>17),C=I+(D^(w|~R))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(w+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+w&4294967295,O.g[3]=O.g[3]+D&4294967295}s.prototype.v=function(O,R){R===void 0&&(R=O.length);const I=R-this.blockSize,V=this.C;let w=this.h,D=0;for(;D<R;){if(w==0)for(;D<=I;)o(this,O,D),D+=this.blockSize;if(typeof O=="string"){for(;D<R;)if(V[w++]=O.charCodeAt(D++),w==this.blockSize){o(this,V),w=0;break}}else for(;D<R;)if(V[w++]=O[D++],w==this.blockSize){o(this,V),w=0;break}}this.h=w,this.o+=R},s.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;R=this.o*8;for(var I=O.length-8;I<O.length;++I)O[I]=R&255,R/=256;for(this.v(O),O=Array(16),R=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)O[R++]=this.g[I]>>>V&255;return O};function u(O,R){var I=m;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=R(O)}function h(O,R){this.h=R;const I=[];let V=!0;for(let w=O.length-1;w>=0;w--){const D=O[w]|0;V&&D==R||(I[w]=D,V=!1)}this.g=I}var m={};function p(O){return-128<=O&&O<128?u(O,function(R){return new h([R|0],R<0?-1:0)}):new h([O|0],O<0?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return T;if(O<0)return H(g(-O));const R=[];let I=1;for(let V=0;O>=I;V++)R[V]=O/I|0,I*=4294967296;return new h(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return H(E(O.substring(1),R));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let V=T;for(let D=0;D<O.length;D+=8){var w=Math.min(8,O.length-D);const C=parseInt(O.substring(D,D+w),R);w<8?(w=g(Math.pow(R,w)),V=V.j(w).add(g(C))):(V=V.j(I),V=V.add(g(C)))}return V}var T=p(0),A=p(1),k=p(16777216);r=h.prototype,r.m=function(){if(Y(this))return-H(this).m();let O=0,R=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);O+=(V>=0?V:4294967296+V)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(z(this))return"0";if(Y(this))return"-"+H(this).toString(O);const R=g(Math.pow(O,6));var I=this;let V="";for(;;){const w=de(I,R).g;I=Z(I,w.j(R));let D=((I.g.length>0?I.g[0]:I.h)>>>0).toString(O);if(I=w,z(I))return D+V;for(;D.length<6;)D="0"+D;V=D+V}},r.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function z(O){if(O.h!=0)return!1;for(let R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function Y(O){return O.h==-1}r.l=function(O){return O=Z(this,O),Y(O)?-1:z(O)?0:1};function H(O){const R=O.g.length,I=[];for(let V=0;V<R;V++)I[V]=~O.g[V];return new h(I,~O.h).add(A)}r.abs=function(){return Y(this)?H(this):this},r.add=function(O){const R=Math.max(this.g.length,O.g.length),I=[];let V=0;for(let w=0;w<=R;w++){let D=V+(this.i(w)&65535)+(O.i(w)&65535),C=(D>>>16)+(this.i(w)>>>16)+(O.i(w)>>>16);V=C>>>16,D&=65535,C&=65535,I[w]=C<<16|D}return new h(I,I[I.length-1]&-2147483648?-1:0)};function Z(O,R){return O.add(H(R))}r.j=function(O){if(z(this)||z(O))return T;if(Y(this))return Y(O)?H(this).j(H(O)):H(H(this).j(O));if(Y(O))return H(this.j(H(O)));if(this.l(k)<0&&O.l(k)<0)return g(this.m()*O.m());const R=this.g.length+O.g.length,I=[];for(var V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let w=0;w<O.g.length;w++){const D=this.i(V)>>>16,C=this.i(V)&65535,Ue=O.i(w)>>>16,Ke=O.i(w)&65535;I[2*V+2*w]+=C*Ke,Q(I,2*V+2*w),I[2*V+2*w+1]+=D*Ke,Q(I,2*V+2*w+1),I[2*V+2*w+1]+=C*Ue,Q(I,2*V+2*w+1),I[2*V+2*w+2]+=D*Ue,Q(I,2*V+2*w+2)}for(O=0;O<R;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=R;O<2*R;O++)I[O]=0;return new h(I,0)};function Q(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function ne(O,R){this.g=O,this.h=R}function de(O,R){if(z(R))throw Error("division by zero");if(z(O))return new ne(T,T);if(Y(O))return R=de(H(O),R),new ne(H(R.g),H(R.h));if(Y(R))return R=de(O,H(R)),new ne(H(R.g),R.h);if(O.g.length>30){if(Y(O)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var I=A,V=R;V.l(O)<=0;)I=ae(I),V=ae(V);var w=ue(I,1),D=ue(V,1);for(V=ue(V,2),I=ue(I,2);!z(V);){var C=D.add(V);C.l(O)<=0&&(w=w.add(I),D=C),V=ue(V,1),I=ue(I,1)}return R=Z(O,w.j(R)),new ne(w,R)}for(w=T;O.l(R)>=0;){for(I=Math.max(1,Math.floor(O.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),D=g(I),C=D.j(R);Y(C)||C.l(O)>0;)I-=V,D=g(I),C=D.j(R);z(D)&&(D=A),w=w.add(D),O=Z(O,C)}return new ne(w,O)}r.B=function(O){return de(this,O).h},r.and=function(O){const R=Math.max(this.g.length,O.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)&O.i(V);return new h(I,this.h&O.h)},r.or=function(O){const R=Math.max(this.g.length,O.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)|O.i(V);return new h(I,this.h|O.h)},r.xor=function(O){const R=Math.max(this.g.length,O.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)^O.i(V);return new h(I,this.h^O.h)};function ae(O){const R=O.g.length+1,I=[];for(let V=0;V<R;V++)I[V]=O.i(V)<<1|O.i(V-1)>>>31;return new h(I,O.h)}function ue(O,R){const I=R>>5;R%=32;const V=O.g.length-I,w=[];for(let D=0;D<V;D++)w[D]=R>0?O.i(D+I)>>>R|O.i(D+I+1)<<32-R:O.i(D+I);return new h(w,O.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,eS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,cs=h}).apply(typeof BE<"u"?BE:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tS,Ql,nS,Th,tp,iS,rS,sS;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in v))break e;v=v[U]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&v.push([b,y[b]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,U,G){for(var se=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)se[Re-2]=arguments[Re];return y.prototype[U].apply(b,se)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function z(c,y){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const G=U.length||0;c.length=v+G;for(let se=0;se<G;se++)c[v+se]=U[se]}else c.push(U)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(c){h.setTimeout(()=>{throw c},0)}function Z(){var c=O;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Q{constructor(){this.h=this.g=null}add(y,v){const b=ne.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ne=new Y(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ue=!1,O=new Q,R=()=>{const c=Promise.resolve(void 0);ae=()=>{c.then(I)}};function I(){for(var c;c=Z();){try{c.h.call(c.g)}catch(v){H(v)}var y=ne;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ue=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Ue(c,y){w.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Ue,w),Ue.prototype.init=function(c,y){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ue.Z.h.call(this)},Ue.prototype.h=function(){Ue.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),X=0;function re(c,y,v,b,U){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=U,this.key=++X,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function be(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function He(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function M(c){const y={};for(const v in c)y[v]=c[v];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)c[v]=b[v];for(let G=0;G<te.length;G++)v=te[G],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,y,v,b,U){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const se=Ie(c,y,b,U);return se>-1?(y=c[se],v||(y.fa=!1)):(y=new re(y,this.src,G,!!b,U),y.fa=v,c.push(y)),y};function Te(c,y){const v=y.type;if(v in c.g){var b=c.g[v],U=Array.prototype.indexOf.call(b,y,void 0),G;(G=U>=0)&&Array.prototype.splice.call(b,U,1),G&&(pe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ie(c,y,v,b){for(let U=0;U<c.length;++U){const G=c[U];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==b)return U}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Mt={};function at(c,y,v,b,U){if(Array.isArray(y)){for(let G=0;G<y.length;G++)at(c,y[G],v,b,U);return null}return v=Bo(v),c&&c[Ke]?c.J(y,v,m(b)?!!b.capture:!1,U):As(c,y,v,!1,b,U)}function As(c,y,v,b,U,G){if(!y)throw Error("Invalid event type");const se=m(U)?!!U.capture:!!U;let Re=ws(c);if(Re||(c[ze]=Re=new he(c)),v=Re.add(y,v,b,se,G),v.proxy)return v;if(b=ya(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)D||(U=se),U===void 0&&(U=!1),c.addEventListener(y.toString(),b,U);else if(c.attachEvent)c.attachEvent(li(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ya(){function c(v){return y.call(c.src,c.listener,v)}const y=Uo;return c}function _a(c,y,v,b,U){if(Array.isArray(y))for(var G=0;G<y.length;G++)_a(c,y[G],v,b,U);else b=m(b)?!!b.capture:!!b,v=Bo(v),c&&c[Ke]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=Ie(y,v,b,U),v>-1&&(pe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=ws(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ie(y,v,b,U)),(v=c>-1?y[c]:null)&&va(v))}function va(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ke])Te(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(li(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=ws(y))?(Te(v,c),v.h==0&&(v.src=null,y[ze]=null)):pe(c)}}}function li(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function Uo(c,y){if(c.da)c=!0;else{y=new Ue(y,this);const v=c.listener,b=c.ha||c.src;c.fa&&va(c),c=v.call(b,y)}return c}function ws(c){return c=c[ze],c instanceof he?c:null}var zo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bo(c){return typeof c=="function"?c:(c[zo]||(c[zo]=function(y){return c.handleEvent(y)}),c[zo])}function Tt(){V.call(this),this.i=new he(this),this.M=this,this.G=null}T(Tt,V),Tt.prototype[Ke]=!0,Tt.prototype.removeEventListener=function(c,y,v,b){_a(this,c,y,v,b)};function Vt(c,y){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new w(y,c);else if(y instanceof w)y.target=y.target||c;else{var U=y;y=new w(b,c),oe(y,U)}U=!0;let G,se;if(v)for(se=v.length-1;se>=0;se--)G=y.g=v[se],U=Sr(G,b,!0,y)&&U;if(G=y.g=c,U=Sr(G,b,!0,y)&&U,U=Sr(G,b,!1,y)&&U,v)for(se=0;se<v.length;se++)G=y.g=v[se],U=Sr(G,b,!1,y)&&U}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let b=0;b<v.length;b++)pe(v[b]);delete c.g[y],c.h--}}this.G=null},Tt.prototype.J=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},Tt.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function Sr(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let G=0;G<y.length;++G){const se=y[G];if(se&&!se.da&&se.capture==v){const Re=se.listener,gt=se.ha||se.src;se.fa&&Te(c.i,se),U=Re.call(gt,b)!==!1&&U}}return U&&!b.defaultPrevented}function Sf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Mu(c){c.g=Sf(()=>{c.g=null,c.i&&(c.i=!1,Mu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class tn extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Mu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(c){V.call(this),this.h=c,this.g={}}T(Rs,V);var jo=[];function qo(c){be(c.g,function(y,v){this.g.hasOwnProperty(v)&&va(y)},c),c.g={}}Rs.prototype.N=function(){Rs.Z.N.call(this),qo(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var br=h.JSON.stringify,bf=h.JSON.parse,Vu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ku(){}function Pu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){w.call(this,"d")}T(jt,w);function Dn(){w.call(this,"c")}T(Dn,w);var pt={},Lu=null;function Ea(){return Lu=Lu||new Tt}pt.Ia="serverreachability";function Uu(c){w.call(this,pt.Ia,c)}T(Uu,w);function ui(c){const y=Ea();Vt(y,new Uu(y))}pt.STAT_EVENT="statevent";function Cs(c,y){w.call(this,pt.STAT_EVENT,c),this.stat=y}T(Cs,w);function St(c){const y=Ea();Vt(y,new Cs(y,c))}pt.Ja="timingevent";function ci(c,y){w.call(this,pt.Ja,c),this.size=y}T(ci,w);function hi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function Af(c,y,v,b,U,G){c.info(function(){if(c.g)if(G){var se="",Re=G.split("&");for(let Fe=0;Fe<Re.length;Fe++){var gt=Re[Fe].split("=");if(gt.length>1){const ot=gt[0];gt=gt[1];const Mn=ot.split("_");se=Mn.length>=2&&Mn[1]=="type"?se+(ot+"="+gt+"&"):se+(ot+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+y+`
`+v+`
`+se})}function zu(c,y,v,b,U,G,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+y+`
`+v+`
`+G+" "+se})}function fi(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+wf(c,v)+(b?" "+b:"")})}function Is(c,y){c.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function wf(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<b.length;se++)b[se]=""}}}}return br(G)}catch{return y}}var Ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fo;function Os(){}T(Os,ku),Os.prototype.g=function(){return new XMLHttpRequest},Fo=new Os;function ji(c){return encodeURIComponent(String(c))}function Bu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Kn(c,y,v,b){this.j=c,this.i=y,this.l=v,this.S=b||1,this.V=new Rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var bt={},Lt={};function di(c,y,v){c.M=1,c.A=Ns(wt(y)),c.u=v,c.R=!0,Ta(c,null)}function Ta(c,y){c.F=Date.now(),mi(c),c.B=wt(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),wa(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Qn,c.g=tc(c.j,v?y:null,!c.u),c.P>0&&(c.O=new tn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,b=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(jo[0]=U.toString()),U=jo);for(let G=0;G<U.length;G++){const se=at(v,U[G],b||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ui(),Af(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const y=this.O;y&&$n(c)==3?y.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=$n(this.g),gt=this.g.ya(),Fe=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Re!=4||gt==7||(gt==8||Fe<=0?ui(3):ui(2)),pi(this);var y=this.g.ca();this.X=y;var v=Rf(this);if(this.o=y==200,zu(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var G=b;break t}}G=null}if(c=G)fi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,c);else{this.o=!1,this.m=3,St(12),gn(this),On(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=qu(this,v),ot==Lt){Re==4&&(this.m=4,St(14),c=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==bt){this.m=4,St(15),fi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else fi(this.i,this.l,ot,null),gi(this,ot);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)fi(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),sl(se),se.P=!0,St(11))}}else fi(this.i,this.l,v,null),gi(this,v);Re==4&&gn(this),this.o&&!this.K&&(Re==4?Wu(this.j,this):(this.o=!1,mi(this)))}else Hi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),gn(this),On(this)}}}catch{}finally{}};function Rf(c){if(!ju(c))return c.g.la();const y=qt(c.g);if(y==="")return"";let v="";const b=y.length,U=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),On(c),"";c.h.i=new h.TextDecoder}for(let G=0;G<b;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(U&&G==b-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function ju(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function qu(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?Lt:(v=Number(y.substring(v,b)),isNaN(v)?bt:(b+=1,b+v>y.length?Lt:(y=y.slice(b,b+v),c.C=b+v,y)))}Kn.prototype.cancel=function(){this.K=!0,gn(this)};function mi(c){c.T=Date.now()+c.H,Sa(c,c.H)}function Sa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hi(g(c.aa,c),y)}function pi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Is(this.i,this.B),this.M!=2&&(ui(),St(17)),gn(this),this.m=2,On(this)):Sa(this,this.T-c)};function On(c){c.j.I==0||c.K||Wu(c.j,c)}function gn(c){pi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,qo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function gi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||_i(v.h,c))){if(!c.L&&_i(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Oa(v),Nr(v);else break e;Us(v),St(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(g(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((c.L||v.g==c)&&Oa(v),!C(y))for(U=v.Ba.g.parse(y),y=0;y<U.length;y++){let Fe=U[y];const ot=Fe[0];if(!(ot<=v.K))if(v.K=ot,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const Mn=Fe[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const wi=Fe[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const Wn=Fe[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(b=1.5*Wn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Jn=c.g;if(Jn){const zs=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var G=b.h;G.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Qo(G,G.h),G.h=null))}if(b.G){const Na=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(b.wa=Na,Ye(b.J,b.G,Na))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var se=c;if(b.na=ec(b,b.L?b.ba:null,b.W),se.L){Yo(b.h,se);var Re=se,gt=b.O;gt&&(Re.H=gt),Re.D&&(pi(Re),mi(Re)),b.g=se}else Xu(b);v.i.length>0&&bi(v)}else Fe[0]!="stop"&&Fe[0]!="close"||Ai(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ai(v,7):il(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}ui(4)}catch{}}var At=class{constructor(c,y){this.g=c,this.map=y}};function Go(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function _i(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Qo(c,y){c.g?c.g.add(y):c.h=y}function Yo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Go.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Xo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return k(c.i)}var Hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let U,G=null;b>=0?(U=c[v].substring(0,b),G=c[v].substring(b+1)):U=c[v],y(U,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof yn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,Ar(this,c.u),this.h=c.h,$o(this,Qu(c.i)),this.m=c.m):c&&(y=String(c).match(Hu))?(this.l=!1,Ut(this,y[1]||"",!0),this.o=vi(y[2]||""),this.g=vi(y[3]||"",!0),Ar(this,y[4]),this.h=vi(y[5]||"",!0),$o(this,y[6]||"",!0),this.m=vi(y[7]||"")):(this.l=!1,this.i=new Rr(null,this.l))}yn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(xs(y,Aa,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xs(y,Aa,!0),"@"),c.push(ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(xs(v,v.charAt(0)=="/"?Wo:Fu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",xs(v,Gu)),c.join("")},yn.prototype.resolve=function(c){const y=wt(this);let v=!!c.j;v?Ut(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var b=c.h;if(v)Ar(y,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=y.h.lastIndexOf("/");U!=-1&&(b=y.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const G=[];for(let se=0;se<U.length;){const Re=U[se++];Re=="."?b&&se==U.length&&G.push(""):Re==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&se==U.length&&G.push("")):(G.push(Re),b=!0)}b=G.join("/")}else b=U}return v?y.h=b:v=c.i.toString()!=="",v?$o(y,Qu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function wt(c){return new yn(c)}function Ut(c,y,v){c.j=v?vi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ar(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function $o(c,y,v){y instanceof Rr?(c.i=y,Ra(c.i,c.l)):(v||(y=xs(y,wr)),c.i=new Rr(y,c.l))}function Ye(c,y,v){c.i.set(y,v)}function Ns(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Aa=/[#\/\?@]/g,Fu=/[#\?:]/g,Wo=/[#\?]/g,wr=/[#\?@]/g,Gu=/#/g;function Rr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&ba(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Rr.prototype,r.add=function(c,y){ln(this),this.i=null,c=Cr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ku(c,y){ln(c),y=Cr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Jo(c,y){return ln(c),y=Cr(c,y),c.g.has(y)}r.forEach=function(c,y){ln(this),this.g.forEach(function(v,b){v.forEach(function(U){c.call(y,U,b,this)},this)},this)};function Zo(c,y){ln(c);let v=[];if(typeof y=="string")Jo(c,y)&&(v=v.concat(c.g.get(Cr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return ln(this),this.i=null,c=Cr(this,c),Jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Zo(this,c),c.length>0?String(c[0]):y):y};function wa(c,y,v){Ku(c,y),v.length>0&&(c.i=null,c.g.set(Cr(c,y),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var v=y[b];const U=ji(v);v=Zo(this,v);for(let G=0;G<v.length;G++){let se=U;v[G]!==""&&(se+="="+ji(v[G])),c.push(se)}}return this.i=c.join("&")};function Qu(c){const y=new Rr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Cr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ra(c,y){y&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(Ku(this,b),wa(this,U,v))},c)),c.j=y}function Yn(c,y){const v=new Gn;if(h.Image){const b=new Image;b.onload=E(Nn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=E(Nn,v,"TestLoadImage: error",!1,y,b),b.onabort=E(Nn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=E(Nn,v,"TestLoadImage: timeout",!1,y,b),h.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function el(c,y){const v=new Gn,b=new AbortController,U=setTimeout(()=>{b.abort(),Nn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(U),G.ok?Nn(v,"TestPingServer: ok",!0,y):Nn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Nn(v,"TestPingServer: error",!1,y)})}function Nn(c,y,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function Ir(){this.g=new Vu}function Ei(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ei,ku),Ei.prototype.g=function(){return new Ms(this.i,this.h)};function Ms(c,y){Tt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ms,Tt),r=Ms.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Dr(this):Xn(this),this.readyState==3&&Ca(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Dr(this))},r.Na=function(c){this.g&&(this.response=c,Dr(this))},r.ga=function(){this.g&&Dr(this)};function Dr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xn(c){let y="";return be(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function Vs(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=xn(v),typeof c=="string"?v!=null&&ji(v):Ye(c,y,v))}function We(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(We,Tt);var Ti=/^https?$/i,tl=["POST","PUT"];r=We.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){ks(this,G);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())v.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),U=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(tl,y,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of v)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){ks(this,G)}};function ks(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,nl(c),qi(c)}function nl(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),qi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),We.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},r.Xa=function(){Ps(this)};function Ps(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=G===0){let se=String(c.D).match(Hu)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),b=!Ti.test(se?se.toLowerCase():"")}v=b}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var U=$n(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",nl(c)}}finally{qi(c)}}}}function qi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),bf(y)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(c){const y={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(C(c[b]))continue;var v=Bu(c[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[U]||[];y[U]=G,G.push(v)}He(y,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Or(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(c&&c.concurrentRequestLimit),this.Ba=new Ir,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Or.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,b){St(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=ec(this,null,this.W),bi(this)};function il(c){if(Ia(c),c.I==3){var y=c.V++,v=wt(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),Ls(c,v),y=new Kn(c,c.j,y),y.M=2,y.A=Ns(wt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=tc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),mi(y)}Zu(c)}function Nr(c){c.g&&(sl(c),c.g.cancel(),c.g=null)}function Ia(c){Nr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Oa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function bi(c){if(!Ko(c.h)&&!c.m){c.m=!0;var y=c.Ea;ae||R(),ue||(ae(),ue=!0),O.add(y,c),c.D=0}}function Da(c,y){return yi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hi(g(c.Ea,c,y),Ju(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Kn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=M(G),oe(G,this.U)):G=this.U),this.u!==null||this.R||(U.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Yu(this,U,y),v=wt(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Ls(this,v),G&&(this.R?y="headers="+ji(xn(G))+"&"+y:this.u&&Vs(v,this.u,G)),Qo(this.h,U),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",y),Ye(v,"SID","null"),U.U=!0,di(U,v,null)):di(U,v,y),this.I=2}}else this.I==3&&(c?rl(this,c):this.i.length==0||Ko(this.h)||rl(this))};function rl(c,y){var v;y?v=y.l:v=c.V++;const b=wt(c.J);Ye(b,"SID",c.M),Ye(b,"RID",v),Ye(b,"AID",c.K),Ls(c,b),c.u&&c.o&&Vs(b,c.u,c.o),v=new Kn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Yu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Qo(c.h,v),di(v,b,y)}function Ls(c,y){c.H&&be(c.H,function(v,b){Ye(y,b,v)}),c.l&&be({},function(v,b){Ye(y,b,v)})}function Yu(c,y,v){v=Math.min(c.i.length,v);const b=c.l?g(c.l.Ka,c.l,c):null;e:{var U=c.i;let Re=-1;for(;;){const gt=["count="+v];Re==-1?v>0?(Re=U[0].g,gt.push("ofs="+Re)):Re=0:gt.push("ofs="+Re);let Fe=!0;for(let ot=0;ot<v;ot++){var G=U[ot].g;const Mn=U[ot].map;if(G-=Re,G<0)Re=Math.max(0,U[ot].g-100),Fe=!1;else try{G="req"+G+"_"||"";try{var se=Mn instanceof Map?Mn:Object.entries(Mn);for(const[wi,Wn]of se){let Jn=Wn;m(Wn)&&(Jn=br(Wn)),gt.push(G+wi+"="+encodeURIComponent(Jn))}}catch(wi){throw gt.push(G+"type="+encodeURIComponent("_badmap")),wi}}catch{b&&b(Mn)}}if(Fe){se=gt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),y.G=c,se}function Xu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ae||R(),ue||(ae(),ue=!0),O.add(y,c),c.A=0}}function Us(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hi(g(c.Da,c),Ju(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,$u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Nr(this),$u(this))};function sl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function $u(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=wt(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),Ls(c,y),c.u&&c.o&&Vs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ns(wt(y)),v.u=null,v.R=!0,Ta(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Nr(this),Us(this),St(19))};function Oa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Wu(c,y){var v=null;if(c.g==y){Oa(c),sl(c),c.g=null;var b=2}else if(_i(c.h,y))v=y.G,Yo(c.h,y),b=1;else return;if(c.I!=0){if(y.o)if(b==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var U=c.D;b=Ea(),Vt(b,new ci(b,v)),bi(c)}else Xu(c);else if(U=y.m,U==3||U==0&&y.X>0||!(b==1&&Da(c,y)||b==2&&Us(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),U){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function Ju(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ai(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),b=c.Ua;const U=!b;b=new yn(b||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ut(b,"https"),Ns(b),U?Yn(b.toString(),v):el(b.toString(),v)}else St(2);c.I=0,c.l&&c.l.pa(y),Zu(c),Ia(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Zu(c){if(c.I=0,c.ja=[],c.l){const y=Xo(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ja,y),z(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function ec(c,y,v){var b=v instanceof yn?wt(v):new yn(v);if(b.g!="")y&&(b.g=y+"."+b.g),Ar(b,b.u);else{var U=h.location;b=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const G=new yn(null);b&&Ut(G,b),y&&(G.g=y),U&&Ar(G,U),v&&(G.h=v),b=G}return v=c.G,y=c.wa,v&&y&&Ye(b,v,y),Ye(b,"VER",c.ka),Ls(c,b),b}function tc(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new We(new Ei({ab:v})):new We(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function nc(){}r=nc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xr(){}xr.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){Tt.call(this),this.g=new Or(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Fi(this)}T(nn,Tt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){il(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=br(c),c=v);y.i.push(new At(y.Ya++,c)),y.I==3&&bi(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,nn.Z.N.call(this)};function ic(c){jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(ic,jt);function rc(){Dn.call(this),this.status=1}T(rc,Dn);function Fi(c){this.g=c}T(Fi,nc),Fi.prototype.ra=function(){Vt(this.g,"a")},Fi.prototype.qa=function(c){Vt(this.g,new ic(c))},Fi.prototype.pa=function(c){Vt(this.g,new rc)},Fi.prototype.oa=function(){Vt(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,sS=function(){return new xr},rS=function(){return Ea()},iS=pt,tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,Th=Ds,Ho.COMPLETE="complete",nS=Ho,Pu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Ql=Pu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,tS=We}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});const jE="@firebase/firestore",qE="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let Mo="12.3.0";const ua=new Rp("@firebase/firestore");function oo(){return ua.logLevel}function ce(r,...e){if(ua.logLevel<=Ve.DEBUG){const n=e.map(Lp);ua.debug(`Firestore (${Mo}): ${r}`,...n)}}function _r(r,...e){if(ua.logLevel<=Ve.ERROR){const n=e.map(Lp);ua.error(`Firestore (${Mo}): ${r}`,...n)}}function _o(r,...e){if(ua.logLevel<=Ve.WARN){const n=e.map(Lp);ua.warn(`Firestore (${Mo}): ${r}`,...n)}}function Lp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,aS(r,s,n)}function aS(r,e,n){let s=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||aS(e,o,s)}function we(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class oS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class J2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Z2{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new oS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class eD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new eD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class HE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new HE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new HE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function iD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=iD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function np(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Lm(o)===Lm(u)?ke(o,u):Lm(o)?1:-1}return ke(r.length,e.length)}const rD=55296,sD=57343;function Lm(r){const e=r.charCodeAt(0);return e>=rD&&e<=sD}function vo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const FE="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Oi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),o=Oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):np(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class nt extends Oi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const aD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Oi{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return aD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FE}static keyField(){return new Yt([FE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}function lS(r,e,n){if(!n)throw new le(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function oD(r,e,n,s){if(e===!0&&s===!0)throw new le(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function GE(r){if(!ye.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function KE(r){if(ye.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function uS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ef(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function sn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(r);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function xt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Su(r,e){if(!uS(r))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(J.INVALID_ARGUMENT,n);return!0}const QE=-62135596800,YE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*YE);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<QE)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Su(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-QE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:xt("string",st._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new st(0,0))}static max(){return new Se(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ou=-1;function lD(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new fs(o,ye.empty(),e)}function uD(r){return new fs(r.readTime,r.key,ou)}class fs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new fs(Se.min(),ye.empty(),ou)}static max(){return new fs(Se.max(),ye.empty(),ou)}}function cD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}const hD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==hD)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function dD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ko(r){return r.name==="IndexedDbTransactionError"}class tf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tf.ce=-1;const zp=-1;function nf(r){return r==null}function Ph(r){return r===0&&1/r==-1/0}function mD(r){return typeof r=="number"&&Number.isInteger(r)&&!Ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const cS="";function pD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=XE(e)),e=gD(r.get(n),e);return XE(e)}function gD(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case cS:n+="";break;default:n+=u}}return n}function XE(r){return r+cS+""}function $E(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ts(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function hS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WE(this.data.getIterator())}getIteratorFrom(e){return new WE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class WE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Pt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class fS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new fS("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const yD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=yD.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ms(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const dS="server_timestamp",mS="__type__",pS="__previous_value__",gS="__local_write_time__";function Bp(r){return(r?.mapValue?.fields||{})[mS]?.stringValue===dS}function rf(r){const e=r.mapValue.fields[pS];return Bp(e)?rf(e):e}function lu(r){const e=ds(r.mapValue.fields[gS].timestampValue);return new st(e.seconds,e.nanos)}class _D{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Lh="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||Lh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}const yS="__type__",vD="__max__",fh={mapValue:{}},_S="__vector__",Uh="value";function ps(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bp(r)?4:TD(r)?9007199254740991:ED(r)?10:11:Ee(28295,{value:r})}function Li(r,e){if(r===e)return!0;const n=ps(r);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return lu(r).isEqual(lu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ds(o.timestampValue),m=ds(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),m=vt(u.doubleValue);return h===m?Ph(h)===Ph(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return vo(r.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if($E(h)!==$E(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Li(h[p],m[p])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function cu(r,e){return(r.values||[]).find((n=>Li(n,e)))!==void 0}function Eo(r,e){if(r===e)return 0;const n=ps(r),s=ps(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=vt(u.integerValue||u.doubleValue),p=vt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return JE(r.timestampValue,e.timestampValue);case 4:return JE(lu(r),lu(e));case 5:return np(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=ms(u),p=ms(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ke(m[g],p[g]);if(E!==0)return E}return ke(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=ke(vt(u.latitude),vt(h.latitude));return m!==0?m:ke(vt(u.longitude),vt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return ZE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Uh]?.arrayValue,E=p[Uh]?.arrayValue,T=ke(g?.values?.length||0,E?.values?.length||0);return T!==0?T:ZE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===fh.mapValue&&h===fh.mapValue)return 0;if(u===fh.mapValue)return 1;if(h===fh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=np(p[T],E[T]);if(A!==0)return A;const k=Eo(m[p[T]],g[E[T]]);if(k!==0)return k}return ke(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function JE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=ds(r),s=ds(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function ZE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Eo(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function To(r){return ip(r)}function ip(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ds(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ms(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ip(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${ip(n.fields[h])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function Sh(r){switch(ps(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(r);return e?16+Sh(e):16;case 5:return 2*r.stringValue.length;case 6:return ms(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Sh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ts(s.fields,((u,h)=>{o+=u.length+Sh(h)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function e0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function rp(r){return!!r&&"integerValue"in r}function jp(r){return!!r&&"arrayValue"in r}function t0(r){return!!r&&"nullValue"in r}function n0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bh(r){return!!r&&"mapValue"in r}function ED(r){return(r?.mapValue?.fields||{})[yS]?.stringValue===_S}function Zl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ts(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Zl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zl(r.arrayValue.values[n]);return e}return{...r}}function TD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===vD}class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Zl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ts(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new pn(Zl(this.value))}}function vS(r){const e=[];return Ts(r.fields,((n,s)=>{const o=new Yt([n]);if(bh(s)){const u=vS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Cn(e)}class Zt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),pn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Se.min(),Se.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Se.min(),Se.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zh{constructor(e,n){this.position=e,this.inclusive=n}}function i0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=Eo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function r0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Li(r.position[n],e.position[n]))return!1;return!0}class hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function SD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class ES{}class Nt extends ES{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new AD(e,n,s):n==="array-contains"?new CD(e,s):n==="in"?new ID(e,s):n==="not-in"?new DD(e,s):n==="array-contains-any"?new OD(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new wD(e,s):new RD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends ES{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new si(e,n)}matches(e){return TS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TS(r){return r.op==="and"}function SS(r){return bD(r)&&TS(r)}function bD(r){for(const e of r.filters)if(e instanceof si)return!1;return!0}function sp(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+To(r.value);if(SS(r))return r.filters.map((e=>sp(e))).join(",");{const e=r.filters.map((n=>sp(n))).join(",");return`${r.op}(${e})`}}function bS(r,e){return r instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)})(r,e):r instanceof si?(function(s,o){return o instanceof si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&bS(h,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function AS(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`})(r):r instanceof si?(function(n){return n.op.toString()+" {"+n.getFilters().map(AS).join(" ,")+"}"})(r):"Filter"}class AD extends Nt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class wD extends Nt{constructor(e,n){super(e,"in",n),this.keys=wS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class RD extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=wS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function wS(r,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class CD extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jp(n)&&cu(n.arrayValue,this.value)}}class ID extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class DD extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cu(this.value.arrayValue,n)}}class OD extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>cu(this.value.arrayValue,s)))}}class ND{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function s0(r,e=null,n=[],s=[],o=null,u=null,h=null){return new ND(r,e,n,s,o,u,h)}function qp(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>sp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>To(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>To(s))).join(",")),e.Te=n}return e.Te}function Hp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!SD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!bS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!r0(r.startAt,e.startAt)&&r0(r.endAt,e.endAt)}function ap(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Po{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xD(r,e,n,s,o,u,h,m){return new Po(r,e,n,s,o,u,h,m)}function sf(r){return new Po(r)}function a0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function RS(r){return r.collectionGroup!==null}function eu(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Pt(Yt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new hu(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new hu(Yt.keyField(),s))}return e.Ie}function Mi(r){const e=we(r);return e.Ee||(e.Ee=MD(e,eu(r))),e.Ee}function MD(r,e){if(r.limitType==="F")return s0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new hu(o.field,u)}));const n=r.endAt?new zh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new zh(r.startAt.position,r.startAt.inclusive):null;return s0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function op(r,e){const n=r.filters.concat([e]);return new Po(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Bh(r,e,n){return new Po(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function af(r,e){return Hp(Mi(r),Mi(e))&&r.limitType===e.limitType}function CS(r){return`${qp(Mi(r))}|lt:${r.limitType}`}function lo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>AS(o))).join(", ")}]`),nf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>To(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>To(o))).join(",")),`Target(${s})`})(Mi(r))}; limitType=${r.limitType})`}function of(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=i0(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,eu(s),o)||s.endAt&&!(function(h,m,p){const g=i0(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,eu(s),o))})(r,e)}function VD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function IS(r){return(e,n)=>{let s=!1;for(const o of eu(r)){const u=kD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function kD(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Eo(p,g):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return hS(this.inner)}size(){return this.innerSize}}const PD=new ht(ye.comparator);function vr(){return PD}const DS=new ht(ye.comparator);function Yl(...r){let e=DS;for(const n of r)e=e.insert(n.key,n);return e}function OS(r){let e=DS;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function na(){return tu()}function NS(){return tu()}function tu(){return new da((r=>r.toString()),((r,e)=>r.isEqual(e)))}const LD=new ht(ye.comparator),UD=new Pt(ye.comparator);function Pe(...r){let e=UD;for(const n of r)e=e.add(n);return e}const zD=new Pt(ke);function BD(){return zD}function Fp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function xS(r){return{integerValue:""+r}}function MS(r,e){return mD(e)?xS(e):Fp(r,e)}class lf{constructor(){this._=void 0}}function jD(r,e,n){return r instanceof fu?(function(o,u){const h={fields:{[mS]:{stringValue:dS},[gS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Bp(u)&&(u=rf(u)),u&&(h.fields[pS]=u),{mapValue:h}})(n,e):r instanceof So?kS(r,e):r instanceof bo?PS(r,e):(function(o,u){const h=VS(o,u),m=o0(h)+o0(o.Ae);return rp(h)&&rp(o.Ae)?xS(m):Fp(o.serializer,m)})(r,e)}function qD(r,e,n){return r instanceof So?kS(r,e):r instanceof bo?PS(r,e):n}function VS(r,e){return r instanceof du?(function(s){return rp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class fu extends lf{}class So extends lf{constructor(e){super(),this.elements=e}}function kS(r,e){const n=LS(e);for(const s of r.elements)n.some((o=>Li(o,s)))||n.push(s);return{arrayValue:{values:n}}}class bo extends lf{constructor(e){super(),this.elements=e}}function PS(r,e){let n=LS(e);for(const s of r.elements)n=n.filter((o=>!Li(o,s)));return{arrayValue:{values:n}}}class du extends lf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function o0(r){return vt(r.integerValue||r.doubleValue)}function LS(r){return jp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class uf{constructor(e,n){this.field=e,this.transform=n}}function HD(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof So&&o instanceof So||s instanceof bo&&o instanceof bo?vo(s.elements,o.elements,Li):s instanceof du&&o instanceof du?Li(s.Ae,o.Ae):s instanceof fu&&o instanceof fu})(r.transform,e.transform)}class FD{constructor(e,n){this.version=e,this.transformResults=n}}class an{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new an}static exists(e){return new an(void 0,e)}static updateTime(e){return new an(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class cf{}function US(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new hf(r.key,an.none()):new bu(r.key,r.data,an.none());{const n=r.data,s=pn.empty();let o=new Pt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ss(r.key,s,new Cn(o.toArray()),an.none())}}function GD(r,e,n){r instanceof bu?(function(o,u,h){const m=o.value.clone(),p=u0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ss?(function(o,u,h){if(!Ah(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=u0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(zS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function nu(r,e,n,s){return r instanceof bu?(function(u,h,m,p){if(!Ah(u.precondition,h))return m;const g=u.value.clone(),E=c0(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ss?(function(u,h,m,p){if(!Ah(u.precondition,h))return m;const g=c0(u.fieldTransforms,p,h),E=h.data;return E.setAll(zS(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return Ah(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function KD(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=VS(s.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function l0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,((u,h)=>HD(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class bu extends cf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends cf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function zS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function u0(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,qD(h,m,n[o]))}return s}function c0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,jD(u,h,e))}return s}class hf extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QD extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&GD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=NS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=US(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,((n,s)=>l0(n,s)))&&vo(this.baseMutations,e.baseMutations,((n,s)=>l0(n,s)))}}class Gp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return LD})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Gp(e,n,s,o)}}class XD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $D{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ot,Be;function WD(r){switch(r){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function BS(r){if(r===void 0)return _r("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ot.OK:return J.OK;case Ot.CANCELLED:return J.CANCELLED;case Ot.UNKNOWN:return J.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return J.INTERNAL;case Ot.UNAVAILABLE:return J.UNAVAILABLE;case Ot.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ot.NOT_FOUND:return J.NOT_FOUND;case Ot.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ot.ABORTED:return J.ABORTED;case Ot.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ot.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:r})}}(Be=Ot||(Ot={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function JD(){return new TextEncoder}const ZD=new cs([4294967295,4294967295],0);function h0(r){const e=JD().encode(r),n=new eS;return n.update(e),new Uint8Array(n.digest())}function f0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new cs([n,s],0),new cs([o,u],0)]}class Kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(cs.fromNumber(s)));return o.compare(ZD)===1&&(o=new cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=h0(e),[s,o]=f0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Kp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=h0(e),[s,o]=f0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ff{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ff(Se.min(),o,new ht(ke),vr(),Pe())}}class Au{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Au(s,n,Pe(),Pe(),Pe())}}class wh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class jS{constructor(e,n){this.targetId=e,this.Ce=n}}class qS{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class d0{constructor(){this.ve=0,this.Fe=m0(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Au(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=m0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eO{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=dh(),this.He=dh(),this.Ye=new ht(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ap(u))if(s===0){const h=new ye(u.path);this.et(n,h,Zt.newNoDocument(h,Se.min()))}else Qe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ms(s).toUint8Array()}catch(p){if(p instanceof fS)return _o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Kp(h,o,u)}catch(p){return _o(p instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&ap(m.target)){const p=new ye(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new ff(e,n,this.Ye,this.je,s);return this.je=vr(),this.Je=dh(),this.He=dh(),this.Ye=new ht(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new d0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dh(){return new ht(ye.comparator)}function m0(){return new ht(ye.comparator)}const tO={asc:"ASCENDING",desc:"DESCENDING"},nO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iO={and:"AND",or:"OR"};class rO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lp(r,e){return r.useProto3Json||nf(e)?e:{value:e}}function jh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function sO(r,e){return jh(r,e.toTimestamp())}function Vi(r){return Qe(!!r,49232),Se.fromTimestamp((function(n){const s=ds(n);return new st(s.seconds,s.nanos)})(r))}function Qp(r,e){return up(r,e).canonicalString()}function up(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function FS(r){const e=nt.fromString(r);return Qe(XS(e),10190,{key:e.toString()}),e}function cp(r,e){return Qp(r.databaseId,e.path)}function Um(r,e){const n=FS(e);if(n.get(1)!==r.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(KS(n))}function GS(r,e){return Qp(r.databaseId,e)}function aO(r){const e=FS(r);return e.length===4?nt.emptyPath():KS(e)}function hp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function KS(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function p0(r,e,n){return{name:cp(r,e),fields:n.value.mapValue.fields}}function oO(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?J.UNKNOWN:BS(g.code);return new le(E,g.message||"")})(h);n=new qS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Um(r,s.document.name),u=Vi(s.document.updateTime),h=s.document.createTime?Vi(s.document.createTime):Se.min(),m=new pn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new wh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Um(r,s.document),u=s.readTime?Vi(s.readTime):Se.min(),h=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new wh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Um(r,s.document),u=s.removedTargetIds||[];n=new wh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new $D(o,u),m=s.targetId;n=new jS(m,h)}}return n}function lO(r,e){let n;if(e instanceof bu)n={update:p0(r,e.key,e.value)};else if(e instanceof hf)n={delete:cp(r,e.key)};else if(e instanceof Ss)n={update:p0(r,e.key,e.data),updateMask:yO(e.fieldMask)};else{if(!(e instanceof QD))return Ee(16599,{Vt:e.type});n={verify:cp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof fu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof So)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof bo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof du)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:sO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function uO(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Vi(o.updateTime):Vi(u);return h.isEqual(Se.min())&&(h=Vi(u)),new FD(h,o.transformResults||[])})(n,e)))):[]}function cO(r,e){return{documents:[GS(r,e.path)]}}function hO(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=GS(r,o);const u=(function(g){if(g.length!==0)return YS(si.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:uo(A.field),direction:mO(A.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=lp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function fO(r){let e=aO(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const A=QS(T);return A instanceof si&&SS(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(z){return new hu(co(z.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,nf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,k=T.values||[];return new zh(k,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,k=T.values||[];return new zh(k,A)})(n.endAt)),xD(e,o,h,u,m,"F",p,g)}function dO(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=co(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=co(n.unaryFilter.field);return Nt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(co(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return si.create(n.compositeFilter.filters.map((s=>QS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function mO(r){return tO[r]}function pO(r){return nO[r]}function gO(r){return iO[r]}function uo(r){return{fieldPath:r.canonicalString()}}function co(r){return Yt.fromServerFormat(r.fieldPath)}function YS(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(n0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(t0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(n0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(t0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:pO(n.op),value:n.value}}})(r):r instanceof si?(function(n){const s=n.getFilters().map((o=>YS(o)));return s.length===1?s[0]:{compositeFilter:{op:gO(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function yO(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function XS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class as{constructor(e,n,s,o,u=Se.min(),h=Se.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _O{constructor(e){this.yt=e}}function vO(r){const e=fO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bh(e,e.limit,"L"):e}class EO{constructor(){this.Cn=new TO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(fs.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class TO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(nt.comparator)).toArray()}}const g0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$S=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn($S,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class Ao{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ao(0)}static cr(){return new Ao(-1)}}const y0="LruGarbageCollector",SO=1048576;function _0([r,e],[n,s]){const o=ke(r,n);return o===0?ke(e,s):o}class bO{constructor(e){this.Ir=e,this.buffer=new Pt(_0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();_0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(y0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ko(n)?ce(y0,"Ignoring IndexedDB error during garbage collection: ",n):await Vo(n)}await this.Vr(3e5)}))}}class wO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(tf.ce);const s=new bO(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(g0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),oo()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function RO(r,e){return new wO(r,e)}class CO{constructor(){this.changes=new da((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class IO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class DO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&nu(s.mutation,o,Cn.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=na();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Yl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=na();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=vr();const h=tu(),m=(function(){return tu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ss)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),nu(E.mutation,g,E.mutation.getFieldMask(),st.now())):h.set(g.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new IO(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=tu();let o=new ht(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Cn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=NS();E.forEach((A=>{if(!u.has(A)){const k=US(n.get(A),s.get(A));k!==null&&T.set(A,k),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ie.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(na());let m=ou,p=u;return h.next((g=>ie.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((E=>({batchId:m,changes:OS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Yl();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(T,A){return new Po(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Zt.newInvalidDocument(E)))}));let m=Yl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&nu(E.mutation,g,Cn.empty(),st.now()),of(n,g)&&(m=m.insert(p,g))})),m}))}}class OO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:vO(o.bundledQuery),readTime:Vi(o.readTime)}})(n)),ie.resolve()}}class NO{constructor(){this.overlays=new ht(ye.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=na();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=na(),u=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=na(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new XD(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class xO{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Yp{constructor(){this.Qr=new Pt(Bt.$r),this.Ur=new Pt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new nt([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new nt([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class MO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Bt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new YD(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?zp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(ke);return n.forEach((o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new ye(u),0);let m=new Pt(ke);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class VO{constructor(e){this.ri=e,this.docs=(function(){return new ht(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=vr();const h=n.path,m=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||cD(uD(E),s)<=0||(o.has(E.key)||of(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new kO(this)}getSize(e){return ie.resolve(this.size)}}class kO extends CO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class PO{constructor(e){this.persistence=e,this.si=new da((n=>qp(n)),Hp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Yp,this.targetCount=0,this.ai=Ao.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class WS{constructor(e,n){this.ui={},this.overlays={},this.ci=new tf(0),this.li=!1,this.li=!0,this.hi=new xO,this.referenceDelegate=e(this),this.Pi=new PO(this),this.indexManager=new EO,this.remoteDocumentCache=(function(o){return new VO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new _O(n),this.Ii=new OO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new MO(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new LO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class LO extends fD{constructor(e){super(),this.currentSequenceNumber=e}}class Xp{constructor(e){this.persistence=e,this.Ri=new Yp,this.Vi=null}static mi(e){return new Xp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class qh{constructor(e,n){this.persistence=e,this.pi=new da((s=>pD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=RO(this,n)}static mi(e,n){return new qh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class $p{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new $p(e,n.fromCache,s,o)}}class UO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gR()?8:dD(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new UO;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(oo()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(oo()<=Ve.DEBUG&&ce("QueryEngine","Query:",lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(oo()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):ie.resolve())}ys(e,n){if(a0(n))return ie.resolve(null);let s=Mi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Bh(n,null,"F"),s=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,Bh(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return a0(n)||o.isEqual(Se.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ie.resolve(null):(oo()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.vs(e,h,n,lD(o,ou)).next((m=>m)))}))}Ds(e,n){let s=new Pt(IS(e));return n.forEach(((o,u)=>{of(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return oo()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",lo(n)),this.ps.getDocumentsMatchingQuery(e,n,fs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Wp="LocalStore",BO=3e8;class jO{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(ke),this.xs=new da((u=>qp(u)),Hp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function qO(r,e,n,s){return new jO(r,e,n,s)}async function JS(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function HO(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,A=T.keys();let k=ie.resolve();return A.forEach((z=>{k=k.next((()=>E.getEntry(p,z))).next((Y=>{const H=g.docVersions.get(z);Qe(H!==null,48541),Y.version.compareTo(H)<0&&(T.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function ZS(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function FO(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Xt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function(Y,H,Z){return Y.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=BO?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(A,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let p=vr(),g=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(GO(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Se.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function GO(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=vr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(Wp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function KO(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=zp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function QO(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new as(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function fp(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ko(h))throw h;ce(Wp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function v0(r,e,n){const s=we(r);let o=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=we(p),A=T.xs.get(E);return A!==void 0?ie.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,E)})(s,h,Mi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Se.min(),n?u:Pe()))).next((m=>(YO(s,VD(e),m),{documents:m,Qs:u})))))}function YO(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class E0{constructor(){this.activeTargetIds=BD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XO{constructor(){this.Mo=new E0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new E0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $O{Oo(e){}shutdown(){}}const T0="ConnectivityMonitor";class S0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(T0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(T0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mh=null;function dp(){return mh===null?mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():mh++,"0x"+mh.toString(16)}const zm="RestConnection",WO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=dp(),m=this.zo(e,n.toUriEncodedString());ce(zm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Oo(g);return this.Jo(e,m,p,s,E).then((T=>(ce(zm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw _o(zm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=WO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class ZO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wt="WebChannelConnection";class eN extends JO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=dp();return new Promise(((m,p)=>{const g=new tS;g.setWithCredentials(!0),g.listenOnce(nS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Th.NO_ERROR:const T=g.getResponseJson();ce(Wt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Th.TIMEOUT:ce(Wt,`RPC '${e}' ${h} timed out`),p(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const A=g.getStatus();if(ce(Wt,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const z=k?.error;if(z&&z.status&&z.message){const Y=(function(Z){const Q=Z.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Q)>=0?Q:J.UNKNOWN})(z.status);p(new le(Y,z.message))}else p(new le(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(Wt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);ce(Wt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=dp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=sS(),m=rS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Wt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let A=!1,k=!1;const z=new ZO({Yo:H=>{k?ce(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(A||(ce(Wt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),ce(Wt,`RPC '${e}' stream ${o} sending:`,H),T.send(H))},Zo:()=>T.close()}),Y=(H,Z,Q)=>{H.listen(Z,(ne=>{try{Q(ne)}catch(de){setTimeout((()=>{throw de}),0)}}))};return Y(T,Ql.EventType.OPEN,(()=>{k||(ce(Wt,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),Y(T,Ql.EventType.CLOSE,(()=>{k||(k=!0,ce(Wt,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(T))})),Y(T,Ql.EventType.ERROR,(H=>{k||(k=!0,_o(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),z.a_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),Y(T,Ql.EventType.MESSAGE,(H=>{if(!k){const Z=H.data[0];Qe(!!Z,16349);const Q=Z,ne=Q?.error||Q[0]?.error;if(ne){ce(Wt,`RPC '${e}' stream ${o} received error:`,ne);const de=ne.status;let ae=(function(R){const I=Ot[R];if(I!==void 0)return BS(I)})(de),ue=ne.message;ae===void 0&&(ae=J.INTERNAL,ue="Unknown error status: "+de+" with message "+ne.message),k=!0,z.a_(new le(ae,ue)),T.close()}else ce(Wt,`RPC '${e}' stream ${o} received:`,Z),z.u_(Z)}})),Y(m,iS.STAT_EVENT,(H=>{H.stat===tp.PROXY?ce(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===tp.NOPROXY&&ce(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Bm(){return typeof document<"u"?document:null}function df(r){return new rO(r,!0)}class e1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const b0="PersistentStream";class t1{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new e1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(b0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(b0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tN extends t1{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oO(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?Vi(h.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=hp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=ap(p)?{documents:cO(u,p)}:{query:hO(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=HS(u,h.resumeToken);const g=lp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=jh(u,h.snapshotVersion.toTimestamp());const g=lp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=dO(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=hp(this.serializer),n.removeTarget=e,this.q_(n)}}class nN extends t1{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uO(e.writeResults,e.commitTime),s=Vi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=hp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>lO(this.serializer,s)))};this.q_(n)}}class iN{}class rN extends iN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,up(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,up(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class aN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ma(this)&&(ce(ca,"Restarting streams for network reachability change."),await(async function(p){const g=we(p);g.Ea.add(4),await wu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await mf(g)})(this))}))})),this.Ra=new sN(s,o)}}async function mf(r){if(ma(r))for(const e of r.da)await e(!0)}async function wu(r){for(const e of r.da)await e(!1)}function n1(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tg(n)?eg(n):Lo(n).O_()&&Zp(n,e))}function Jp(r,e){const n=we(r),s=Lo(n);n.Ia.delete(e),s.O_()&&i1(n,e),n.Ia.size===0&&(s.O_()?s.L_():ma(n)&&n.Ra.set("Unknown"))}function Zp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(r).Y_(e)}function i1(r,e){r.Va.Ue(e),Lo(r).Z_(e)}function eg(r){r.Va=new eO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Lo(r).start(),r.Ra.ua()}function tg(r){return ma(r)&&!Lo(r).x_()&&r.Ia.size>0}function ma(r){return we(r).Ea.size===0}function r1(r){r.Va=void 0}async function oN(r){r.Ra.set("Online")}async function lN(r){r.Ia.forEach(((e,n)=>{Zp(r,e)}))}async function uN(r,e){r1(r),tg(r)?(r.Ra.ha(e),eg(r)):r.Ra.set("Unknown")}async function cN(r,e,n){if(r.Ra.set("Online"),e instanceof qS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(r,s)}else if(e instanceof wh?r.Va.Ze(e):e instanceof jS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await ZS(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),i1(u,p);const T=new as(E.target,p,g,E.sequenceNumber);Zp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(ca,"Failed to raise snapshot:",s),await Hh(r,s)}}async function Hh(r,e,n){if(!ko(e))throw e;r.Ea.add(1),await wu(r),r.Ra.set("Offline"),n||(n=()=>ZS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(ca,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await mf(r)}))}function s1(r,e){return e().catch((n=>Hh(r,n,e)))}async function pf(r){const e=we(r),n=gs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zp;for(;hN(e);)try{const o=await KO(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,fN(e,o)}catch(o){await Hh(e,o)}a1(e)&&o1(e)}function hN(r){return ma(r)&&r.Ta.length<10}function fN(r,e){r.Ta.push(e);const n=gs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function a1(r){return ma(r)&&!gs(r).x_()&&r.Ta.length>0}function o1(r){gs(r).start()}async function dN(r){gs(r).ra()}async function mN(r){const e=gs(r);for(const n of r.Ta)e.ea(n.mutations)}async function pN(r,e,n){const s=r.Ta.shift(),o=Gp.from(s,e,n);await s1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await pf(r)}async function gN(r,e){e&&gs(r).X_&&await(async function(s,o){if((function(h){return WD(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();gs(s).B_(),await s1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await pf(s)}})(r,e),a1(r)&&o1(r)}async function A0(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ce(ca,"RemoteStore received new credentials");const s=ma(n);n.Ea.add(3),await wu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await mf(n)}async function yN(r,e){const n=we(r);e?(n.Ea.delete(2),await mf(n)):e||(n.Ea.add(2),await wu(n),n.Ra.set("Unknown"))}function Lo(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new tN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:oN.bind(null,r),t_:lN.bind(null,r),r_:uN.bind(null,r),H_:cN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),tg(r)?eg(r):r.Ra.set("Unknown")):(await r.ma.stop(),r1(r))}))),r.ma}function gs(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new nN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:dN.bind(null,r),r_:gN.bind(null,r),ta:mN.bind(null,r),na:pN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await pf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(ca,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ng{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new ng(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(r,e){if(_r("AsyncQueue",`${e}: ${r}`),ko(r))return new le(J.UNAVAILABLE,`${e}: ${r}`);throw r}class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Yl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class w0{constructor(){this.ga=new ht(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class wo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new wo(e,n,go.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class _N{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vN{constructor(){this.queries=R0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=R0(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function R0(){return new da((r=>CS(r)),af)}async function rg(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new _N,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=ig(h,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ag(n)}async function sg(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function EN(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&ag(n)}function TN(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function ag(r){r.Ca.forEach((e=>{e.next()}))}var mp,C0;(C0=mp||(mp={})).Ma="default",C0.Cache="cache";class og{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new wo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mp.Cache}}class l1{constructor(e){this.key=e}}class u1{constructor(e){this.key=e}}class SN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=IS(e),this.tu=new go(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new w0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),k=of(this.query,T)?T:null,z=!!A&&this.mutatedKeys.has(A.key),Y=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let H=!1;A&&k?A.data.isEqual(k.data)?z!==Y&&(s.track({type:3,doc:k}),H=!0):this.su(A,k)||(s.track({type:2,doc:k}),H=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(m=!0)):!A&&k?(s.track({type:0,doc:k}),H=!0):A&&!k&&(s.track({type:1,doc:A}),H=!0,(p||g)&&(m=!0)),H&&(k?(h=h.add(k),u=Y?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(k,z){const Y=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:H})}};return Y(k)-Y(z)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new wo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new w0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new u1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new l1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lg="SyncEngine";class bN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class AN{constructor(e){this.key=e,this.hu=!1}}class wN{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new da((m=>CS(m)),af),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ye.comparator),this.Au=new Map,this.Ru=new Yp,this.Vu={},this.mu=new Map,this.fu=Ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RN(r,e,n=!0){const s=p1(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await c1(s,e,n,!0),o}async function CN(r,e){const n=p1(r);await c1(n,e,!0,!1)}async function c1(r,e,n,s){const o=await QO(r.localStore,Mi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await IN(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&n1(r.remoteStore,o),m}async function IN(r,e,n,s,o){r.pu=(T,A,k)=>(async function(Y,H,Z,Q){let ne=H.view.ru(Z);ne.Cs&&(ne=await v0(Y.localStore,H.query,!1).then((({documents:O})=>H.view.ru(O,ne))));const de=Q&&Q.targetChanges.get(H.targetId),ae=Q&&Q.targetMismatches.get(H.targetId)!=null,ue=H.view.applyChanges(ne,Y.isPrimaryClient,de,ae);return D0(Y,H.targetId,ue.au),ue.snapshot})(r,T,A,k);const u=await v0(r.localStore,e,!0),h=new SN(e,u.Qs),m=h.ru(u.documents),p=Au.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);D0(r,n,g.au);const E=new bN(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function DN(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!af(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Jp(s.remoteStore,o.targetId),pp(s,o.targetId)})).catch(Vo)):(pp(s,o.targetId),await fp(s.localStore,o.targetId,!0))}async function ON(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Jp(n.remoteStore,s.targetId))}async function NN(r,e,n){const s=UN(r);try{const o=await(function(h,m){const p=we(h),g=st.now(),E=m.reduce(((k,z)=>k.add(z.key)),Pe());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let z=vr(),Y=Pe();return p.Ns.getEntries(k,E).next((H=>{z=H,z.forEach(((Z,Q)=>{Q.isValidDocument()||(Y=Y.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,z))).next((H=>{T=H;const Z=[];for(const Q of m){const ne=KD(Q,T.get(Q.key).overlayedDocument);ne!=null&&Z.push(new Ss(Q.key,ne,vS(ne.value.mapValue),an.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,Z,m)})).next((H=>{A=H;const Z=H.applyToLocalDocumentSet(T,Y);return p.documentOverlayCache.saveOverlays(k,H.batchId,Z)}))})).then((()=>({batchId:A.batchId,changes:OS(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ht(ke)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Ru(s,o.changes),await pf(s.remoteStore)}catch(o){const u=ig(o,"Failed to persist write");n.reject(u)}}async function h1(r,e){const n=we(r);try{const s=await FO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Qe(h.hu,14607):o.removedDocuments.size>0&&(Qe(h.hu,42227),h.hu=!1))})),await Ru(n,s,e)}catch(s){await Vo(s)}}function I0(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=we(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const A of T.Sa)A.va(m)&&(g=!0)})),g&&ag(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function xN(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(ye.comparator);h=h.insert(u,Zt.newNoDocument(u,Se.min()));const m=Pe().add(u),p=new ff(Se.min(),new Map,new ht(ke),h,m);await h1(s,p),s.du=s.du.remove(u),s.Au.delete(e),ug(s)}else await fp(s.localStore,e,!1).then((()=>pp(s,e,n))).catch(Vo)}async function MN(r,e){const n=we(r),s=e.batch.batchId;try{const o=await HO(n.localStore,e);d1(n,s,null),f1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ru(n,o)}catch(o){await Vo(o)}}async function VN(r,e,n){const s=we(r);try{const o=await(function(h,m){const p=we(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Qe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);d1(s,e,n),f1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ru(s,o)}catch(o){await Vo(o)}}function f1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function d1(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function pp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||m1(r,s)}))}function m1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Jp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),ug(r))}function D0(r,e,n){for(const s of n)s instanceof l1?(r.Ru.addReference(s.key,e),kN(r,s)):s instanceof u1?(ce(lg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||m1(r,s.key)):Ee(19791,{wu:s})}function kN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(lg,"New document in limbo: "+n),r.Eu.add(s),ug(r))}function ug(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new AN(n)),r.du=r.du.insert(n,s),n1(r.remoteStore,new as(Mi(sf(n.path)),s,"TargetPurposeLimboResolution",tf.ce))}}async function Ru(r,e,n){const s=we(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=$p.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(g,(A=>ie.forEach(A.Es,(k=>E.persistence.referenceDelegate.addReference(T,A.targetId,k))).next((()=>ie.forEach(A.ds,(k=>E.persistence.referenceDelegate.removeReference(T,A.targetId,k)))))))))}catch(T){if(!ko(T))throw T;ce(Wp,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const k=E.Ms.get(A),z=k.snapshotVersion,Y=k.withLastLimboFreeSnapshotVersion(z);E.Ms=E.Ms.insert(A,Y)}}})(s.localStore,u))}async function PN(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ce(lg,"User change. New user:",e.toKey());const s=await JS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ru(n,s.Ls)}}function LN(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function p1(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=h1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xN.bind(null,e),e.Pu.H_=EN.bind(null,e.eventManager),e.Pu.yu=TN.bind(null,e.eventManager),e}function UN(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VN.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return qO(this.persistence,new zO,e.initialUser,this.serializer)}Cu(e){return new WS(Xp.mi,this.serializer)}Du(e){return new XO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class zN extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new AO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new WS((s=>qh.mi(s,n)),this.serializer)}}class gp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>I0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=PN.bind(null,this.syncEngine),await yN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vN})()}createDatastore(e){const n=df(e.databaseInfo.databaseId),s=(function(u){return new eN(u)})(e.databaseInfo);return(function(u,h,m,p){return new rN(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new aN(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>I0(this.syncEngine,n,0)),(function(){return S0.v()?new S0:new $O})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new wN(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ce(ca,"RemoteStore shutting down."),s.Ea.add(5),await wu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gp.provider={build:()=>new gp};class cg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ys="FirestoreClient";class BN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ce(ys,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(ys,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ig(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function jm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(ys,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await JS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function O0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await jN(r);ce(ys,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>A0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>A0(e.remoteStore,o))),r._onlineComponents=e}async function jN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(ys,"Using user provided OfflineComponentProvider");try{await jm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await jm(r,new Fh)}}else ce(ys,"Using default OfflineComponentProvider"),await jm(r,new zN(void 0));return r._offlineComponents}async function g1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(ys,"Using user provided OnlineComponentProvider"),await O0(r,r._uninitializedComponentsProvider._online)):(ce(ys,"Using default OnlineComponentProvider"),await O0(r,new gp))),r._onlineComponents}function qN(r){return g1(r).then((e=>e.syncEngine))}async function Gh(r){const e=await g1(r),n=e.eventManager;return n.onListen=RN.bind(null,e.syncEngine),n.onUnlisten=DN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ON.bind(null,e.syncEngine),n}function HN(r,e,n={}){const s=new fr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new cg({next:A=>{E.Nu(),h.enqueueAndForget((()=>sg(u,T)));const k=A.docs.has(m);!k&&A.fromCache?g.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&p&&p.source==="server"?g.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new og(sf(m.path),E,{includeMetadataChanges:!0,qa:!0});return rg(u,T)})(await Gh(r),r.asyncQueue,e,n,s))),s.promise}function FN(r,e,n={}){const s=new fr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new cg({next:A=>{E.Nu(),h.enqueueAndForget((()=>sg(u,T))),A.fromCache&&p.source==="server"?g.reject(new le(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new og(m,E,{includeMetadataChanges:!0,qa:!0});return rg(u,T)})(await Gh(r),r.asyncQueue,e,n,s))),s.promise}function y1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const N0=new Map;const _1="firestore.googleapis.com",x0=!0;class M0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_1,this.ssl=x0}else this.host=e.host,this.ssl=e.ssl??x0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$S;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SO)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new W2;switch(s.type){case"firstParty":return new tD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=N0.get(n);s&&(ce("ComponentProvider","Removing Datastore"),N0.delete(n),s.terminate())})(this),Promise.resolve()}}function GN(r,e,n,s={}){r=sn(r,gf);const o=Oo(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(fT(`https://${m}`),dT("Firestore",!0)),u.host!==_1&&u.host!==m&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!pr(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Jt.MOCK_USER;else{g=oR(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(T)}r._authCredentials=new J2(new oS(g,E))}}class Tr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Tr(this.firestore,e,this._query)}}class mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Su(n,mt._jsonSchema))return new mt(e,s||null,new ye(nt.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:xt("string",mt._jsonSchemaVersion),referencePath:xt("string")};class hs extends Tr{constructor(e,n,s){super(e,n,sf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ye(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function Ui(r,e,...n){if(r=Et(r),lS("collection","path",e),r instanceof gf){const s=nt.fromString(e,...n);return KE(s),new hs(r,null,s)}{if(!(r instanceof mt||r instanceof hs))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return KE(s),new hs(r.firestore,null,s)}}function wn(r,e,...n){if(r=Et(r),arguments.length===1&&(e=Up.newId()),lS("doc","path",e),r instanceof gf){const s=nt.fromString(e,...n);return GE(s),new mt(r,null,new ye(s))}{if(!(r instanceof mt||r instanceof hs))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return GE(s),new mt(r.firestore,r instanceof hs?r.converter:null,new ye(s))}}const V0="AsyncQueue";class k0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new e1(this,"async_queue_retry"),this._c=()=>{const s=Bm();s&&ce(V0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ko(e))throw e;ce(V0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",P0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ng.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:P0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function P0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function L0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class zi extends gf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new k0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k0(e),this._firestoreClient=void 0,await e}}}function KN(r,e){const n=typeof r=="object"?r:yT(),s=typeof r=="string"?r:Lh,o=Ip(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=sR("firestore");u&&GN(o,...u)}return o}function Cu(r){if(r._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||QN(r),r._firestoreClient}function QN(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new _D(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,y1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new BN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Xt.fromBase64String(e))}catch(n){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Su(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:xt("string",Hn._jsonSchemaVersion),bytes:xt("string")};class Iu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pa{constructor(e){this._methodName=e}}class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(Su(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:xt("string",ki._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};class Pi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Su(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Pi(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:xt("string",Pi._jsonSchemaVersion),vectorValues:xt("object")};const YN=/^__.*__$/;class XN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class v1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function E1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class yf{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(E1(this.Ac)&&YN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $N{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||df(e)}Cc(e,n,s,o=!1){return new yf({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Du(r){const e=r._freezeSettings(),n=df(r._databaseId);return new $N(r._databaseId,!!e.ignoreUndefinedProperties,n)}function hg(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);gg("Data must be an object, but it was:",h,s);const m=A1(s,h);let p,g;if(u.merge)p=new Cn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=yp(e,T,n);if(!h.contains(A))throw new le(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);R1(E,A)||E.push(A)}p=new Cn(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new XN(new pn(m),p,g)}class Ou extends pa{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ou}}function T1(r,e,n){return new yf({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class fg extends pa{_toFieldTransform(e){return new uf(e.path,new fu)}isEqual(e){return e instanceof fg}}class dg extends pa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=T1(this,e,!0),s=this.vc.map((u=>ga(u,n))),o=new So(s);return new uf(e.path,o)}isEqual(e){return e instanceof dg&&pr(this.vc,e.vc)}}class mg extends pa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=T1(this,e,!0),s=this.vc.map((u=>ga(u,n))),o=new bo(s);return new uf(e.path,o)}isEqual(e){return e instanceof mg&&pr(this.vc,e.vc)}}class pg extends pa{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new du(e.serializer,MS(e.serializer,this.Fc));return new uf(e.path,n)}isEqual(e){return e instanceof pg&&this.Fc===e.Fc}}function S1(r,e,n,s){const o=r.Cc(1,e,n);gg("Data must be an object, but it was:",o,s);const u=[],h=pn.empty();Ts(s,((p,g)=>{const E=yg(e,p,n);g=Et(g);const T=o.yc(E);if(g instanceof Ou)u.push(E);else{const A=ga(g,T);A!=null&&(u.push(E),h.set(E,A))}}));const m=new Cn(u);return new v1(h,m,o.fieldTransforms)}function b1(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[yp(e,s,n)],p=[o];if(u.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(yp(e,u[A])),p.push(u[A+1]);const g=[],E=pn.empty();for(let A=m.length-1;A>=0;--A)if(!R1(g,m[A])){const k=m[A];let z=p[A];z=Et(z);const Y=h.yc(k);if(z instanceof Ou)g.push(k);else{const H=ga(z,Y);H!=null&&(g.push(k),E.set(k,H))}}const T=new Cn(g);return new v1(E,T,h.fieldTransforms)}function WN(r,e,n,s=!1){return ga(n,r.Cc(s?4:3,e))}function ga(r,e){if(w1(r=Et(r)))return gg("Unsupported field value:",e,r),A1(r,e);if(r instanceof pa)return(function(s,o){if(!E1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=ga(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Et(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:jh(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:HS(o.serializer,s._byteString)};if(s instanceof mt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Pi)return(function(h,m){return{mapValue:{fields:{[yS]:{stringValue:_S},[Uh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Fp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${ef(s)}`)})(r,e)}function A1(r,e){const n={};return hS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(r,((s,o)=>{const u=ga(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function w1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof st||r instanceof ki||r instanceof Hn||r instanceof mt||r instanceof pa||r instanceof Pi)}function gg(r,e,n){if(!w1(n)||!uS(n)){const s=ef(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function yp(r,e,n){if((e=Et(e))instanceof Iu)return e._internalPath;if(typeof e=="string")return yg(r,e);throw Kh("Field path arguments must be of type string or ",r,!1,void 0,n)}const JN=new RegExp("[~\\*/\\[\\]]");function yg(r,e,n){if(e.search(JN)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Iu(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Kh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new le(J.INVALID_ARGUMENT,m+r+p)}function R1(r,e){return r.some((n=>n.isEqual(e)))}class C1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_f("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZN extends C1{data(){return super.data()}}function _f(r,e){return typeof e=="string"?yg(r,e):e instanceof Iu?e._internalPath:e._delegate._internalPath}function I1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _g{}class vg extends _g{}function vf(r,e,...n){let s=[];e instanceof _g&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Tg)).length,m=u.filter((p=>p instanceof Ef)).length;if(h>1||h>0&&m>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Ef extends vg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ef(e,n,s)}_apply(e){const n=this._parse(e);return D1(e._query,n),new Tr(e.firestore,e.converter,op(e._query,n))}_parse(e){const n=Du(e.firestore);return(function(u,h,m,p,g,E,T){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){z0(T,E);const z=[];for(const Y of T)z.push(U0(p,u,Y));A={arrayValue:{values:z}}}else A=U0(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||z0(T,E),A=WN(m,h,T,E==="in"||E==="not-in");return Nt.create(g,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Eg(r,e,n){const s=e,o=_f("where",r);return Ef._create(o,s,n)}class Tg extends _g{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)D1(h,p),h=op(h,p)})(e._query,n),new Tr(e.firestore,e.converter,op(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sg extends vg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(u,h)})(e._query,this._field,this._direction);return new Tr(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Po(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function ex(r,e="asc"){const n=e,s=_f("orderBy",r);return Sg._create(s,n)}class bg extends vg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new bg(e,n,s)}_apply(e){return new Tr(e.firestore,e.converter,Bh(e._query,this._limit,this._limitType))}}function tx(r){return bg._create("limit",r,"F")}function U0(r,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RS(e)&&n.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!ye.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return e0(r,new ye(s))}if(n instanceof mt)return e0(r,n._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function z0(r,e){if(!Array.isArray(r)||r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D1(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nx{convertValue(e,n="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ts(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Uh].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new Pi(n)}convertGeoPoint(e){return new ki(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=rf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=ds(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Qe(XS(s),9688,{name:e});const o=new uu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Ag(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class $l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends C1{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(_f("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:xt("string",ia._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class Rh extends ia{data(e={}){return super.data(e)}}class ra{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Rh(this._firestore,this._userDataWriter,s.key,s,new $l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:ix(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ix(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function Nu(r){r=sn(r,mt);const e=sn(r.firestore,zi);return HN(Cu(e),r._key).then((n=>x1(e,r,n)))}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:xt("string",ra._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class wg extends nx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function O1(r){r=sn(r,Tr);const e=sn(r.firestore,zi),n=Cu(e),s=new wg(e);return I1(r._query),FN(n,r._query).then((o=>new ra(e,s,r,o)))}function Ro(r,e,n){r=sn(r,mt);const s=sn(r.firestore,zi),o=Ag(r.converter,e,n);return xu(s,[hg(Du(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,an.none())])}function ur(r,e,n,...s){r=sn(r,mt);const o=sn(r.firestore,zi),u=Du(o);let h;return h=typeof(e=Et(e))=="string"||e instanceof Iu?b1(u,"updateDoc",r._key,e,n,s):S1(u,"updateDoc",r._key,e),xu(o,[h.toMutation(r._key,an.exists(!0))])}function rx(r){return xu(sn(r.firestore,zi),[new hf(r._key,an.none())])}function N1(r,e){const n=sn(r.firestore,zi),s=wn(r),o=Ag(r.converter,e);return xu(n,[hg(Du(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,an.exists(!1))]).then((()=>s))}function Co(r,...e){r=Et(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||L0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(L0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(r instanceof mt)h=sn(r.firestore,zi),m=sf(r._key.path),u={next:p=>{e[s]&&e[s](x1(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=sn(r,Tr);h=sn(p.firestore,zi),m=p._query;const g=new wg(h);u={next:E=>{e[s]&&e[s](new ra(h,g,p,E))},error:e[s+1],complete:e[s+2]},I1(r._query)}return(function(g,E,T,A){const k=new cg(A),z=new og(E,k,T);return g.asyncQueue.enqueueAndForget((async()=>rg(await Gh(g),z))),()=>{k.Nu(),g.asyncQueue.enqueueAndForget((async()=>sg(await Gh(g),z)))}})(Cu(h),m,o,u)}function xu(r,e){return(function(s,o){const u=new fr;return s.asyncQueue.enqueueAndForget((async()=>NN(await qN(s),o,u))),u.promise})(Cu(r),e)}function x1(r,e,n){const s=n.docs.get(e._key),o=new wg(r);return new ia(r,o,e._key,s,new $l(n.hasPendingWrites,n.fromCache),e.converter)}class sx{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Du(e)}set(e,n,s){this._verifyNotCommitted();const o=qm(e,this._firestore),u=Ag(o.converter,n,s),h=hg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,an.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=qm(e,this._firestore);let h;return h=typeof(n=Et(n))=="string"||n instanceof Iu?b1(this._dataReader,"WriteBatch.update",u._key,n,s,o):S1(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,an.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=qm(e,this._firestore);return this._mutations=this._mutations.concat(new hf(n._key,an.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qm(r,e){if((r=Et(r)).firestore!==e)throw new le(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function ax(){return new Ou("deleteField")}function _p(){return new fg("serverTimestamp")}function M1(...r){return new dg("arrayUnion",r)}function V1(...r){return new mg("arrayRemove",r)}function ox(r){return new pg("increment",r)}function lx(r){return Cu(r=sn(r,zi)),new sx(r,(e=>xu(r,e)))}(function(e,n=!0){(function(o){Mo=o})(No),yo(new aa("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new zi(new Z2(s.getProvider("auth-internal")),new nD(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),us(jE,qE,e),us(jE,qE,"esm2020")})();const ux={apiKey:"AIzaSyDO6KvC0B8IyNJXInBXmGde9oYM3Ybm1DU",authDomain:"react-firebase-role.firebaseapp.com",projectId:"react-firebase-role",storageBucket:"react-firebase-role.firebasestorage.app",messagingSenderId:"363204886046",appId:"1:363204886046:web:c62086bf5fa7b947caf80f",measurementId:"G-JZ54NP3E5B"},k1=gT(ux),Tf=X2(k1),ct=KN(k1),P1=r=>wn(ct,"users",r);async function cx(r,e={}){const n=P1(r);(await Nu(n)).exists()||await Ro(n,{role:"user",createdAt:_p(),...e})}async function hx(r){const e=await Nu(P1(r));return e.exists()?e.data().role:null}const L1=q.createContext(null);function fx(r){const e=ai.c(9),{children:n}=r,[s,o]=q.useState(null),[u,h]=q.useState(null),[m,p]=q.useState(!0);let g,E;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{const Q=LI(Tf,async ne=>{if(o(ne),ne){const de=await hx(ne.uid);h(de||"user")}else h(null);p(!1)});return()=>Q()},E=[],e[0]=g,e[1]=E):(g=e[0],E=e[1]),q.useEffect(g,E);const T=px,A=mx,k=dx;let z;e[2]!==s||e[3]!==m||e[4]!==u?(z={currentUser:s,role:u,login:T,register:A,logout:k,loading:m},e[2]=s,e[3]=m,e[4]=u,e[5]=z):z=e[5];const Y=z,H=!m&&n;let Z;return e[6]!==H||e[7]!==Y?(Z=L.jsx(L1.Provider,{value:Y,children:H}),e[6]=H,e[7]=Y,e[8]=Z):Z=e[8],Z}function dx(){return UI(Tf)}async function mx(r,e){const n=await MI(Tf,r,e);return await cx(n.user.uid,{email:r,role:"user"}),n}function px(r,e){return VI(Tf,r,e)}const bs=()=>q.useContext(L1);function gx(){const r=ai.c(28),{currentUser:e,role:n,logout:s}=bs();let o;r[0]===Symbol.for("react.memo_cache_sentinel")?(o={textDecoration:"none",color:"#6366f1",fontWeight:500,padding:"8px 16px",borderRadius:8,transition:"background 0.2s, color 0.2s",fontSize:16,letterSpacing:.5,marginRight:2,display:"inline-block"},r[0]=o):o=r[0];const u=o,h=Sx,m=Tx;let p;r[1]===Symbol.for("react.memo_cache_sentinel")?(p={padding:"8px 16px",borderRadius:8,border:"none",background:"#ef4444",color:"#fff",fontWeight:500,fontSize:16,cursor:"pointer",transition:"background 0.2s",marginLeft:6},r[1]=p):p=r[1];const g=p;let E;r[2]===Symbol.for("react.memo_cache_sentinel")?(E={display:"flex",alignItems:"center",gap:10,padding:"12px 28px",borderBottom:"1px solid #e0e7ff",background:"linear-gradient(90deg,#e0e7ff 0%,#f3f4f6 100%)",boxShadow:"0 2px 12px rgba(99,102,241,0.06)",fontFamily:"Segoe UI, Arial, sans-serif"},r[2]=E):E=r[2];let T;r[3]!==e?(T=e&&L.jsx(ni,{to:"/dashboard",style:u,onMouseOver:h,onMouseOut:m,children:"Dashboard"}),r[3]=e,r[4]=T):T=r[4];let A;r[5]!==e?(A=e&&L.jsx(ni,{to:"/chat",style:u,onMouseOver:h,onMouseOut:m,children:"Phng Chat"}),r[5]=e,r[6]=A):A=r[6];let k;r[7]!==n?(k=n!=="uservip"&&L.jsx(ni,{to:"https://thehoang21.github.io/ntp-luong/",style:u,target:"_blank",rel:"noopener noreferrer",onMouseOver:h,onMouseOut:m,children:"Tnh lng"}),r[7]=n,r[8]=k):k=r[8];let z;r[9]!==e?(z=e&&L.jsx(ni,{to:"https://thehoang21.github.io/grammar-check/",style:u,target:"_blank",rel:"noopener noreferrer",onMouseOver:h,onMouseOut:m,children:"Kim tra ng php"}),r[9]=e,r[10]=z):z=r[10];let Y;r[11]!==n?(Y=n==="admin"&&L.jsxs(L.Fragment,{children:[L.jsx(ni,{to:"/admin",style:u,onMouseOver:h,onMouseOut:m,children:"Admin"}),L.jsx(ni,{to:"/roles",style:u,onMouseOver:h,onMouseOut:m,children:"Roles"})]}),r[11]=n,r[12]=Y):Y=r[12];let H;r[13]!==n?(H=n==="quality"&&L.jsx(ni,{to:"/quality",style:u,onMouseOver:h,onMouseOut:m,children:"Quality"}),r[13]=n,r[14]=H):H=r[14];let Z;r[15]===Symbol.for("react.memo_cache_sentinel")?(Z={marginLeft:"auto",display:"flex",alignItems:"center"},r[15]=Z):Z=r[15];let Q;r[16]!==e||r[17]!==s||r[18]!==n?(Q=L.jsx("div",{style:Z,children:e?L.jsxs(L.Fragment,{children:[L.jsxs("span",{style:{marginRight:12,color:"#374151",fontWeight:500,fontSize:15,padding:"6px 10px",background:"#e0e7ff",borderRadius:8},children:[e.email," ",L.jsxs("span",{style:{color:"#6366f1"},children:["(",n,")"]})]}),L.jsx("button",{style:g,onMouseOver:_x,onMouseOut:yx,onClick:s,children:"ng xut"})]}):L.jsx(ni,{to:"/login",style:{...u,background:"#6366f1",color:"#fff"},onMouseOver:Ex,onMouseOut:vx,children:"ng nhp"})}),r[16]=e,r[17]=s,r[18]=n,r[19]=Q):Q=r[19];let ne;return r[20]!==Q||r[21]!==T||r[22]!==A||r[23]!==k||r[24]!==z||r[25]!==Y||r[26]!==H?(ne=L.jsxs("nav",{style:E,children:[T,A,k,z,Y,H,Q]}),r[20]=Q,r[21]=T,r[22]=A,r[23]=k,r[24]=z,r[25]=Y,r[26]=H,r[27]=ne):ne=r[27],ne}function yx(r){return r.target.style.background="#ef4444"}function _x(r){return r.target.style.background="#dc2626"}function vx(r){r.target.style.background="#6366f1",r.target.style.color="#fff"}function Ex(r){r.target.style.background="#818cf8",r.target.style.color="#fff"}function Tx(r){r.target.style.background="none",r.target.style.color="#6366f1"}function Sx(r){r.target.style.background="#6366f1",r.target.style.color="#fff"}function bx(){const r=ai.c(39),{currentUser:e,login:n,register:s}=bs(),[o,u]=q.useState(!1),[h,m]=q.useState(""),[p,g]=q.useState(""),[E,T]=q.useState("");if(e){let be;return r[0]===Symbol.for("react.memo_cache_sentinel")?(be=L.jsx(sa,{to:"/dashboard",replace:!0}),r[0]=be):be=r[0],be}let A;r[1]!==h||r[2]!==o||r[3]!==n||r[4]!==p||r[5]!==s?(A=async be=>{be.preventDefault(),T("");try{o?await s(h,p):await n(h,p)}catch(He){T(He.message)}},r[1]=h,r[2]=o,r[3]=n,r[4]=p,r[5]=s,r[6]=A):A=r[6];const k=A;let z,Y;r[7]===Symbol.for("react.memo_cache_sentinel")?(z={maxWidth:380,margin:"60px auto",padding:"32px 28px",background:"linear-gradient(135deg, #e0e7ff 0%, #f3f4f6 100%)",borderRadius:18,boxShadow:"0 4px 24px rgba(0,0,0,0.12)",border:"1px solid #e5e7eb"},Y={textAlign:"center",marginBottom:24,fontWeight:700,color:"#374151",letterSpacing:1},r[7]=z,r[8]=Y):(z=r[7],Y=r[8]);const H=o?"ng k ti khon":"ng nhp";let Z;r[9]!==H?(Z=L.jsx("h2",{style:Y,children:H}),r[9]=H,r[10]=Z):Z=r[10];let Q;r[11]===Symbol.for("react.memo_cache_sentinel")?(Q={display:"grid",gap:18},r[11]=Q):Q=r[11];let ne,de;r[12]===Symbol.for("react.memo_cache_sentinel")?(ne=be=>m(be.target.value),de={padding:"12px 14px",borderRadius:10,border:"1px solid #c7d2fe",outline:"none",fontSize:16,background:"#fff",boxShadow:"0 2px 8px rgba(99,102,241,0.04)",transition:"border 0.2s"},r[12]=ne,r[13]=de):(ne=r[12],de=r[13]);let ae;r[14]!==h?(ae=L.jsx("input",{placeholder:"Email",value:h,onChange:ne,style:de,onFocus:xx,onBlur:Nx}),r[14]=h,r[15]=ae):ae=r[15];let ue,O;r[16]===Symbol.for("react.memo_cache_sentinel")?(O=be=>g(be.target.value),ue={padding:"12px 14px",borderRadius:10,border:"1px solid #c7d2fe",outline:"none",fontSize:16,background:"#fff",boxShadow:"0 2px 8px rgba(99,102,241,0.04)",transition:"border 0.2s"},r[16]=ue,r[17]=O):(ue=r[16],O=r[17]);let R;r[18]!==p?(R=L.jsx("input",{placeholder:"Mt khu",type:"password",value:p,onChange:O,style:ue,onFocus:Ox,onBlur:Dx}),r[18]=p,r[19]=R):R=r[19];let I;r[20]!==E?(I=E&&L.jsx("div",{style:{color:"#ef4444",background:"#fee2e2",borderRadius:8,padding:"8px 12px",fontSize:15,marginTop:-6,textAlign:"center",border:"1px solid #fecaca"},children:E}),r[20]=E,r[21]=I):I=r[21];let V;r[22]===Symbol.for("react.memo_cache_sentinel")?(V={padding:"12px 0",borderRadius:10,border:"none",background:"linear-gradient(90deg,#6366f1 0%,#818cf8 100%)",color:"#fff",fontWeight:600,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px rgba(99,102,241,0.09)",transition:"background 0.2s"},r[22]=V):V=r[22];const w=o?"To ti khon":"ng nhp";let D;r[23]!==w?(D=L.jsx("button",{type:"submit",style:V,onMouseOver:Ix,onMouseOut:Cx,children:w}),r[23]=w,r[24]=D):D=r[24];let C;r[25]!==k||r[26]!==R||r[27]!==I||r[28]!==D||r[29]!==ae?(C=L.jsxs("form",{onSubmit:k,style:Q,children:[ae,R,I,D]}),r[25]=k,r[26]=R,r[27]=I,r[28]=D,r[29]=ae,r[30]=C):C=r[30];let Ue;r[31]===Symbol.for("react.memo_cache_sentinel")?(Ue={marginTop:20,width:"100%",padding:"10px 0",borderRadius:8,border:"none",background:"#e0e7ff",color:"#6366f1",fontWeight:500,fontSize:15,cursor:"pointer",transition:"background 0.2s, color 0.2s"},r[31]=Ue):Ue=r[31];let Ke;r[32]===Symbol.for("react.memo_cache_sentinel")?(Ke=()=>u(Ax),r[32]=Ke):Ke=r[32];const X=o?" c ti khon? ng nhp":"Cha c ti khon? ng k";let re;r[33]!==X?(re=L.jsx("button",{style:Ue,onMouseOver:Rx,onMouseOut:wx,onClick:Ke,children:X}),r[33]=X,r[34]=re):re=r[34];let pe;return r[35]!==C||r[36]!==re||r[37]!==Z?(pe=L.jsxs("div",{style:z,children:[Z,C,re]}),r[35]=C,r[36]=re,r[37]=Z,r[38]=pe):pe=r[38],pe}function Ax(r){return!r}function wx(r){r.target.style.background="#e0e7ff",r.target.style.color="#6366f1"}function Rx(r){r.target.style.background="#6366f1",r.target.style.color="#fff"}function Cx(r){return r.target.style.background="linear-gradient(90deg,#6366f1 0%,#818cf8 100%)"}function Ix(r){return r.target.style.background="linear-gradient(90deg,#818cf8 0%,#6366f1 100%)"}function Dx(r){return r.target.style.border="1px solid #c7d2fe"}function Ox(r){return r.target.style.border="1.5px solid #6366f1"}function Nx(r){return r.target.style.border="1px solid #c7d2fe"}function xx(r){return r.target.style.border="1.5px solid #6366f1"}function Mx(){const r=ai.c(10),{currentUser:e,role:n}=bs();if(n==="uservip"){let s;r[0]===Symbol.for("react.memo_cache_sentinel")?(s={padding:24},r[0]=s):s=r[0];const o=e?.email;let u;r[1]!==o?(u=L.jsxs("h2",{children:["Chao xn: ",o]}),r[1]=o,r[2]=u):u=r[2];let h;r[3]!==n?(h=L.jsxs("p",{children:["Vai tr hin ti: ",L.jsx("b",{children:n})]}),r[3]=n,r[4]=h):h=r[4];let m;r[5]===Symbol.for("react.memo_cache_sentinel")?(m=L.jsx("a",{href:"http://localhost:5173/react-firebase-role/#/christmas",rel:"noopener noreferrer",style:{textDecoration:"none"},children:L.jsx("button",{style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"12px 32px",fontSize:"16px",fontWeight:"600",borderRadius:"8px",cursor:"pointer",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.3s ease",display:"inline-block"},onMouseOver:kx,onMouseOut:Vx,children:"Click  xem"})}),r[5]=m):m=r[5];let p;return r[6]!==u||r[7]!==h?(p=L.jsxs("div",{style:s,children:[u,h,m]}),r[6]=u,r[7]=h,r[8]=p):p=r[8],p}else{let s;return r[9]===Symbol.for("react.memo_cache_sentinel")?(s=L.jsxs("div",{style:{padding:24},children:[L.jsx("h2",{children:"Dashboard"}),L.jsx("p",{children:"Cho mng bn n vi th gii ca ti."})]}),r[9]=s):s=r[9],s}}function Vx(r){r.target.style.backgroundColor="#007bff",r.target.style.transform="translateY(0)",r.target.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"}function kx(r){r.target.style.backgroundColor="#0056b3",r.target.style.transform="translateY(-3px)",r.target.style.boxShadow="0 8px 16px rgba(0, 0, 0, 0.2)"}function Px(){const{role:r,currentUser:e}=bs(),[n,s]=q.useState([]),[o,u]=q.useState({uid:"",email:"",role:"user"}),[h,m]=q.useState(!1),[p,g]=q.useState(""),[E,T]=q.useState(["admin","user","quality","uservip"]);if(r!=="admin")return L.jsx(sa,{to:"/dashboard",replace:!0});q.useEffect(()=>{const w=Ui(ct,"users"),D=Co(w,C=>{const Ue=C.docs.map(Ke=>({id:Ke.id,...Ke.data()}));s(Ue)},C=>g(C.message));return()=>D()},[]),q.useEffect(()=>{const w=wn(ct,"settings","roles"),D=Co(w,async C=>{if(!C.exists())await Ro(w,{roles:["admin","user","quality"]},{merge:!0}),T(["admin","user","quality"]);else{const Ue=C.data()||{},Ke=Array.isArray(Ue.roles)?Ue.roles:[];Ke.length&&T(Ke)}},C=>g(C.message));return()=>D()},[]);const A=q.useMemo(()=>n.filter(w=>w.role==="admin").length,[n]),k=w=>n.find(C=>C.id===w)?.role==="admin"&&A<=1,z=w=>e?.uid===w,Y=async(w,D)=>{try{if(g(""),z(w)&&D!=="admin"){g("Bn khng th t h cp chnh mnh.");return}if(k(w)&&D!=="admin"){g("Khng th h cp admin cui cng. Vui lng to thm admin khc trc.");return}m(!0),await ur(wn(ct,"users",w),{role:D})}catch(C){g(C.message)}finally{m(!1)}},H=async w=>{if(confirm("Xa trng 'role' khi ngi dng ny?"))try{if(g(""),z(w)){g("Bn khng th xa role ca chnh mnh.");return}if(k(w)){g("Khng th xo role ca admin cui cng.");return}m(!0),await ur(wn(ct,"users",w),{role:ax()})}catch(D){g(D.message)}finally{m(!1)}},Z=async w=>{try{if(g(""),z(w)){g("Bn khng th t h cp chnh mnh.");return}if(k(w)){g("Khng th h cp admin cui cng. Vui lng to thm admin khc trc.");return}m(!0),await ur(wn(ct,"users",w),{role:"user"})}catch(D){g(D.message)}finally{m(!1)}},Q=async(w,D)=>{try{m(!0),await ur(wn(ct,"users",w),{email:D})}catch(C){g(C.message)}finally{m(!1)}},ne=async w=>{const D=n.find(C=>C.id===w);if(confirm("Xa document ngi dng ny? Thao tc khng th hon tc."))try{if(g(""),z(w)){g("Bn khng th xa chnh mnh.");return}if(D?.role==="admin"&&A<=1){g("Khng th xo document ca admin cui cng.");return}m(!0),await rx(wn(ct,"users",w))}catch(C){g(C.message)}finally{m(!1)}},de=async w=>{w.preventDefault(),g("");try{m(!0);const D=o.uid.trim();D?await Ro(wn(ct,"users",D),{email:o.email||"",role:o.role||"user"},{merge:!0}):await N1(Ui(ct,"users"),{email:o.email||"",role:o.role||"user"}),u({uid:"",email:"",role:"user"})}catch(D){g(D.message)}finally{m(!1)}},ae={border:"1px solid #e0e7ff",background:"#fff",borderRadius:12,boxShadow:"0 2px 12px rgba(99,102,241,0.07)",padding:16,marginBottom:8,transition:"box-shadow 0.2s"},ue={padding:"10px 14px",borderRadius:8,border:"1px solid #c7d2fe",fontSize:15,outline:"none",background:"#f3f4f6",marginBottom:2,transition:"border 0.2s"},O={...ue,padding:"10px 12px",cursor:"pointer",background:"#eef2ff"},R={padding:"8px 16px",borderRadius:8,border:"none",background:"#6366f1",color:"#fff",fontWeight:500,fontSize:15,cursor:"pointer",transition:"background 0.2s",boxShadow:"0 2px 6px rgba(99,102,241,0.09)"},I={...R,background:"#ef4444",color:"#fff",marginLeft:4},V={...R,background:"#818cf8",color:"#fff",marginLeft:4};return L.jsxs("div",{style:{maxWidth:820,margin:"32px auto",padding:"32px 24px",background:"linear-gradient(135deg,#e0e7ff 0%,#f3f4f6 100%)",borderRadius:22,boxShadow:"0 6px 32px rgba(99,102,241,0.08)",fontFamily:"Segoe UI, Arial, sans-serif"},children:[L.jsx("h2",{style:{textAlign:"center",color:"#6366f1",fontWeight:700,marginBottom:18},children:"Khu vc Admin"}),p&&L.jsx("div",{style:{color:p.startsWith("i")?"#22c55e":"#ef4444",background:p.startsWith("i")?"#dcfce7":"#fee2e2",border:`1px solid ${p.startsWith("i")?"#bbf7d0":"#fecaca"}`,borderRadius:8,padding:"10px 14px",fontSize:15,marginBottom:16,textAlign:"center"},children:p}),L.jsxs("section",{style:{margin:"32px 0 28px 0"},children:[L.jsx("h3",{style:{color:"#374151",fontWeight:600,marginBottom:10},children:"Thm/Sa document ngi dng"}),L.jsxs("form",{onSubmit:de,style:{display:"grid",gap:12,maxWidth:520},children:[L.jsx("input",{style:ue,placeholder:"UID (nu ngi dng  ng k Auth).  trng nu mun to ID t sinh.",value:o.uid,onChange:w=>u(D=>({...D,uid:w.target.value})),onFocus:w=>w.target.style.border="1.5px solid #6366f1",onBlur:w=>w.target.style.border="1px solid #c7d2fe"}),L.jsx("input",{style:ue,placeholder:"Email (tu chn)",value:o.email,onChange:w=>u(D=>({...D,email:w.target.value})),onFocus:w=>w.target.style.border="1.5px solid #6366f1",onBlur:w=>w.target.style.border="1px solid #c7d2fe"}),L.jsx("select",{style:O,value:o.role,onChange:w=>u(D=>({...D,role:w.target.value})),children:E.map(w=>L.jsx("option",{value:w,children:w},w))}),L.jsx("button",{type:"submit",disabled:h,style:R,onMouseOver:w=>w.target.style.background="#818cf8",onMouseOut:w=>w.target.style.background="#6366f1",children:"Thm/Sa doc"})]}),L.jsxs("small",{style:{color:"#64748b",marginTop:8,display:"block"},children:[" Vic ny ",L.jsx("b",{children:"khng to ti khon ng nhp"}),". Ngi dng cn ",L.jsx("b",{children:"t ng k"}),"  c UID tht."]})]}),L.jsxs("section",{children:[L.jsxs("h3",{style:{color:"#374151",fontWeight:600,marginBottom:10},children:["Danh sch ngi dng (",L.jsx("code",{children:"users"}),")"]}),L.jsxs("div",{style:{display:"grid",gap:18},children:[n.map(w=>L.jsxs("div",{style:ae,onMouseOver:D=>D.currentTarget.style.boxShadow="0 4px 18px rgba(99,102,241,0.12)",onMouseOut:D=>D.currentTarget.style.boxShadow="0 2px 12px rgba(99,102,241,0.07)",children:[L.jsxs("div",{style:{display:"grid",gap:8},children:[L.jsxs("label",{style:{color:"#6366f1",fontWeight:500},children:["Doc ID (uid): ",L.jsx("span",{style:{color:"#374151"},children:w.id})]}),L.jsxs("label",{style:{color:"#374151"},children:["Email:",L.jsx("input",{style:{...ue,width:240,display:"inline-block"},value:w.email||"",onChange:D=>Q(w.id,D.target.value),disabled:h,onFocus:D=>D.target.style.border="1.5px solid #6366f1",onBlur:D=>D.target.style.border="1px solid #c7d2fe"})]}),L.jsxs("label",{style:{color:"#374151"},children:["Role:",L.jsx("select",{style:{...O,minWidth:120,display:"inline-block"},value:w.role||"user",onChange:D=>Y(w.id,D.target.value),disabled:h,children:E.map(D=>L.jsx("option",{value:D,children:D},D))})]})]}),L.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,flexWrap:"wrap"},children:[L.jsx("button",{style:V,onMouseOver:D=>D.target.style.background="#6366f1",onMouseOut:D=>D.target.style.background="#818cf8",onClick:()=>Z(w.id),disabled:h||z(w.id),children:"Reset role  user"}),L.jsx("button",{style:R,onMouseOver:D=>D.target.style.background="#818cf8",onMouseOut:D=>D.target.style.background="#6366f1",onClick:()=>H(w.id),disabled:h||z(w.id),children:"Xa role (delete field)"}),L.jsx("button",{style:I,onMouseOver:D=>D.target.style.background="#b91c1c",onMouseOut:D=>D.target.style.background="#ef4444",onClick:()=>ne(w.id),disabled:h||z(w.id),children:"Xa doc"})]})]},w.id)),n.length===0&&L.jsx("i",{style:{color:"#64748b",fontSize:15},children:"Cha c ngi dng no."})]})]})]})}function Lx(){const r=ai.c(1);let e;return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=L.jsxs("div",{style:{padding:24},children:[L.jsx("h2",{children:"404 - Khng tm thy trang"}),L.jsx(ni,{to:"/",children:"V trang ch"})]}),r[0]=e):e=r[0],e}function B0(r){const e=ai.c(1),{children:n}=r,{currentUser:s}=bs();if(!s){let o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=L.jsx(sa,{to:"/login",replace:!0}),e[0]=o):o=e[0],o}return n}function Hm(r){const e=ai.c(2),{roles:n,children:s}=r,o=n===void 0?[]:n,{currentUser:u,role:h}=bs();if(!u){let m;return e[0]===Symbol.for("react.memo_cache_sentinel")?(m=L.jsx(sa,{to:"/login",replace:!0}),e[0]=m):m=e[0],m}if(!o.includes(h)){let m;return e[1]===Symbol.for("react.memo_cache_sentinel")?(m=L.jsx(sa,{to:"/dashboard",replace:!0}),e[1]=m):m=e[1],m}return s}const dr=wn(ct,"settings","roles");async function Ux(){const r=await Nu(dr);if(!r.exists())return await Ro(dr,{roles:["admin","user","quality"]}),["admin","user","quality"];const e=r.data()||{},n=Array.isArray(e.roles)?e.roles:[];return n.length?n:["admin","user","quality"]}async function zx(r){const e=(r||"").trim();if(!e)throw new Error("Tn role khng c rng.");if(e.toLowerCase()==="admin")throw new Error("Khng th to role 'admin'.");const n=await Nu(dr);if((n.exists()?n.data().roles||[]:[]).includes(e))throw new Error("Role  tn ti.");return await ur(dr,{roles:M1(e)}).catch(async()=>{await Ro(dr,{roles:[e]},{merge:!0})}),e}async function Bx(r,e){const n=(r||"").trim(),s=(e||"").trim();if(!n||!s)throw new Error("Tn role khng hp l.");if(n===s)return{updated:0};if(n==="admin")throw new Error("Khng th i tn role 'admin'.");if(s==="admin")throw new Error("Khng th i tn thnh 'admin'.");const o=await Nu(dr),u=o.exists()?o.data().roles||[]:[];if(!u.includes(n))throw new Error("Role c khng tn ti.");if(u.includes(s))throw new Error("Role mi  tn ti.");const h=Ui(ct,"users"),m=vf(h,Eg("role","==",n)),g=(await O1(m)).docs,E=450;for(let T=0;T<g.length;T+=E){const A=lx(ct);g.slice(T,T+E).forEach(k=>A.update(k.ref,{role:s})),await A.commit()}return await ur(dr,{roles:M1(s)}),await ur(dr,{roles:V1(n)}),{updated:g.length}}async function jx(r){const e=(r||"").trim();if(!e)throw new Error("Role khng hp l.");if(e==="admin")throw new Error("Khng th xo role 'admin'.");const n=Ui(ct,"users"),s=vf(n,Eg("role","==",e)),o=await O1(s);if(!o.empty)throw new Error(`Khng th xo v cn ${o.size} ngi dng ang dng role '${e}'.`);return await ur(dr,{roles:V1(e)}),e}function qx(){const{role:r}=bs(),[e,n]=q.useState([]),[s,o]=q.useState(""),[u,h]=q.useState(null),[m,p]=q.useState(""),[g,E]=q.useState(!1),[T,A]=q.useState("");if(r!=="admin")return L.jsx(sa,{to:"/dashboard",replace:!0});q.useEffect(()=>{const Q=wn(ct,"settings","roles"),ne=Co(Q,async de=>{if(de.exists()){const ae=de.data()||{};n(Array.isArray(ae.roles)?ae.roles:[])}else{const ae=await Ux();n(ae)}},de=>A(de.message));return()=>ne()},[]),q.useMemo(()=>e.filter(Q=>Q!=="admin"),[e]);const k=async Q=>{Q.preventDefault(),A("");try{E(!0),await zx(s),o(""),A("Thm role mi thnh cng.")}catch(ne){A(ne.message)}finally{E(!1)}},z=Q=>{h(Q),p(e[Q]||"")},Y=()=>{h(null),p("")},H=async()=>{if(u==null)return;const Q=e[u],ne=m.trim();if(!ne||ne===Q){Y();return}A("");try{E(!0);const{updated:de}=await Bx(Q,ne);A(`i '${Q}'  '${ne}' thnh cng.  cp nht ${de} user.`)}catch(de){A(de.message)}finally{E(!1),Y()}},Z=async Q=>{if(confirm(`Xo role '${Q}'?`)){A("");try{E(!0),await jx(Q),A(` xo role '${Q}'.`)}catch(ne){A(ne.message)}finally{E(!1)}}};return L.jsxs("div",{style:{padding:24},children:[L.jsx("h2",{children:"Qun l loi Role"}),L.jsxs("p",{children:["Thm, i tn, xo cc loi role h thng. (Role ",L.jsx("b",{children:"admin"})," khng th i tn hoc xo)"]}),L.jsxs("section",{style:{marginTop:16},children:[L.jsx("h3",{children:"Thm role mi"}),L.jsxs("form",{onSubmit:k,style:{display:"flex",gap:8,maxWidth:520},children:[L.jsx("input",{placeholder:"Tn role (v d: operator)",value:s,onChange:Q=>o(Q.target.value),disabled:g,style:{flex:1}}),L.jsx("button",{type:"submit",disabled:g,children:"Thm"})]}),L.jsx("small",{children:"Gi : t tn ch thng, khng du, khng khong trng."})]}),T&&L.jsx("div",{style:{margin:"12px 0",color:/thnh cng|/.test(T)?"green":"crimson"},children:T}),L.jsxs("section",{style:{margin:"16px 0"},children:[L.jsx("h3",{children:"Danh sch role"}),L.jsxs("ul",{style:{listStyle:"none",padding:0,display:"grid",gap:8,maxWidth:520},children:[e.map((Q,ne)=>L.jsx("li",{style:{border:"1px solid #ddd",borderRadius:8,padding:10,display:"flex",alignItems:"center",gap:8},children:u===ne?L.jsxs(L.Fragment,{children:[L.jsx("input",{value:m,onChange:de=>p(de.target.value),disabled:g,style:{flex:1}}),L.jsx("button",{onClick:H,disabled:g,children:"Lu"}),L.jsx("button",{onClick:Y,disabled:g,children:"Hu"})]}):L.jsxs(L.Fragment,{children:[L.jsx("span",{style:{flex:1},children:Q==="admin"?L.jsx("b",{children:Q}):Q}),Q!=="admin"&&L.jsxs(L.Fragment,{children:[L.jsx("button",{onClick:()=>z(ne),disabled:g,children:"i tn"}),L.jsx("button",{onClick:()=>Z(Q),disabled:g,style:{color:"#b00"},children:"Xo"})]})]})},Q)),e.length===0&&L.jsx("i",{children:"Cha c role no."})]})]})]})}const Hx=["Chc bn Ging Sinh an lnh!","Merry Christmas v nm mi hnh phc!","Ging Sinh vui v bn ngi thn yu!","Chc bn ma l hi trn y yu thng!","An lnh, hnh phc v thnh cng!","Ging Sinh m p, ngp trn nim vui!","Chc bn mt ma Noel tuyt vi!","Merry Christmas & Happy Holidays!"];function Rn(r,e){return Math.random()*(e-r)+r}const Fx=r=>{const e=ai.c(8);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={x:Rn(0,100),y:Rn(-10,0),opacity:Rn(.5,1),size:Rn(8,20),speed:Rn(1,3),swing:Rn(-20,20)},e[0]=n):n=e[0];const[s,o]=q.useState(n);let u,h;if(e[1]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{const T=setInterval(()=>{o(Kx)},50);return()=>clearInterval(T)},h=[],e[1]=u,e[2]=h):(u=e[1],h=e[2]),q.useEffect(u,h),s.y>100)return null;const m=`${s.x}%`,p=`${s.y}%`,g=`${s.size}px`;let E;return e[3]!==s.opacity||e[4]!==m||e[5]!==p||e[6]!==g?(E=L.jsx("div",{style:{position:"fixed",left:m,top:p,fontSize:g,opacity:s.opacity,pointerEvents:"none",zIndex:1},children:""}),e[3]=s.opacity,e[4]=m,e[5]=p,e[6]=g,e[7]=E):E=e[7],E},j0=r=>{const e=ai.c(5),{style:n}=r,[s,o]=q.useState(0);let u,h;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{const g=setInterval(()=>{o(Qx)},50);return()=>clearInterval(g)},h=[],e[0]=u,e[1]=h):(u=e[0],h=e[1]),q.useEffect(u,h);const m=`rotate(${s*.3}deg) scale(1.1)`;let p;return e[2]!==n||e[3]!==m?(p=L.jsx("div",{style:{...n,fontSize:80,transform:m,transition:"transform 0.05s linear",filter:"drop-shadow(0 0 10px rgba(34, 139, 34, 0.6))"},children:""}),e[2]=n,e[3]=m,e[4]=p):p=e[4],p},q0=r=>{const e=ai.c(5),{style:n}=r,[s,o]=q.useState(0);let u,h;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{const g=setInterval(()=>{o(Yx)},50);return()=>clearInterval(g)},h=[],e[0]=u,e[1]=h):(u=e[0],h=e[1]),q.useEffect(u,h);const m=`translateY(${Math.sin(s)*15}px) scale(1.1)`;let p;return e[2]!==n||e[3]!==m?(p=L.jsx("div",{style:{...n,fontSize:60,transform:m,transition:"transform 0.05s ease-in-out",filter:"drop-shadow(0 0 8px rgba(255, 105, 180, 0.7))"},children:""}),e[2]=n,e[3]=m,e[4]=p):p=e[4],p};function Gx(){const[r,e]=q.useState([]),[n,s]=q.useState([]);return q.useEffect(()=>{const o=Hx.map((u,h)=>({id:h,text:u,x:Rn(0,90),y:Rn(0,80),rotate:Rn(-15,15),scale:Rn(.8,1.2),dx:Rn(-.3,.3),dy:Rn(-.3,.3),dRotate:Rn(-.3,.3)}));e(o),s(Array.from({length:30},(u,h)=>h))},[]),q.useEffect(()=>{const o=setInterval(()=>{e(u=>u.map(h=>{let m=h.x+h.dx,p=h.y+h.dy,g=h.rotate+h.dRotate;return(m<0||m>90)&&(h.dx=-h.dx),(p<0||p>80)&&(h.dy=-h.dy),(g<-30||g>30)&&(h.dRotate=-h.dRotate),{...h,x:m,y:p,rotate:g}}))},50);return()=>clearInterval(o)},[]),L.jsxs("div",{style:{position:"relative",height:"100vh",background:"linear-gradient(135deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%)",overflow:"hidden",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",color:"#fff",padding:24},children:[n.map(o=>L.jsx(Fx,{id:o},o)),L.jsx(j0,{style:{position:"absolute",left:20,top:100,zIndex:5}}),L.jsx(j0,{style:{position:"absolute",right:20,top:100,zIndex:5}}),L.jsx(q0,{style:{position:"absolute",left:30,bottom:100,zIndex:5}}),L.jsx(q0,{style:{position:"absolute",right:30,bottom:100,zIndex:5}}),L.jsx("h1",{style:{textAlign:"center",marginBottom:40,textShadow:"2px 2px 8px #a83232",fontSize:48,zIndex:10,position:"relative"},children:" Mng Ging Sinh an lnh "}),r.map(({id:o,text:u,x:h,y:m,rotate:p,scale:g})=>L.jsx("div",{style:{position:"absolute",left:`${h}%`,top:`${m}%`,transform:`rotate(${p}deg) scale(${g})`,backgroundColor:"rgba(255, 255, 255, 0.2)",padding:"10px 18px",borderRadius:12,boxShadow:"0 4px 8px rgba(0,0,0,0.2)",fontWeight:"600",cursor:"default",userSelect:"none",whiteSpace:"nowrap",transition:"background-color 0.3s ease",zIndex:2},onMouseEnter:E=>{E.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.5)",E.currentTarget.style.transform=`rotate(${p}deg) scale(${g*1.2})`,E.currentTarget.style.zIndex="10"},onMouseLeave:E=>{E.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",E.currentTarget.style.transform=`rotate(${p}deg) scale(${g})`,E.currentTarget.style.zIndex="2"},children:u},o)),L.jsx("footer",{style:{position:"absolute",bottom:12,width:"100%",textAlign:"center",fontSize:14,color:"rgba(255,255,255,0.7)",fontStyle:"italic",zIndex:10},children:"Chc bn mt ma Ging Sinh an lnh v trn y nim vui!"})]})}function Kx(r){return{...r,y:r.y+r.speed,x:r.x+Math.sin(r.y*.05)*.5}}function Qx(r){return(r+.5)%360}function Yx(r){return(r+.1)%(Math.PI*2)}function Xx(r,e){return[r,e].sort().join("_")}async function $x(r,e,n,s,o=null){if(!e.trim())return;const u=s?Ui(ct,"private_chats",n,"messages"):Ui(ct,"messages");if(await N1(u,{text:e.trim(),uid:r.uid,email:r.email,role:r.role||"user",createdAt:_p()}),s&&o){const h=wn(ct,"private_chats",n);await Ro(h,{users:[r.uid,o],unread:{[o]:ox(1)},lastMessage:e.trim(),updatedAt:_p()},{merge:!0})}}async function H0(r,e){if(!r||!e)return;const n=wn(ct,"private_chats",r);await ur(n,{[`unread.${e}`]:0}).catch(s=>{console.log("Phng cha tn ti, khng cn markAsRead")})}function Wx(r,e){const n=vf(Ui(ct,"private_chats"),Eg("users","array-contains",r));return Co(n,s=>{const o={};s.docs.forEach(u=>{const h=u.data(),m=h.unread?.[r]||0,p=h.users?.find(g=>g!==r);p&&(o[p]=m)}),e(o)})}function Jx(r,e="messages",n=!1){const s=n?Ui(ct,"private_chats",e,"messages"):Ui(ct,"messages"),o=vf(s,ex("createdAt","asc"),tx(100));return Co(o,u=>{const h=u.docs.map(m=>({id:m.id,...m.data()}));r(h)})}function Zx(){const{currentUser:r,role:e}=bs(),[n,s]=q.useState([]),[o,u]=q.useState(""),[h,m]=q.useState([]),[p,g]=q.useState(null),[E,T]=q.useState({}),A=q.useRef(null);q.useEffect(()=>{const ae=Co(Ui(ct,"users"),ue=>{const O=ue.docs.map(R=>({id:R.id,...R.data()}));m(O.filter(R=>R.id!==r.uid))});return()=>ae()},[r.uid]),q.useEffect(()=>{const ae=Wx(r.uid,ue=>{T(ue)});return()=>ae()},[r.uid]);const k=p?Xx(r.uid,p.id):"messages",z=!!p;q.useEffect(()=>{s([]),u(""),z&&H0(k,r.uid);const ae=Jx(ue=>{s(ue),z&&H0(k,r.uid)},k,z);return()=>ae()},[k,z,r.uid]);const Y=async ae=>{if(ae.preventDefault(),!!o.trim())try{await $x({...r,role:e},o,k,z,p?.id),u("")}catch(ue){console.error(ue)}},H=ae=>{const ue=E[ae];return!ue||ue===0?null:L.jsx("span",{style:{background:"#ef4444",color:"white",fontSize:"10px",fontWeight:"bold",padding:"2px 6px",borderRadius:"10px",marginLeft:"auto",minWidth:"16px",textAlign:"center"},children:ue>10?"10+":ue})},Z={display:"flex",height:"85vh",maxWidth:1e3,margin:"20px auto",background:"#fff",borderRadius:16,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",overflow:"hidden",border:"1px solid #e0e7ff"},Q={width:"30%",borderRight:"1px solid #e0e7ff",background:"#f9fafb",display:"flex",flexDirection:"column"},ne={width:"70%",display:"flex",flexDirection:"column",background:"#fff"},de=ae=>({padding:"12px 16px",cursor:"pointer",background:ae?"#e0e7ff":"transparent",borderBottom:"1px solid #f3f4f6",transition:"0.2s",fontWeight:ae?"600":"400",color:ae?"#4f46e5":"#374151",display:"flex",alignItems:"center",justifyContent:"space-between"});return L.jsxs("div",{style:Z,children:[L.jsxs("div",{style:Q,children:[L.jsx("div",{style:{padding:16,fontWeight:"bold",borderBottom:"1px solid #e0e7ff",background:"#fff"},children:"Danh sch thnh vin"}),L.jsxs("div",{style:{overflowY:"auto",flex:1},children:[L.jsx("div",{style:de(p===null),onClick:()=>g(null),children:L.jsx("span",{children:" Chat Chung"})}),h.map(ae=>L.jsxs("div",{style:de(p?.id===ae.id),onClick:()=>g(ae),children:[L.jsxs("span",{children:[" ",ae.email?.split("@")[0],ae.role==="admin"&&L.jsx("span",{style:{color:"red",fontSize:12},children:" (Admin)"})]}),p?.id!==ae.id&&H(ae.id)]},ae.id))]})]}),L.jsxs("div",{style:ne,children:[L.jsx("div",{style:{padding:"16px 24px",borderBottom:"1px solid #e0e7ff",background:z?"#f0fdf4":"#eef2ff",fontWeight:"bold",color:"#374151"},children:z?` Chat ring: ${p?.email}`:" Phng Chat Chung"}),L.jsxs("div",{style:{flex:1,padding:20,overflowY:"auto",background:"#f9fafb",display:"flex",flexDirection:"column",gap:12},children:[n.length===0&&L.jsx("div",{style:{textAlign:"center",color:"#9ca3af"},children:"Cha c tin nhn"}),n.map(ae=>{const ue=ae.uid===r?.uid;return L.jsxs("div",{style:{alignSelf:ue?"flex-end":"flex-start",maxWidth:"70%",display:"flex",flexDirection:"column",alignItems:ue?"flex-end":"flex-start"},children:[!ue&&L.jsx("small",{style:{color:"#6b7280",marginBottom:4,fontSize:11},children:ae.email?.split("@")[0]}),L.jsx("div",{style:{padding:"10px 16px",borderRadius:12,background:ue?z?"#10b981":"#6366f1":"#e5e7eb",color:ue?"#fff":"#374151",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",borderBottomRightRadius:ue?2:12,borderBottomLeftRadius:ue?12:2},children:ae.text})]},ae.id)}),L.jsx("div",{ref:A})]}),L.jsxs("form",{onSubmit:Y,style:{padding:16,borderTop:"1px solid #e0e7ff",display:"flex",gap:10},children:[L.jsx("input",{value:o,onChange:ae=>u(ae.target.value),placeholder:"Nhp tin nhn...",style:{flex:1,padding:"12px 16px",borderRadius:24,border:"1px solid #c7d2fe",outline:"none"}}),L.jsx("button",{type:"submit",disabled:!o.trim(),style:{padding:"0 24px",borderRadius:24,border:"none",background:z?"#10b981":"#6366f1",color:"#fff",fontWeight:"600",cursor:"pointer"},children:"Gi"})]})]})]})}function e4(){const r=ai.c(9);let e;r[0]===Symbol.for("react.memo_cache_sentinel")?(e=L.jsx(gx,{}),r[0]=e):e=r[0];let n;r[1]===Symbol.for("react.memo_cache_sentinel")?(n=L.jsx(ar,{path:"/",element:L.jsx(sa,{to:"/dashboard",replace:!0})}),r[1]=n):n=r[1];let s;r[2]===Symbol.for("react.memo_cache_sentinel")?(s=L.jsx(ar,{path:"/login",element:L.jsx(bx,{})}),r[2]=s):s=r[2];let o;r[3]===Symbol.for("react.memo_cache_sentinel")?(o=L.jsx(ar,{path:"/dashboard",element:L.jsx(B0,{children:L.jsx(Mx,{})})}),r[3]=o):o=r[3];let u;r[4]===Symbol.for("react.memo_cache_sentinel")?(u=L.jsx(ar,{path:"/admin",element:L.jsx(Hm,{roles:["admin"],children:L.jsx(Px,{})})}),r[4]=u):u=r[4];let h;r[5]===Symbol.for("react.memo_cache_sentinel")?(h=L.jsx(ar,{path:"/roles",element:L.jsx(Hm,{roles:["admin"],children:L.jsx(qx,{})})}),r[5]=h):h=r[5];let m;r[6]===Symbol.for("react.memo_cache_sentinel")?(m=L.jsx(ar,{path:"/christmas",element:L.jsx(Hm,{roles:["uservip","admin"],children:L.jsx(Gx,{})})}),r[6]=m):m=r[6];let p;r[7]===Symbol.for("react.memo_cache_sentinel")?(p=L.jsx(ar,{path:"/chat",element:L.jsx(B0,{children:L.jsx(Zx,{})})}),r[7]=p):p=r[7];let g;return r[8]===Symbol.for("react.memo_cache_sentinel")?(g=L.jsxs(L.Fragment,{children:[e,L.jsxs(_w,{children:[n,s,o,u,h,m,p,L.jsx(ar,{path:"*",element:L.jsx(Lx,{})})]})]}),r[8]=g):g=r[8],g}wA.createRoot(document.getElementById("root")).render(L.jsx(yA.StrictMode,{children:L.jsx(fx,{children:L.jsx(jw,{children:L.jsx(e4,{})})})}));
