(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function B0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var _m={exports:{}},Hl={};var Hv;function hA(){if(Hv)return Hl;Hv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=e,Hl.jsx=n,Hl.jsxs=n,Hl}var Fv;function fA(){return Fv||(Fv=1,_m.exports=hA()),_m.exports}var L=fA(),vm={exports:{}},we={};var Gv;function dA(){if(Gv)return we;Gv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function k(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,z={};function W(x,J,se){this.props=x,this.context=J,this.refs=z,this.updater=se||q}W.prototype.isReactComponent={},W.prototype.setState=function(x,J){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,J,"setState")},W.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function G(){}G.prototype=W.prototype;function te(x,J,se){this.props=x,this.context=J,this.refs=z,this.updater=se||q}var ce=te.prototype=new G;ce.constructor=te,Y(ce,W.prototype),ce.isPureReactComponent=!0;var me=Array.isArray;function ye(){}var O={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(x,J,se){var le=se.ref;return{$$typeof:i,type:x,key:J,ref:le!==void 0?le:null,props:se}}function V(x,J){return I(x.type,J,x.props)}function A(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function D(x){var J={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(se){return J[se]})}var C=/\/+/g;function Me(x,J){return typeof x=="object"&&x!==null&&x.key!=null?D(""+x.key):J.toString(36)}function qe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ye,ye):(x.status="pending",x.then(function(J){x.status==="pending"&&(x.status="fulfilled",x.value=J)},function(J){x.status==="pending"&&(x.status="rejected",x.reason=J)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function X(x,J,se,le,_e){var be=typeof x;(be==="undefined"||be==="boolean")&&(x=null);var De=!1;if(x===null)De=!0;else switch(be){case"bigint":case"string":case"number":De=!0;break;case"object":switch(x.$$typeof){case i:case e:De=!0;break;case E:return De=x._init,X(De(x._payload),J,se,le,_e)}}if(De)return _e=_e(x),De=le===""?"."+Me(x,0):le,me(_e)?(se="",De!=null&&(se=De.replace(C,"$&/")+"/"),X(_e,J,se,"",function(fn){return fn})):_e!=null&&(A(_e)&&(_e=V(_e,se+(_e.key==null||x&&x.key===_e.key?"":(""+_e.key).replace(C,"$&/")+"/")+De)),J.push(_e)),1;De=0;var ot=le===""?".":le+":";if(me(x))for(var Ge=0;Ge<x.length;Ge++)le=x[Ge],be=ot+Me(le,Ge),De+=X(le,J,se,be,_e);else if(Ge=k(x),typeof Ge=="function")for(x=Ge.call(x),Ge=0;!(le=x.next()).done;)le=le.value,be=ot+Me(le,Ge++),De+=X(le,J,se,be,_e);else if(be==="object"){if(typeof x.then=="function")return X(qe(x),J,se,le,_e);throw J=String(x),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return De}function re(x,J,se){if(x==null)return x;var le=[],_e=0;return X(x,le,"","",function(be){return J.call(se,be,_e++)}),le}function fe(x){if(x._status===-1){var J=x._result;J=J(),J.then(function(se){(x._status===0||x._status===-1)&&(x._status=1,x._result=se)},function(se){(x._status===0||x._status===-1)&&(x._status=2,x._result=se)}),x._status===-1&&(x._status=0,x._result=J)}if(x._status===1)return x._result.default;throw x._result}var ve=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ve={map:re,forEach:function(x,J,se){re(x,function(){J.apply(this,arguments)},se)},count:function(x){var J=0;return re(x,function(){J++}),J},toArray:function(x){return re(x,function(J){return J})||[]},only:function(x){if(!A(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return we.Activity=T,we.Children=Ve,we.Component=W,we.Fragment=n,we.Profiler=o,we.PureComponent=te,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,we.__COMPILER_RUNTIME={__proto__:null,c:function(x){return O.H.useMemoCache(x)}},we.cache=function(x){return function(){return x.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(x,J,se){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var le=Y({},x.props),_e=x.key;if(J!=null)for(be in J.key!==void 0&&(_e=""+J.key),J)!R.call(J,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&J.ref===void 0||(le[be]=J[be]);var be=arguments.length-2;if(be===1)le.children=se;else if(1<be){for(var De=Array(be),ot=0;ot<be;ot++)De[ot]=arguments[ot+2];le.children=De}return I(x.type,_e,le)},we.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},we.createElement=function(x,J,se){var le,_e={},be=null;if(J!=null)for(le in J.key!==void 0&&(be=""+J.key),J)R.call(J,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(_e[le]=J[le]);var De=arguments.length-2;if(De===1)_e.children=se;else if(1<De){for(var ot=Array(De),Ge=0;Ge<De;Ge++)ot[Ge]=arguments[Ge+2];_e.children=ot}if(x&&x.defaultProps)for(le in De=x.defaultProps,De)_e[le]===void 0&&(_e[le]=De[le]);return I(x,be,_e)},we.createRef=function(){return{current:null}},we.forwardRef=function(x){return{$$typeof:m,render:x}},we.isValidElement=A,we.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:fe}},we.memo=function(x,J){return{$$typeof:g,type:x,compare:J===void 0?null:J}},we.startTransition=function(x){var J=O.T,se={};O.T=se;try{var le=x(),_e=O.S;_e!==null&&_e(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ye,ve)}catch(be){ve(be)}finally{J!==null&&se.types!==null&&(J.types=se.types),O.T=J}},we.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},we.use=function(x){return O.H.use(x)},we.useActionState=function(x,J,se){return O.H.useActionState(x,J,se)},we.useCallback=function(x,J){return O.H.useCallback(x,J)},we.useContext=function(x){return O.H.useContext(x)},we.useDebugValue=function(){},we.useDeferredValue=function(x,J){return O.H.useDeferredValue(x,J)},we.useEffect=function(x,J){return O.H.useEffect(x,J)},we.useEffectEvent=function(x){return O.H.useEffectEvent(x)},we.useId=function(){return O.H.useId()},we.useImperativeHandle=function(x,J,se){return O.H.useImperativeHandle(x,J,se)},we.useInsertionEffect=function(x,J){return O.H.useInsertionEffect(x,J)},we.useLayoutEffect=function(x,J){return O.H.useLayoutEffect(x,J)},we.useMemo=function(x,J){return O.H.useMemo(x,J)},we.useOptimistic=function(x,J){return O.H.useOptimistic(x,J)},we.useReducer=function(x,J,se){return O.H.useReducer(x,J,se)},we.useRef=function(x){return O.H.useRef(x)},we.useState=function(x){return O.H.useState(x)},we.useSyncExternalStore=function(x,J,se){return O.H.useSyncExternalStore(x,J,se)},we.useTransition=function(){return O.H.useTransition()},we.version="19.2.0",we}var Kv;function Xh(){return Kv||(Kv=1,vm.exports=dA()),vm.exports}var H=Xh();const mA=B0(H);var Em={exports:{}},Fl={},Tm={exports:{}},Sm={};var Qv;function pA(){return Qv||(Qv=1,(function(i){function e(X,re){var fe=X.length;X.push(re);e:for(;0<fe;){var ve=fe-1>>>1,Ve=X[ve];if(0<o(Ve,re))X[ve]=re,X[fe]=Ve,fe=ve;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var re=X[0],fe=X.pop();if(fe!==re){X[0]=fe;e:for(var ve=0,Ve=X.length,x=Ve>>>1;ve<x;){var J=2*(ve+1)-1,se=X[J],le=J+1,_e=X[le];if(0>o(se,fe))le<Ve&&0>o(_e,se)?(X[ve]=_e,X[le]=fe,ve=le):(X[ve]=se,X[J]=fe,ve=J);else if(le<Ve&&0>o(_e,fe))X[ve]=_e,X[le]=fe,ve=le;else break e}}return re}function o(X,re){var fe=X.sortIndex-re.sortIndex;return fe!==0?fe:X.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,w=3,k=!1,q=!1,Y=!1,z=!1,W=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ce(X){for(var re=n(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=X)s(g),re.sortIndex=re.expirationTime,e(p,re);else break;re=n(g)}}function me(X){if(Y=!1,ce(X),!q)if(n(p)!==null)q=!0,ye||(ye=!0,D());else{var re=n(g);re!==null&&qe(me,re.startTime-X)}}var ye=!1,O=-1,R=5,I=-1;function V(){return z?!0:!(i.unstable_now()-I<R)}function A(){if(z=!1,ye){var X=i.unstable_now();I=X;var re=!0;try{e:{q=!1,Y&&(Y=!1,G(O),O=-1),k=!0;var fe=w;try{t:{for(ce(X),T=n(p);T!==null&&!(T.expirationTime>X&&V());){var ve=T.callback;if(typeof ve=="function"){T.callback=null,w=T.priorityLevel;var Ve=ve(T.expirationTime<=X);if(X=i.unstable_now(),typeof Ve=="function"){T.callback=Ve,ce(X),re=!0;break t}T===n(p)&&s(p),ce(X)}else s(p);T=n(p)}if(T!==null)re=!0;else{var x=n(g);x!==null&&qe(me,x.startTime-X),re=!1}}break e}finally{T=null,w=fe,k=!1}re=void 0}}finally{re?D():ye=!1}}}var D;if(typeof te=="function")D=function(){te(A)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Me=C.port2;C.port1.onmessage=A,D=function(){Me.postMessage(null)}}else D=function(){W(A,0)};function qe(X,re){O=W(function(){X(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(X){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var fe=w;w=re;try{return X()}finally{w=fe}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var fe=w;w=X;try{return re()}finally{w=fe}},i.unstable_scheduleCallback=function(X,re,fe){var ve=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ve+fe:ve):fe=ve,X){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=fe+Ve,X={id:E++,callback:re,priorityLevel:X,startTime:fe,expirationTime:Ve,sortIndex:-1},fe>ve?(X.sortIndex=fe,e(g,X),n(p)===null&&X===n(g)&&(Y?(G(O),O=-1):Y=!0,qe(me,fe-ve))):(X.sortIndex=Ve,e(p,X),q||k||(q=!0,ye||(ye=!0,D()))),X},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(X){var re=w;return function(){var fe=w;w=re;try{return X.apply(this,arguments)}finally{w=fe}}}})(Sm)),Sm}var Yv;function gA(){return Yv||(Yv=1,Tm.exports=pA()),Tm.exports}var bm={exports:{}},en={};var Xv;function yA(){if(Xv)return en;Xv=1;var i=Xh();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},en.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.2.0",en}var $v;function _A(){if($v)return bm.exports;$v=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),bm.exports=yA(),bm.exports}var Wv;function vA(){if(Wv)return Fl;Wv=1;var i=gA(),e=Xh(),n=_A();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function D(t){return t===null||typeof t!="object"?null:(t=A&&t[A]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case W:return"Profiler";case z:return"StrictMode";case me:return"Suspense";case ye:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case te:return t.displayName||"Context";case G:return(t._context.displayName||"Context")+".Consumer";case ce:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return r=t.displayName||null,r!==null?r:Me(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return Me(t(r))}catch{}}return null}var qe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},ve=[],Ve=-1;function x(t){return{current:t}}function J(t){0>Ve||(t.current=ve[Ve],ve[Ve]=null,Ve--)}function se(t,r){Ve++,ve[Ve]=t.current,t.current=r}var le=x(null),_e=x(null),be=x(null),De=x(null);function ot(t,r){switch(se(be,r),se(_e,t),se(le,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?fv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=fv(r),t=dv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(le),se(le,t)}function Ge(){J(le),J(_e),J(be)}function fn(t){t.memoizedState!==null&&se(De,t);var r=le.current,a=dv(r,t.type);r!==a&&(se(_e,t),se(le,a))}function ei(t){_e.current===t&&(J(le),J(_e)),De.current===t&&(J(De),zl._currentValue=fe)}var Sn,ti;function an(t){if(Sn===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Sn=r&&r[1]||"",ti=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sn+t+ti}var er=!1;function kn(t,r){if(!t||er)return"";er=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var F=Q}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Q){F=Q}t.call(ne.prototype)}}else{try{throw Error()}catch(Q){F=Q}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),j=S.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===j.length)for(l=N.length-1,f=j.length-1;1<=l&&0<=f&&N[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==j[f]){var $=`
`+N[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=f);break}}}finally{er=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?an(a):""}function Pn(t,r){switch(t.tag){case 26:case 27:case 5:return an(t.type);case 16:return an("Lazy");case 13:return t.child!==r&&r!==null?an("Suspense Fallback"):an("Suspense");case 19:return an("SuspenseList");case 0:case 15:return kn(t.type,!1);case 11:return kn(t.type.render,!1);case 1:return kn(t.type,!0);case 31:return an("Activity");default:return""}}function Ti(t){try{var r="",a=null;do r+=Pn(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var lt=Object.prototype.hasOwnProperty,ft=i.unstable_scheduleCallback,on=i.unstable_cancelCallback,Si=i.unstable_shouldYield,ni=i.unstable_requestPaint,pt=i.unstable_now,Ln=i.unstable_getCurrentPriorityLevel,dt=i.unstable_ImmediatePriority,gt=i.unstable_UserBlockingPriority,Ut=i.unstable_NormalPriority,Ho=i.unstable_LowPriority,ku=i.unstable_IdlePriority,Pu=i.log,Lu=i.unstable_setDisableYieldValue,ii=null,Gt=null;function Un(t){if(typeof Pu=="function"&&Lu(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ii,t)}catch{}}var Et=Math.clz32?Math.clz32:zu,Uu=Math.log,Ra=Math.LN2;function zu(t){return t>>>=0,t===0?32:31-(Uu(t)/Ra|0)|0}var bi=256,Ls=262144,Rt=4194304;function Ai(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wi(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=Ai(l):(_&=S,_!==0?f=Ai(_):a||(a=S&~t,a!==0&&(f=Ai(a))))):(S=l&~d,S!==0?f=Ai(S):_!==0?f=Ai(_):a||(a=l&~t,a!==0&&(f=Ai(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function ri(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Sf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bu(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function Ri(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Us(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bf(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-Et(a),ne=1<<$;S[$]=0,N[$]=-1;var F=j[$];if(F!==null)for(j[$]=null,$=0;$<F.length;$++){var Q=F[$];Q!==null&&(Q.lane&=-536870913)}a&=~ne}l!==0&&zs(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function zs(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Et(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Fo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Et(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Go(t,r){var a=r&-r;return a=(a&42)!==0?1:Bs(a),(a&(t.suspendedLanes|r))!==0?0:a}function Bs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function tr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ju(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:Pv(t.type))}function si(t,r){var a=re.p;try{return re.p=t,r()}finally{re.p=a}}var ai=Math.random().toString(36).slice(2),Ct="__reactFiber$"+ai,jt="__reactProps$"+ai,Ci="__reactContainer$"+ai,Ca="__reactEvents$"+ai,Af="__reactListeners$"+ai,qu="__reactHandles$"+ai,Hu="__reactResources$"+ai,Ii="__reactMarker$"+ai;function Ia(t){delete t[Ct],delete t[jt],delete t[Ca],delete t[Af],delete t[qu]}function Di(t){var r=t[Ct];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ci]||a[Ct]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Ev(t);t!==null;){if(a=t[Ct])return a;t=Ev(t)}return r}t=a,a=t.parentNode}return null}function zn(t){if(t=t[Ct]||t[Ci]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function bn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Oi(t){var r=t[Hu];return r||(r=t[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function It(t){t[Ii]=!0}var Ko=new Set,Qo={};function Ni(t,r){xi(t,r),xi(t+"Capture",r)}function xi(t,r){for(Qo[t]=r,t=0;t<r.length;t++)Ko.add(r[t])}var Yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},$o={};function Fu(t){return lt.call($o,t)?!0:lt.call(Xo,t)?!1:Yo.test(t)?$o[t]=!0:(Xo[t]=!0,!1)}function Da(t,r,a){if(Fu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function An(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Dt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Wo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Xe(t){if(!t._valueTracker){var r=Pr(t)?"checked":"value";t._valueTracker=Wo(t,r,""+t[r])}}function js(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Pr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qs=/[\n"\\]/g;function dn(t){return t.replace(qs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Oa(t,r,a,l,f,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+qt(r)):t.value!==""+qt(r)&&(t.value=""+qt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Jo(t,_,qt(r)):a!=null?Jo(t,_,qt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+qt(S):t.removeAttribute("name")}function Gu(t,r,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Xe(t);return}a=a!=null?""+qt(a):"",r=r!=null?""+qt(r):a,S||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function Jo(t,r,a){r==="number"&&Mi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Lr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+qt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Ku(t,r,a){if(r!=null&&(r=""+qt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+qt(a):""}function Ur(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(qe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=qt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function mn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Qu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function el(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Zo(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Zo(t,d,r[d])}function Na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(t){return zr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var tl=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Br=null,Vi=null;function Hs(t){var r=zn(t);if(r&&(t=r.stateNode)){var a=t[jt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Oa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[jt]||null;if(!f)throw Error(s(90));Oa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&js(l)}break e;case"textarea":Ku(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Lr(t,!!a.multiple,r,!1)}}}var Ma=!1;function jr(t,r,a){if(Ma)return t(r,a);Ma=!0;try{var l=t(r);return l}finally{if(Ma=!1,(Br!==null||Vi!==null)&&(jc(),Br&&(r=Br,t=Vi,Vi=Br=null,Hs(r),t)))for(r=0;r<t.length;r++)Hs(t[r])}}function li(t,r){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fs=!1;if(jn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Fs=!1}var ki=null,nl=null,Gs=null;function il(){if(Gs)return Gs;var t,r=nl,a=r.length,l,f="value"in ki?ki.value:ki.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Gs=f.slice(t,1<l?1-l:void 0)}function Ks(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function nr(){return!0}function ui(){return!1}function Kt(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?nr:ui,this.isPropagationStopped=ui,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),r}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=Kt(ir),qr=T({},ir,{view:0,detail:0}),rl=Kt(qr),Hr,Va,Li,ka=T({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(Hr=t.screenX-Li.screenX,Va=t.screenY-Li.screenY):Va=Hr=0,Li=t),Hr)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),sl=Kt(ka),Qs=T({},ka,{dataTransfer:0}),Xu=Kt(Qs),$u=T({},qr,{relatedTarget:0}),Ys=Kt($u),al=T({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Wu=Kt(al),Pa=T({},ir,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ju=Kt(Pa),Zu=T({},ir,{data:0}),Ui=Kt(Zu),ec={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ic(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=nc[t])?!!r[t]:!1}function Fr(){return ic}var ln=T({},qr,{key:function(t){if(t.key){var r=ec[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?Ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rc=Kt(ln),sc=T({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=Kt(sc),c=T({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),y=Kt(c),v=T({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Kt(v),U=T({},ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Kt(U),ae=T({},ir,{newState:0,oldState:0}),Ce=Kt(ae),Tt=[9,13,27,32],Ke=jn&&"CompositionEvent"in window,ut=null;jn&&"documentMode"in document&&(ut=document.documentMode);var qn=jn&&"TextEvent"in window&&!ut,zi=jn&&(!Ke||ut&&8<ut&&11>=ut),ci=" ",hi=!1;function Xs(t,r){switch(t){case"keyup":return Tt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ua=!1;function kS(t,r){switch(t){case"compositionend":return La(r);case"keypress":return r.which!==32?null:(hi=!0,ci);case"textInput":return t=r.data,t===ci&&hi?null:t;default:return null}}function PS(t,r){if(Ua)return t==="compositionend"||!Ke&&Xs(t,r)?(t=il(),Gs=nl=ki=null,Ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return zi&&r.locale!=="ko"?null:r.data;default:return null}}var LS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!LS[t.type]:r==="textarea"}function Ag(t,r,a,l){Br?Vi?Vi.push(l):Vi=[l]:Br=l,r=Yc(r,"onChange"),0<r.length&&(a=new Pi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var ol=null,ll=null;function US(t){av(t,0)}function ac(t){var r=bn(t);if(js(r))return t}function wg(t,r){if(t==="change")return r}var Rg=!1;if(jn){var wf;if(jn){var Rf="oninput"in document;if(!Rf){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Rf=typeof Cg.oninput=="function"}wf=Rf}else wf=!1;Rg=wf&&(!document.documentMode||9<document.documentMode)}function Ig(){ol&&(ol.detachEvent("onpropertychange",Dg),ll=ol=null)}function Dg(t){if(t.propertyName==="value"&&ac(ll)){var r=[];Ag(r,ll,t,Bn(t)),jr(US,r)}}function zS(t,r,a){t==="focusin"?(Ig(),ol=r,ll=a,ol.attachEvent("onpropertychange",Dg)):t==="focusout"&&Ig()}function BS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ac(ll)}function jS(t,r){if(t==="click")return ac(r)}function qS(t,r){if(t==="input"||t==="change")return ac(r)}function HS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var wn=typeof Object.is=="function"?Object.is:HS;function ul(t,r){if(wn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!lt.call(r,f)||!wn(t[f],r[f]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ng(t,r){var a=Og(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Og(a)}}function xg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?xg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Mi(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Mi(t.document)}return r}function Cf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var FS=jn&&"documentMode"in document&&11>=document.documentMode,za=null,If=null,cl=null,Df=!1;function Vg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Df||za==null||za!==Mi(l)||(l=za,"selectionStart"in l&&Cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=Yc(If,"onSelect"),0<l.length&&(r=new Pi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=za)))}function $s(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ba={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},Of={},kg={};jn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Ws(t){if(Of[t])return Of[t];if(!Ba[t])return t;var r=Ba[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in kg)return Of[t]=r[a];return t}var Pg=Ws("animationend"),Lg=Ws("animationiteration"),Ug=Ws("animationstart"),GS=Ws("transitionrun"),KS=Ws("transitionstart"),QS=Ws("transitioncancel"),zg=Ws("transitionend"),Bg=new Map,Nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nf.push("scrollEnd");function fi(t,r){Bg.set(t,r),Ni(r,[t])}var oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],ja=0,xf=0;function lc(){for(var t=ja,r=xf=ja=0;r<t;){var a=Hn[r];Hn[r++]=null;var l=Hn[r];Hn[r++]=null;var f=Hn[r];Hn[r++]=null;var d=Hn[r];if(Hn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&jg(a,f,d)}}function uc(t,r,a,l){Hn[ja++]=t,Hn[ja++]=r,Hn[ja++]=a,Hn[ja++]=l,xf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Mf(t,r,a,l){return uc(t,r,a,l),cc(t)}function Js(t,r){return uc(t,null,null,r),cc(t)}function jg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-Et(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function cc(t){if(50<xl)throw xl=0,qd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var qa={};function YS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,r,a,l){return new YS(t,r,a,l)}function Vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sr(t,r){var a=t.alternate;return a===null?(a=Rn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function qg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function hc(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")Vf(t)&&(_=1);else if(typeof t=="string")_=Zb(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Rn(31,a,r,f),t.elementType=I,t.lanes=d,t;case Y:return Zs(a.children,f,d,r);case z:_=8,f|=24;break;case W:return t=Rn(12,a,r,f|2),t.elementType=W,t.lanes=d,t;case me:return t=Rn(13,a,r,f),t.elementType=me,t.lanes=d,t;case ye:return t=Rn(19,a,r,f),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:_=10;break e;case G:_=9;break e;case ce:_=11;break e;case O:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Rn(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Zs(t,r,a,l){return t=Rn(7,t,l,r),t.lanes=a,t}function kf(t,r,a){return t=Rn(6,t,null,r),t.lanes=a,t}function Hg(t){var r=Rn(18,null,null,0);return r.stateNode=t,r}function Pf(t,r,a){return r=Rn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Fg=new WeakMap;function Fn(t,r){if(typeof t=="object"&&t!==null){var a=Fg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Ti(r)},Fg.set(t,r),r)}return{value:t,source:r,stack:Ti(r)}}var Ha=[],Fa=0,fc=null,hl=0,Gn=[],Kn=0,Gr=null,Bi=1,ji="";function ar(t,r){Ha[Fa++]=hl,Ha[Fa++]=fc,fc=t,hl=r}function Gg(t,r,a){Gn[Kn++]=Bi,Gn[Kn++]=ji,Gn[Kn++]=Gr,Gr=t;var l=Bi;t=ji;var f=32-Et(l)-1;l&=~(1<<f),a+=1;var d=32-Et(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Bi=1<<32-Et(r)+f|a<<f|l,ji=d+t}else Bi=1<<d|a<<f|l,ji=t}function Lf(t){t.return!==null&&(ar(t,1),Gg(t,1,0))}function Uf(t){for(;t===fc;)fc=Ha[--Fa],Ha[Fa]=null,hl=Ha[--Fa],Ha[Fa]=null;for(;t===Gr;)Gr=Gn[--Kn],Gn[Kn]=null,ji=Gn[--Kn],Gn[Kn]=null,Bi=Gn[--Kn],Gn[Kn]=null}function Kg(t,r){Gn[Kn++]=Bi,Gn[Kn++]=ji,Gn[Kn++]=Gr,Bi=r.id,ji=r.overflow,Gr=t}var Qt=null,rt=null,Be=!1,Kr=null,Qn=!1,zf=Error(s(519));function Qr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(Fn(r,t)),zf}function Qg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Ct]=t,r[jt]=l,a){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(a=0;a<Vl.length;a++)xe(Vl[a],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":xe("invalid",r),Gu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",r);break;case"textarea":xe("invalid",r),Ur(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||cv(r.textContent,a)?(l.popover!=null&&(xe("beforetoggle",r),xe("toggle",r)),l.onScroll!=null&&xe("scroll",r),l.onScrollEnd!=null&&xe("scrollend",r),l.onClick!=null&&(r.onclick=oi),r=!0):r=!1,r||Qr(t,!0)}function Yg(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Qt=Qt.return}}function Ga(t){if(t!==Qt)return!1;if(!Be)return Yg(t),Be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||im(t.type,t.memoizedProps)),a=!a),a&&rt&&Qr(t),Yg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=vv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=vv(t)}else r===27?(r=rt,os(t.type)?(t=lm,lm=null,rt=t):rt=r):rt=Qt?Xn(t.stateNode.nextSibling):null;return!0}function ea(){rt=Qt=null,Be=!1}function Bf(){var t=Kr;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),Kr=null),t}function fl(t){Kr===null?Kr=[t]:Kr.push(t)}var jf=x(null),ta=null,or=null;function Yr(t,r,a){se(jf,r._currentValue),r._currentValue=a}function lr(t){t._currentValue=jf.current,J(jf)}function qf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Hf(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var N=0;N<r.length;N++)if(S.context===r[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),qf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),qf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ka(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;wn(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===De.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}f=f.return}t!==null&&Hf(r,t,a,l),r.flags|=262144}function dc(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function na(t){ta=t,or=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Xg(ta,t)}function mc(t,r){return ta===null&&na(t),Xg(t,r)}function Xg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},or===null){if(t===null)throw Error(s(308));or=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else or=or.next=r;return a}var XS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},$S=i.unstable_scheduleCallback,WS=i.unstable_NormalPriority,Ot={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new XS,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&$S(WS,function(){t.controller.abort()})}var ml=null,Gf=0,Qa=0,Ya=null;function JS(t,r){if(ml===null){var a=ml=[];Gf=0,Qa=Yd(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,r.then($g,$g),r}function $g(){if(--Gf===0&&ml!==null){Ya!==null&&(Ya.status="fulfilled");var t=ml;ml=null,Qa=0,Ya=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function ZS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Wg=X.S;X.S=function(t,r){V_=pt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&JS(t,r),Wg!==null&&Wg(t,r)};var ia=x(null);function Kf(){var t=ia.current;return t!==null?t:nt.pooledCache}function pc(t,r){r===null?se(ia,ia.current):se(ia,r.pool)}function Jg(){var t=Kf();return t===null?null:{parent:Ot._currentValue,pool:t}}var Xa=Error(s(460)),Qf=Error(s(474)),gc=Error(s(542)),yc={then:function(){}};function Zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ey(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(oi,oi),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ny(t),t;default:if(typeof r.status=="string")r.then(oi,oi);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ny(t),t}throw sa=r,Xa}}function ra(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(sa=a,Xa):a}}var sa=null;function ty(){if(sa===null)throw Error(s(459));var t=sa;return sa=null,t}function ny(t){if(t===Xa||t===gc)throw Error(s(483))}var $a=null,pl=0;function _c(t){var r=pl;return pl+=1,$a===null&&($a=[]),ey($a,t,r)}function gl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function vc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function iy(t){function r(P,M){if(t){var B=P.deletions;B===null?(P.deletions=[M],P.flags|=16):B.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)r(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function f(P,M){return P=sr(P,M),P.index=0,P.sibling=null,P}function d(P,M,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<M?(P.flags|=67108866,M):B):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,M,B,Z){return M===null||M.tag!==6?(M=kf(B,P.mode,Z),M.return=P,M):(M=f(M,B),M.return=P,M)}function N(P,M,B,Z){var pe=B.type;return pe===Y?$(P,M,B.props.children,Z,B.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&ra(pe)===M.type)?(M=f(M,B.props),gl(M,B),M.return=P,M):(M=hc(B.type,B.key,B.props,null,P.mode,Z),gl(M,B),M.return=P,M)}function j(P,M,B,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Pf(B,P.mode,Z),M.return=P,M):(M=f(M,B.children||[]),M.return=P,M)}function $(P,M,B,Z,pe){return M===null||M.tag!==7?(M=Zs(B,P.mode,Z,pe),M.return=P,M):(M=f(M,B),M.return=P,M)}function ne(P,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=kf(""+M,P.mode,B),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return B=hc(M.type,M.key,M.props,null,P.mode,B),gl(B,M),B.return=P,B;case q:return M=Pf(M,P.mode,B),M.return=P,M;case R:return M=ra(M),ne(P,M,B)}if(qe(M)||D(M))return M=Zs(M,P.mode,B,null),M.return=P,M;if(typeof M.then=="function")return ne(P,_c(M),B);if(M.$$typeof===te)return ne(P,mc(P,M),B);vc(P,M)}return null}function F(P,M,B,Z){var pe=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:S(P,M,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return B.key===pe?N(P,M,B,Z):null;case q:return B.key===pe?j(P,M,B,Z):null;case R:return B=ra(B),F(P,M,B,Z)}if(qe(B)||D(B))return pe!==null?null:$(P,M,B,Z,null);if(typeof B.then=="function")return F(P,M,_c(B),Z);if(B.$$typeof===te)return F(P,M,mc(P,B),Z);vc(P,B)}return null}function Q(P,M,B,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(B)||null,S(M,P,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:return P=P.get(Z.key===null?B:Z.key)||null,N(M,P,Z,pe);case q:return P=P.get(Z.key===null?B:Z.key)||null,j(M,P,Z,pe);case R:return Z=ra(Z),Q(P,M,B,Z,pe)}if(qe(Z)||D(Z))return P=P.get(B)||null,$(M,P,Z,pe,null);if(typeof Z.then=="function")return Q(P,M,B,_c(Z),pe);if(Z.$$typeof===te)return Q(P,M,B,mc(M,Z),pe);vc(M,Z)}return null}function he(P,M,B,Z){for(var pe=null,He=null,de=M,Oe=M=0,Pe=null;de!==null&&Oe<B.length;Oe++){de.index>Oe?(Pe=de,de=null):Pe=de.sibling;var Fe=F(P,de,B[Oe],Z);if(Fe===null){de===null&&(de=Pe);break}t&&de&&Fe.alternate===null&&r(P,de),M=d(Fe,M,Oe),He===null?pe=Fe:He.sibling=Fe,He=Fe,de=Pe}if(Oe===B.length)return a(P,de),Be&&ar(P,Oe),pe;if(de===null){for(;Oe<B.length;Oe++)de=ne(P,B[Oe],Z),de!==null&&(M=d(de,M,Oe),He===null?pe=de:He.sibling=de,He=de);return Be&&ar(P,Oe),pe}for(de=l(de);Oe<B.length;Oe++)Pe=Q(de,P,Oe,B[Oe],Z),Pe!==null&&(t&&Pe.alternate!==null&&de.delete(Pe.key===null?Oe:Pe.key),M=d(Pe,M,Oe),He===null?pe=Pe:He.sibling=Pe,He=Pe);return t&&de.forEach(function(fs){return r(P,fs)}),Be&&ar(P,Oe),pe}function Ee(P,M,B,Z){if(B==null)throw Error(s(151));for(var pe=null,He=null,de=M,Oe=M=0,Pe=null,Fe=B.next();de!==null&&!Fe.done;Oe++,Fe=B.next()){de.index>Oe?(Pe=de,de=null):Pe=de.sibling;var fs=F(P,de,Fe.value,Z);if(fs===null){de===null&&(de=Pe);break}t&&de&&fs.alternate===null&&r(P,de),M=d(fs,M,Oe),He===null?pe=fs:He.sibling=fs,He=fs,de=Pe}if(Fe.done)return a(P,de),Be&&ar(P,Oe),pe;if(de===null){for(;!Fe.done;Oe++,Fe=B.next())Fe=ne(P,Fe.value,Z),Fe!==null&&(M=d(Fe,M,Oe),He===null?pe=Fe:He.sibling=Fe,He=Fe);return Be&&ar(P,Oe),pe}for(de=l(de);!Fe.done;Oe++,Fe=B.next())Fe=Q(de,P,Oe,Fe.value,Z),Fe!==null&&(t&&Fe.alternate!==null&&de.delete(Fe.key===null?Oe:Fe.key),M=d(Fe,M,Oe),He===null?pe=Fe:He.sibling=Fe,He=Fe);return t&&de.forEach(function(cA){return r(P,cA)}),Be&&ar(P,Oe),pe}function tt(P,M,B,Z){if(typeof B=="object"&&B!==null&&B.type===Y&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case k:e:{for(var pe=B.key;M!==null;){if(M.key===pe){if(pe=B.type,pe===Y){if(M.tag===7){a(P,M.sibling),Z=f(M,B.props.children),Z.return=P,P=Z;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&ra(pe)===M.type){a(P,M.sibling),Z=f(M,B.props),gl(Z,B),Z.return=P,P=Z;break e}a(P,M);break}else r(P,M);M=M.sibling}B.type===Y?(Z=Zs(B.props.children,P.mode,Z,B.key),Z.return=P,P=Z):(Z=hc(B.type,B.key,B.props,null,P.mode,Z),gl(Z,B),Z.return=P,P=Z)}return _(P);case q:e:{for(pe=B.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(P,M.sibling),Z=f(M,B.children||[]),Z.return=P,P=Z;break e}else{a(P,M);break}else r(P,M);M=M.sibling}Z=Pf(B,P.mode,Z),Z.return=P,P=Z}return _(P);case R:return B=ra(B),tt(P,M,B,Z)}if(qe(B))return he(P,M,B,Z);if(D(B)){if(pe=D(B),typeof pe!="function")throw Error(s(150));return B=pe.call(B),Ee(P,M,B,Z)}if(typeof B.then=="function")return tt(P,M,_c(B),Z);if(B.$$typeof===te)return tt(P,M,mc(P,B),Z);vc(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(P,M.sibling),Z=f(M,B),Z.return=P,P=Z):(a(P,M),Z=kf(B,P.mode,Z),Z.return=P,P=Z),_(P)):a(P,M)}return function(P,M,B,Z){try{pl=0;var pe=tt(P,M,B,Z);return $a=null,pe}catch(de){if(de===Xa||de===gc)throw de;var He=Rn(29,de,null,P.mode);return He.lanes=Z,He.return=P,He}finally{}}}var aa=iy(!0),ry=iy(!1),Xr=!1;function Yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $r(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=cc(t),jg(t,null,a),r}return uc(t,l,r,a),cc(t)}function yl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Fo(t,a)}}function $f(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Wf=!1;function _l(){if(Wf){var t=Ya;if(t!==null)throw t}}function vl(t,r,a,l){Wf=!1;var f=t.updateQueue;Xr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,j=N.next;N.next=null,_===null?d=j:_.next=j,_=N;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=j:S.next=j,$.lastBaseUpdate=N))}if(d!==null){var ne=f.baseState;_=0,$=j=N=null,S=d;do{var F=S.lane&-536870913,Q=F!==S.lane;if(Q?(ke&F)===F:(l&F)===F){F!==0&&F===Qa&&(Wf=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,Ee=S;F=r;var tt=a;switch(Ee.tag){case 1:if(he=Ee.payload,typeof he=="function"){ne=he.call(tt,ne,F);break e}ne=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ee.payload,F=typeof he=="function"?he.call(tt,ne,F):he,F==null)break e;ne=T({},ne,F);break e;case 2:Xr=!0}}F=S.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(j=$=Q,N=ne):$=$.next=Q,_|=F;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);$===null&&(N=ne),f.baseState=N,f.firstBaseUpdate=j,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),ns|=_,t.lanes=_,t.memoizedState=ne}}function sy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function ay(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sy(a[t],r)}var Wa=x(null),Ec=x(0);function oy(t,r){t=yr,se(Ec,t),se(Wa,r),yr=t|r.baseLanes}function Jf(){se(Ec,yr),se(Wa,Wa.current)}function Zf(){yr=Ec.current,J(Wa),J(Ec)}var Cn=x(null),Yn=null;function Jr(t){var r=t.alternate;se(St,St.current&1),se(Cn,t),Yn===null&&(r===null||Wa.current!==null||r.memoizedState!==null)&&(Yn=t)}function ed(t){se(St,St.current),se(Cn,t),Yn===null&&(Yn=t)}function ly(t){t.tag===22?(se(St,St.current),se(Cn,t),Yn===null&&(Yn=t)):Zr()}function Zr(){se(St,St.current),se(Cn,Cn.current)}function In(t){J(Cn),Yn===t&&(Yn=null),J(St)}var St=x(0);function Tc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||am(a)||om(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ur=0,Ie=null,Ze=null,Nt=null,Sc=!1,Ja=!1,oa=!1,bc=0,El=0,Za=null,eb=0;function yt(){throw Error(s(321))}function td(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!wn(t[a],r[a]))return!1;return!0}function nd(t,r,a,l,f,d){return ur=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?Gy:yd,oa=!1,d=a(l,f),oa=!1,Ja&&(d=cy(r,a,l,f)),uy(t),d}function uy(t){X.H=bl;var r=Ze!==null&&Ze.next!==null;if(ur=0,Nt=Ze=Ie=null,Sc=!1,El=0,Za=null,r)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&dc(t)&&(xt=!0))}function cy(t,r,a,l){Ie=t;var f=0;do{if(Ja&&(Za=null),El=0,Ja=!1,25<=f)throw Error(s(301));if(f+=1,Nt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=Ky,d=r(a,l)}while(Ja);return d}function tb(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?Tl(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ie.flags|=1024),r}function id(){var t=bc!==0;return bc=0,t}function rd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function sd(t){if(Sc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Sc=!1}ur=0,Nt=Ze=Ie=null,Ja=!1,El=bc=0,Za=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ie.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function bt(){if(Ze===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=Nt===null?Ie.memoizedState:Nt.next;if(r!==null)Nt=r,Ze=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Nt===null?Ie.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(t){var r=El;return El+=1,Za===null&&(Za=[]),t=ey(Za,t,r),r=Ie,(Nt===null?r.memoizedState:Nt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Gy:yd),t}function wc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tl(t);if(t.$$typeof===te)return Yt(t)}throw Error(s(438,String(t)))}function ad(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ac(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=V;return r.index++,a}function cr(t,r){return typeof r=="function"?r(t):r}function Rc(t){var r=bt();return od(r,Ze,t)}function od(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var S=_=null,N=null,j=r,$=!1;do{var ne=j.lane&-536870913;if(ne!==j.lane?(ke&ne)===ne:(ur&ne)===ne){var F=j.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ne===Qa&&($=!0);else if((ur&F)===F){j=j.next,F===Qa&&($=!0);continue}else ne={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(S=N=ne,_=d):N=N.next=ne,Ie.lanes|=F,ns|=F;ne=j.action,oa&&a(d,ne),d=j.hasEagerState?j.eagerState:a(d,ne)}else F={lane:ne,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(S=N=F,_=d):N=N.next=F,Ie.lanes|=ne,ns|=ne;j=j.next}while(j!==null&&j!==r);if(N===null?_=d:N.next=S,!wn(d,t.memoizedState)&&(xt=!0,$&&(a=Ya,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ld(t){var r=bt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);wn(d,r.memoizedState)||(xt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function hy(t,r,a){var l=Ie,f=bt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!wn((Ze||f).memoizedState,a);if(_&&(f.memoizedState=a,xt=!0),f=f.queue,hd(my.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,eo(9,{destroy:void 0},dy.bind(null,l,f,a,r),null),nt===null)throw Error(s(349));d||(ur&127)!==0||fy(l,r,a)}return a}function fy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=Ac(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function dy(t,r,a,l){r.value=a,r.getSnapshot=l,py(r)&&gy(t)}function my(t,r,a){return a(function(){py(r)&&gy(t)})}function py(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!wn(t,a)}catch{return!0}}function gy(t){var r=Js(t,2);r!==null&&vn(r,t,2)}function ud(t){var r=un();if(typeof t=="function"){var a=t;if(t=a(),oa){Un(!0);try{a()}finally{Un(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:t},r}function yy(t,r,a,l){return t.baseState=a,od(t,Ze,typeof l=="function"?l:cr)}function nb(t,r,a,l,f){if(Dc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,_y(r,d)):(d.next=a.next,r.pending=a.next=d)}}function _y(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=X.T,_={};X.T=_;try{var S=a(f,l),N=X.S;N!==null&&N(_,S),vy(t,r,S)}catch(j){cd(t,r,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),vy(t,r,d)}catch(j){cd(t,r,j)}}function vy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ey(t,r,l)},function(l){return cd(t,r,l)}):Ey(t,r,a)}function Ey(t,r,a){r.status="fulfilled",r.value=a,Ty(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,_y(t,a)))}function cd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ty(r),r=r.next;while(r!==l)}t.action=null}function Ty(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Sy(t,r){return r}function by(t,r){if(Be){var a=nt.formState;if(a!==null){e:{var l=Ie;if(Be){if(rt){t:{for(var f=rt,d=Qn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Xn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){rt=Xn(f.nextSibling),l=f.data==="F!";break e}}Qr(l)}l=!1}l&&(r=a[0])}}return a=un(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:r},a.queue=l,a=qy.bind(null,Ie,l),l.dispatch=a,l=ud(!1),d=gd.bind(null,Ie,!1,l.queue),l=un(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=nb.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Ay(t){var r=bt();return wy(r,Ze,t)}function wy(t,r,a){if(r=od(t,r,Sy)[0],t=Rc(cr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Tl(r)}catch(_){throw _===Xa?gc:_}else l=r;r=bt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,eo(9,{destroy:void 0},ib.bind(null,f,a),null)),[l,d,t]}function ib(t,r){t.action=r}function Ry(t){var r=bt(),a=Ze;if(a!==null)return wy(r,a,t);bt(),r=r.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function eo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Ac(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Cy(){return bt().memoizedState}function Cc(t,r,a,l){var f=un();Ie.flags|=t,f.memoizedState=eo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Ic(t,r,a,l){var f=bt();l=l===void 0?null:l;var d=f.memoizedState.inst;Ze!==null&&l!==null&&td(l,Ze.memoizedState.deps)?f.memoizedState=eo(r,d,a,l):(Ie.flags|=t,f.memoizedState=eo(1|r,d,a,l))}function Iy(t,r){Cc(8390656,8,t,r)}function hd(t,r){Ic(2048,8,t,r)}function rb(t){Ie.flags|=4;var r=Ie.updateQueue;if(r===null)r=Ac(),Ie.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Dy(t){var r=bt().memoizedState;return rb({ref:r,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Oy(t,r){return Ic(4,2,t,r)}function Ny(t,r){return Ic(4,4,t,r)}function xy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function My(t,r,a){a=a!=null?a.concat([t]):null,Ic(4,4,xy.bind(null,r,t),a)}function fd(){}function Vy(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&td(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function ky(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&td(r,l[1]))return l[0];if(l=t(),oa){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[l,r],l}function dd(t,r,a){return a===void 0||(ur&1073741824)!==0&&(ke&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=P_(),Ie.lanes|=t,ns|=t,a)}function Py(t,r,a,l){return wn(a,r)?a:Wa.current!==null?(t=dd(t,a,l),wn(t,r)||(xt=!0),t):(ur&42)===0||(ur&1073741824)!==0&&(ke&261930)===0?(xt=!0,t.memoizedState=a):(t=P_(),Ie.lanes|=t,ns|=t,r)}function Ly(t,r,a,l,f){var d=re.p;re.p=d!==0&&8>d?d:8;var _=X.T,S={};X.T=S,gd(t,!1,r,a);try{var N=f(),j=X.S;if(j!==null&&j(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=ZS(N,l);Sl(t,r,$,Nn(t))}else Sl(t,r,l,Nn(t))}catch(ne){Sl(t,r,{then:function(){},status:"rejected",reason:ne},Nn())}finally{re.p=d,_!==null&&S.types!==null&&(_.types=S.types),X.T=_}}function sb(){}function md(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=Uy(t).queue;Ly(t,f,r,fe,a===null?sb:function(){return zy(t),a(l)})}function Uy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:fe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function zy(t){var r=Uy(t);r.next===null&&(r=t.alternate.memoizedState),Sl(t,r.next.queue,{},Nn())}function pd(){return Yt(zl)}function By(){return bt().memoizedState}function jy(){return bt().memoizedState}function ab(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Nn();t=$r(a);var l=Wr(r,t,a);l!==null&&(vn(l,r,a),yl(l,r,a)),r={cache:Ff()},t.payload=r;return}r=r.return}}function ob(t,r,a){var l=Nn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Dc(t)?Hy(r,a):(a=Mf(t,r,a,l),a!==null&&(vn(a,t,l),Fy(a,r,l)))}function qy(t,r,a){var l=Nn();Sl(t,r,a,l)}function Sl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dc(t))Hy(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,wn(S,_))return uc(t,r,f,0),nt===null&&lc(),!1}catch{}finally{}if(a=Mf(t,r,f,l),a!==null)return vn(a,t,l),Fy(a,r,l),!0}return!1}function gd(t,r,a,l){if(l={lane:2,revertLane:Yd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Dc(t)){if(r)throw Error(s(479))}else r=Mf(t,a,l,2),r!==null&&vn(r,t,2)}function Dc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function Hy(t,r){Ja=Sc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Fy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Fo(t,a)}}var bl={readContext:Yt,use:wc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};bl.useEffectEvent=yt;var Gy={readContext:Yt,use:wc,useCallback:function(t,r){return un().memoizedState=[t,r===void 0?null:r],t},useContext:Yt,useEffect:Iy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Cc(4194308,4,xy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Cc(4194308,4,t,r)},useInsertionEffect:function(t,r){Cc(4,2,t,r)},useMemo:function(t,r){var a=un();r=r===void 0?null:r;var l=t();if(oa){Un(!0);try{t()}finally{Un(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=un();if(a!==void 0){var f=a(r);if(oa){Un(!0);try{a(r)}finally{Un(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=ob.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=un();return t={current:t},r.memoizedState=t},useState:function(t){t=ud(t);var r=t.queue,a=qy.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:fd,useDeferredValue:function(t,r){var a=un();return dd(a,t,r)},useTransition:function(){var t=ud(!1);return t=Ly.bind(null,Ie,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,f=un();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(ke&127)!==0||fy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Iy(my.bind(null,l,d,t),[t]),l.flags|=2048,eo(9,{destroy:void 0},dy.bind(null,l,d,a,r),null),a},useId:function(){var t=un(),r=nt.identifierPrefix;if(Be){var a=ji,l=Bi;a=(l&~(1<<32-Et(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=bc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=eb++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:pd,useFormState:by,useActionState:by,useOptimistic:function(t){var r=un();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=gd.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:ad,useCacheRefresh:function(){return un().memoizedState=ab.bind(null,Ie)},useEffectEvent:function(t){var r=un(),a={impl:t};return r.memoizedState=a,function(){if((Qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},yd={readContext:Yt,use:wc,useCallback:Vy,useContext:Yt,useEffect:hd,useImperativeHandle:My,useInsertionEffect:Oy,useLayoutEffect:Ny,useMemo:ky,useReducer:Rc,useRef:Cy,useState:function(){return Rc(cr)},useDebugValue:fd,useDeferredValue:function(t,r){var a=bt();return Py(a,Ze.memoizedState,t,r)},useTransition:function(){var t=Rc(cr)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:Tl(t),r]},useSyncExternalStore:hy,useId:By,useHostTransitionStatus:pd,useFormState:Ay,useActionState:Ay,useOptimistic:function(t,r){var a=bt();return yy(a,Ze,t,r)},useMemoCache:ad,useCacheRefresh:jy};yd.useEffectEvent=Dy;var Ky={readContext:Yt,use:wc,useCallback:Vy,useContext:Yt,useEffect:hd,useImperativeHandle:My,useInsertionEffect:Oy,useLayoutEffect:Ny,useMemo:ky,useReducer:ld,useRef:Cy,useState:function(){return ld(cr)},useDebugValue:fd,useDeferredValue:function(t,r){var a=bt();return Ze===null?dd(a,t,r):Py(a,Ze.memoizedState,t,r)},useTransition:function(){var t=ld(cr)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:Tl(t),r]},useSyncExternalStore:hy,useId:By,useHostTransitionStatus:pd,useFormState:Ry,useActionState:Ry,useOptimistic:function(t,r){var a=bt();return Ze!==null?yy(a,Ze,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:jy};Ky.useEffectEvent=Dy;function _d(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var vd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Nn(),f=$r(l);f.payload=r,a!=null&&(f.callback=a),r=Wr(t,f,l),r!==null&&(vn(r,t,l),yl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Nn(),f=$r(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Wr(t,f,l),r!==null&&(vn(r,t,l),yl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Nn(),l=$r(a);l.tag=2,r!=null&&(l.callback=r),r=Wr(t,l,a),r!==null&&(vn(r,t,a),yl(r,t,a))}};function Qy(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!ul(a,l)||!ul(f,d):!0}function Yy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&vd.enqueueReplaceState(r,r.state,null)}function la(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Xy(t){oc(t)}function $y(t){console.error(t)}function Wy(t){oc(t)}function Oc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Jy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ed(t,r,a){return a=$r(a),a.tag=3,a.payload={element:null},a.callback=function(){Oc(t,r)},a}function Zy(t){return t=$r(t),t.tag=3,t}function e_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Jy(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Jy(r,a,l),typeof f!="function"&&(is===null?is=new Set([this]):is.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function lb(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ka(r,a,f,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Yn===null?qc():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===yc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Gd(t,l,f)),!1;case 22:return a.flags|=65536,l===yc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Gd(t,l,f)),!1}throw Error(s(435,a.tag))}return Gd(t,l,f),qc(),!1}if(Be)return r=Cn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==zf&&(t=Error(s(422),{cause:l}),fl(Fn(t,a)))):(l!==zf&&(r=Error(s(423),{cause:l}),fl(Fn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Fn(l,a),f=Ed(t.stateNode,l,f),$f(t,f),_t!==4&&(_t=2)),!1;var d=Error(s(520),{cause:l});if(d=Fn(d,a),Nl===null?Nl=[d]:Nl.push(d),_t!==4&&(_t=2),r===null)return!0;l=Fn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Ed(a.stateNode,l,t),$f(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(is===null||!is.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Zy(f),e_(f,t,a,l),$f(a,f),!1}a=a.return}while(a!==null);return!1}var Td=Error(s(461)),xt=!1;function Xt(t,r,a,l){r.child=t===null?ry(r,null,a,l):aa(r,t.child,a,l)}function t_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return na(r),l=nd(t,r,a,_,d,f),S=id(),t!==null&&!xt?(rd(t,r,f),hr(t,r,f)):(Be&&S&&Lf(r),r.flags|=1,Xt(t,r,l,f),r.child)}function n_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,i_(t,r,d,l,f)):(t=hc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Dd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(_,l)&&t.ref===r.ref)return hr(t,r,f)}return r.flags|=1,t=sr(d,l),t.ref=r.ref,t.return=r,r.child=t}function i_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(ul(d,l)&&t.ref===r.ref)if(xt=!1,r.pendingProps=l=d,Dd(t,f))(t.flags&131072)!==0&&(xt=!0);else return r.lanes=t.lanes,hr(t,r,f)}return Sd(t,r,a,l,f)}function r_(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return s_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&pc(r,d!==null?d.cachePool:null),d!==null?oy(r,d):Jf(),ly(r);else return l=r.lanes=536870912,s_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(pc(r,d.cachePool),oy(r,d),Zr(),r.memoizedState=null):(t!==null&&pc(r,null),Jf(),Zr());return Xt(t,r,f,a),r.child}function Al(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function s_(t,r,a,l,f){var d=Kf();return d=d===null?null:{parent:Ot._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&pc(r,null),Jf(),ly(r),t!==null&&Ka(t,r,l,!0),r.childLanes=f,null}function Nc(t,r){return r=Mc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function a_(t,r,a){return aa(r,t.child,null,a),t=Nc(r,r.pendingProps),t.flags|=2,In(r),r.memoizedState=null,t}function ub(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=Nc(r,l),r.lanes=536870912,Al(null,t);if(ed(r),(t=rt)?(t=_v(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Gr!==null?{id:Bi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=Hg(t),a.return=r,r.child=a,Qt=r,rt=null)):t=null,t===null)throw Qr(r);return r.lanes=536870912,null}return Nc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(ed(r),f)if(r.flags&256)r.flags&=-257,r=a_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(xt||Ka(t,r,a,!1),f=(a&t.childLanes)!==0,xt||f){if(l=nt,l!==null&&(_=Go(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Js(t,_),vn(l,t,_),Td;qc(),r=a_(t,r,a)}else t=d.treeContext,rt=Xn(_.nextSibling),Qt=r,Be=!0,Kr=null,Qn=!1,t!==null&&Kg(r,t),r=Nc(r,l),r.flags|=4096;return r}return t=sr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function xc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Sd(t,r,a,l,f){return na(r),a=nd(t,r,a,l,void 0,f),l=id(),t!==null&&!xt?(rd(t,r,f),hr(t,r,f)):(Be&&l&&Lf(r),r.flags|=1,Xt(t,r,a,f),r.child)}function o_(t,r,a,l,f,d){return na(r),r.updateQueue=null,a=cy(r,l,a,f),uy(t),l=id(),t!==null&&!xt?(rd(t,r,d),hr(t,r,d)):(Be&&l&&Lf(r),r.flags|=1,Xt(t,r,a,d),r.child)}function l_(t,r,a,l,f){if(na(r),r.stateNode===null){var d=qa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Yt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=vd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Yf(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Yt(_):qa,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(_d(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&vd.enqueueReplaceState(d,d.state,null),vl(r,l,d,f),_l(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var S=r.memoizedProps,N=la(a,S);d.props=N;var j=d.context,$=a.contextType;_=qa,typeof $=="object"&&$!==null&&(_=Yt($));var ne=a.getDerivedStateFromProps;$=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||j!==_)&&Yy(r,d,l,_),Xr=!1;var F=r.memoizedState;d.state=F,vl(r,l,d,f),_l(),j=r.memoizedState,S||F!==j||Xr?(typeof ne=="function"&&(_d(r,a,ne,l),j=r.memoizedState),(N=Xr||Qy(r,a,N,l,F,j,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Xf(t,r),_=r.memoizedProps,$=la(a,_),d.props=$,ne=r.pendingProps,F=d.context,j=a.contextType,N=qa,typeof j=="object"&&j!==null&&(N=Yt(j)),S=a.getDerivedStateFromProps,(j=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ne||F!==N)&&Yy(r,d,l,N),Xr=!1,F=r.memoizedState,d.state=F,vl(r,l,d,f),_l();var Q=r.memoizedState;_!==ne||F!==Q||Xr||t!==null&&t.dependencies!==null&&dc(t.dependencies)?(typeof S=="function"&&(_d(r,a,S,l),Q=r.memoizedState),($=Xr||Qy(r,a,$,l,F,Q,N)||t!==null&&t.dependencies!==null&&dc(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,xc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=aa(r,t.child,null,f),r.child=aa(r,null,a,f)):Xt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=hr(t,r,f),t}function u_(t,r,a,l){return ea(),r.flags|=256,Xt(t,r,a,l),r.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(t){return{baseLanes:t,cachePool:Jg()}}function wd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=On),t}function c_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(f?Jr(r):Zr(),(t=rt)?(t=_v(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Gr!==null?{id:Bi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=Hg(t),a.return=r,r.child=a,Qt=r,rt=null)):t=null,t===null)throw Qr(r);return om(t)?r.lanes=32:r.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Zr(),f=r.mode,S=Mc({mode:"hidden",children:S},f),l=Zs(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,l=r.child,l.memoizedState=Ad(a),l.childLanes=wd(t,_,a),r.memoizedState=bd,Al(null,l)):(Jr(r),Rd(r,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)r.flags&256?(Jr(r),r.flags&=-257,r=Cd(t,r,a)):r.memoizedState!==null?(Zr(),r.child=t.child,r.flags|=128,r=null):(Zr(),S=l.fallback,f=r.mode,l=Mc({mode:"visible",children:l.children},f),S=Zs(S,f,a,null),S.flags|=2,l.return=r,S.return=r,l.sibling=S,r.child=l,aa(r,t.child,null,a),l=r.child,l.memoizedState=Ad(a),l.childLanes=wd(t,_,a),r.memoizedState=bd,r=Al(null,l));else if(Jr(r),om(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,fl({value:l,source:null,stack:null}),r=Cd(t,r,a)}else if(xt||Ka(t,r,a,!1),_=(a&t.childLanes)!==0,xt||_){if(_=nt,_!==null&&(l=Go(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Js(t,l),vn(_,t,l),Td;am(S)||qc(),r=Cd(t,r,a)}else am(S)?(r.flags|=192,r.child=t.child,r=null):(t=N.treeContext,rt=Xn(S.nextSibling),Qt=r,Be=!0,Kr=null,Qn=!1,t!==null&&Kg(r,t),r=Rd(r,l.children),r.flags|=4096);return r}return f?(Zr(),S=l.fallback,f=r.mode,N=t.child,j=N.sibling,l=sr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,j!==null?S=sr(j,S):(S=Zs(S,f,a,null),S.flags|=2),S.return=r,l.return=r,l.sibling=S,r.child=l,Al(null,l),l=r.child,S=t.child.memoizedState,S===null?S=Ad(a):(f=S.cachePool,f!==null?(N=Ot._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=Jg(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=wd(t,_,a),r.memoizedState=bd,Al(t.child,l)):(Jr(r),a=t.child,t=a.sibling,a=sr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function Rd(t,r){return r=Mc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Mc(t,r){return t=Rn(22,t,null,r),t.lanes=0,t}function Cd(t,r,a){return aa(r,t.child,null,a),t=Rd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function h_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),qf(t.return,r,a)}function Id(t,r,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function f_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=St.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,se(St,_),Xt(t,r,l,a),l=Be?hl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h_(t,a,r);else if(t.tag===19)h_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Tc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Id(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Tc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Id(r,!0,a,null,d,l);break;case"together":Id(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function hr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),ns|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Ka(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=sr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=sr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Dd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&dc(t)))}function cb(t,r,a){switch(r.tag){case 3:ot(r,r.stateNode.containerInfo),Yr(r,Ot,t.memoizedState.cache),ea();break;case 27:case 5:fn(r);break;case 4:ot(r,r.stateNode.containerInfo);break;case 10:Yr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ed(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Jr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?c_(t,r,a):(Jr(r),t=hr(t,r,a),t!==null?t.sibling:null);Jr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ka(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return f_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(St,St.current),l)break;return null;case 22:return r.lanes=0,r_(t,r,a,r.pendingProps);case 24:Yr(r,Ot,t.memoizedState.cache)}return hr(t,r,a)}function d_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)xt=!0;else{if(!Dd(t,a)&&(r.flags&128)===0)return xt=!1,cb(t,r,a);xt=(t.flags&131072)!==0}else xt=!1,Be&&(r.flags&1048576)!==0&&Gg(r,hl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ra(r.elementType),r.type=t,typeof t=="function")Vf(t)?(l=la(t,l),r.tag=1,r=l_(null,r,t,l,a)):(r.tag=0,r=Sd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ce){r.tag=11,r=t_(null,r,t,l,a);break e}else if(f===O){r.tag=14,r=n_(null,r,t,l,a);break e}}throw r=Me(t)||t,Error(s(306,r,""))}}return r;case 0:return Sd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=la(l,r.pendingProps),l_(t,r,l,f,a);case 3:e:{if(ot(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Xf(t,r),vl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Yr(r,Ot,l),l!==d.cache&&Hf(r,[Ot],a,!0),_l(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=u_(t,r,l,a);break e}else if(l!==f){f=Fn(Error(s(424)),r),fl(f),r=u_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=Xn(t.firstChild),Qt=r,Be=!0,Kr=null,Qn=!0,a=ry(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ea(),l===f){r=hr(t,r,a);break e}Xt(t,r,l,a)}r=r.child}return r;case 26:return xc(t,r),t===null?(a=Av(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=Xc(be.current).createElement(a),l[Ct]=r,l[jt]=t,$t(l,a,t),It(l),r.stateNode=l):r.memoizedState=Av(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return fn(r),t===null&&Be&&(l=r.stateNode=Tv(r.type,r.pendingProps,be.current),Qt=r,Qn=!0,f=rt,os(r.type)?(lm=f,rt=Xn(l.firstChild)):rt=f),Xt(t,r,r.pendingProps.children,a),xc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((f=l=rt)&&(l=Bb(l,r.type,r.pendingProps,Qn),l!==null?(r.stateNode=l,Qt=r,rt=Xn(l.firstChild),Qn=!1,f=!0):f=!1),f||Qr(r)),fn(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,im(f,d)?l=null:_!==null&&im(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=nd(t,r,tb,null,null,a),zl._currentValue=f),xc(t,r),Xt(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=rt)&&(a=jb(a,r.pendingProps,Qn),a!==null?(r.stateNode=a,Qt=r,rt=null,t=!0):t=!1),t||Qr(r)),null;case 13:return c_(t,r,a);case 4:return ot(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=aa(r,null,l,a):Xt(t,r,l,a),r.child;case 11:return t_(t,r,r.type,r.pendingProps,a);case 7:return Xt(t,r,r.pendingProps,a),r.child;case 8:return Xt(t,r,r.pendingProps.children,a),r.child;case 12:return Xt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Yr(r,r.type,l.value),Xt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,na(r),f=Yt(f),l=l(f),r.flags|=1,Xt(t,r,l,a),r.child;case 14:return n_(t,r,r.type,r.pendingProps,a);case 15:return i_(t,r,r.type,r.pendingProps,a);case 19:return f_(t,r,a);case 31:return ub(t,r,a);case 22:return r_(t,r,a,r.pendingProps);case 24:return na(r),l=Yt(Ot),t===null?(f=Kf(),f===null&&(f=nt,d=Ff(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Yf(r),Yr(r,Ot,f)):((t.lanes&a)!==0&&(Xf(t,r),vl(r,null,null,a),_l()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Yr(r,Ot,l)):(l=d.cache,Yr(r,Ot,l),l!==f.cache&&Hf(r,[Ot],a,!0))),Xt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function fr(t){t.flags|=4}function Od(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(B_())t.flags|=8192;else throw sa=yc,Qf}else t.flags&=-16777217}function m_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Dv(r))if(B_())t.flags|=8192;else throw sa=yc,Qf}function Vc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Bu():536870912,t.lanes|=r,ro|=r)}function wl(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function hb(t,r,a){var l=r.pendingProps;switch(Uf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),lr(Ot),Ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ga(r)?fr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Bf())),st(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(fr(r),d!==null?(st(r),m_(r,d)):(st(r),Od(r,f,null,l,a))):d?d!==t.memoizedState?(fr(r),st(r),m_(r,d)):(st(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&fr(r),st(r),Od(r,f,t,l,a)),null;case 27:if(ei(r),a=be.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&fr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}t=le.current,Ga(r)?Qg(r):(t=Tv(f,l,a),r.stateNode=t,fr(r))}return st(r),null;case 5:if(ei(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&fr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(d=le.current,Ga(r))Qg(r);else{var _=Xc(be.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Ct]=r,d[jt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch($t(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&fr(r)}}return st(r),Od(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&fr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,Ga(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Qt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Ct]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||cv(t.nodeValue,a)),t||Qr(r,!0)}else t=Xc(t).createTextNode(l),t[Ct]=r,r.stateNode=t}return st(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ga(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ct]=r}else ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),t=!1}else a=Bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(In(r),r):(In(r),null);if((r.flags&128)!==0)throw Error(s(558))}return st(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ga(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ct]=r}else ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),f=!1}else f=Bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(In(r),r):(In(r),null)}return In(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Vc(r,r.updateQueue),st(r),null);case 4:return Ge(),t===null&&Jd(r.stateNode.containerInfo),st(r),null;case 10:return lr(r.type),st(r),null;case 19:if(J(St),l=r.memoizedState,l===null)return st(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)wl(l,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Tc(t),d!==null){for(r.flags|=128,wl(l,!1),t=d.updateQueue,r.updateQueue=t,Vc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)qg(a,t),a=a.sibling;return se(St,St.current&1|2),Be&&ar(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&pt()>zc&&(r.flags|=128,f=!0,wl(l,!1),r.lanes=4194304)}else{if(!f)if(t=Tc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Vc(r,t),wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return st(r),null}else 2*pt()-l.renderingStartTime>zc&&a!==536870912&&(r.flags|=128,f=!0,wl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=pt(),t.sibling=null,a=St.current,se(St,f?a&1|2:a&1),Be&&ar(r,l.treeForkCount),t):(st(r),null);case 22:case 23:return In(r),Zf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&Vc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&J(ia),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),lr(Ot),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function fb(t,r){switch(Uf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return lr(Ot),Ge(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ei(r),null;case 31:if(r.memoizedState!==null){if(In(r),r.alternate===null)throw Error(s(340));ea()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(In(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ea()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return J(St),null;case 4:return Ge(),null;case 10:return lr(r.type),null;case 22:case 23:return In(r),Zf(),t!==null&&J(ia),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return lr(Ot),null;case 25:return null;default:return null}}function p_(t,r){switch(Uf(r),r.tag){case 3:lr(Ot),Ge();break;case 26:case 27:case 5:ei(r);break;case 4:Ge();break;case 31:r.memoizedState!==null&&In(r);break;case 13:In(r);break;case 19:J(St);break;case 10:lr(r.type);break;case 22:case 23:In(r),Zf(),t!==null&&J(ia);break;case 24:lr(Ot)}}function Rl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){We(r,r.return,S)}}function es(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=r;var N=a,j=S;try{j()}catch($){We(f,N,$)}}}l=l.next}while(l!==d)}}catch($){We(r,r.return,$)}}function g_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{ay(r,a)}catch(l){We(t,t.return,l)}}}function y_(t,r,a){a.props=la(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,r,l)}}function Cl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){We(t,r,f)}}function qi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(t,r,f)}else a.current=null}function __(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(t,t.return,f)}}function Nd(t,r,a){try{var l=t.stateNode;Vb(l,t.type,a,r),l[jt]=r}catch(f){We(t,t.return,f)}}function v_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&os(t.type)||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||v_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&os(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Md(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=oi));else if(l!==4&&(l===27&&os(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Md(t,r,a),t=t.sibling;t!==null;)Md(t,r,a),t=t.sibling}function kc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&os(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(kc(t,r,a),t=t.sibling;t!==null;)kc(t,r,a),t=t.sibling}function E_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);$t(r,l,a),r[Ct]=t,r[jt]=a}catch(d){We(t,t.return,d)}}var dr=!1,Mt=!1,Vd=!1,T_=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function db(t,r){if(t=t.containerInfo,tm=nh,t=Mg(t),Cf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,j=0,$=0,ne=t,F=null;t:for(;;){for(var Q;ne!==a||f!==0&&ne.nodeType!==3||(S=_+f),ne!==d||l!==0&&ne.nodeType!==3||(N=_+l),ne.nodeType===3&&(_+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)F=ne,ne=Q;for(;;){if(ne===t)break t;if(F===a&&++j===f&&(S=_),F===d&&++$===l&&(N=_),(Q=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=Q}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:t,selectionRange:a},nh=!1,Ht=r;Ht!==null;)if(r=Ht,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ht=t;else for(;Ht!==null;){switch(r=Ht,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=la(a.type,f);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){We(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ht=t;break}Ht=r.return}}function S_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:pr(t,a),l&4&&Rl(5,a);break;case 1:if(pr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var f=la(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&g_(a),l&512&&Cl(a,a.return);break;case 3:if(pr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ay(t,r)}catch(_){We(a,a.return,_)}}break;case 27:r===null&&l&4&&E_(a);case 26:case 5:pr(t,a),r===null&&l&4&&__(a),l&512&&Cl(a,a.return);break;case 12:pr(t,a);break;case 31:pr(t,a),l&4&&w_(t,a);break;case 13:pr(t,a),l&4&&R_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Sb.bind(null,a),qb(t,a))));break;case 22:if(l=a.memoizedState!==null||dr,!l){r=r!==null&&r.memoizedState!==null||Mt,f=dr;var d=Mt;dr=l,(Mt=r)&&!d?gr(t,a,(a.subtreeFlags&8772)!==0):pr(t,a),dr=f,Mt=d}break;case 30:break;default:pr(t,a)}}function b_(t){var r=t.alternate;r!==null&&(t.alternate=null,b_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ia(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,pn=!1;function mr(t,r,a){for(a=a.child;a!==null;)A_(t,r,a),a=a.sibling}function A_(t,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ii,a)}catch{}switch(a.tag){case 26:Mt||qi(a,r),mr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||qi(a,r);var l=ct,f=pn;os(a.type)&&(ct=a.stateNode,pn=!1),mr(t,r,a),Pl(a.stateNode),ct=l,pn=f;break;case 5:Mt||qi(a,r);case 6:if(l=ct,f=pn,ct=null,mr(t,r,a),ct=l,pn=f,ct!==null)if(pn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{ct.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:ct!==null&&(pn?(t=ct,gv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),fo(t)):gv(ct,a.stateNode));break;case 4:l=ct,f=pn,ct=a.stateNode.containerInfo,pn=!0,mr(t,r,a),ct=l,pn=f;break;case 0:case 11:case 14:case 15:es(2,a,r),Mt||es(4,a,r),mr(t,r,a);break;case 1:Mt||(qi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&y_(a,r,l)),mr(t,r,a);break;case 21:mr(t,r,a);break;case 22:Mt=(l=Mt)||a.memoizedState!==null,mr(t,r,a),Mt=l;break;default:mr(t,r,a)}}function w_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fo(t)}catch(a){We(r,r.return,a)}}}function R_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fo(t)}catch(a){We(r,r.return,a)}}function mb(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new T_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new T_),r;default:throw Error(s(435,t.tag))}}function Pc(t,r){var a=mb(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=bb.bind(null,t,l);l.then(f,f)}})}function gn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(os(S.type)){ct=S.stateNode,pn=!1;break e}break;case 5:ct=S.stateNode,pn=!1;break e;case 3:case 4:ct=S.stateNode.containerInfo,pn=!0;break e}S=S.return}if(ct===null)throw Error(s(160));A_(d,_,f),ct=null,pn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)C_(r,t),r=r.sibling}var di=null;function C_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(r,t),yn(t),l&4&&(es(3,t,t.return),Rl(3,t),es(5,t,t.return));break;case 1:gn(r,t),yn(t),l&512&&(Mt||a===null||qi(a,a.return)),l&64&&dr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=di;if(gn(r,t),yn(t),l&512&&(Mt||a===null||qi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ii]||d[Ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),$t(d,l,a),d[Ct]=t,It(d),l=d;break e;case"link":var _=Cv("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Cv("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ct]=t,It(d),l=d}t.stateNode=l}else Iv(f,t.type,t.stateNode);else t.stateNode=Rv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Iv(f,t.type,t.stateNode):Rv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nd(t,t.memoizedProps,a.memoizedProps)}break;case 27:gn(r,t),yn(t),l&512&&(Mt||a===null||qi(a,a.return)),a!==null&&l&4&&Nd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(gn(r,t),yn(t),l&512&&(Mt||a===null||qi(a,a.return)),t.flags&32){f=t.stateNode;try{mn(f,"")}catch(he){We(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Nd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Vd=!0);break;case 6:if(gn(r,t),yn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){We(t,t.return,he)}}break;case 3:if(Jc=null,f=di,di=$c(r.containerInfo),gn(r,t),di=f,yn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fo(r.containerInfo)}catch(he){We(t,t.return,he)}Vd&&(Vd=!1,I_(t));break;case 4:l=di,di=$c(t.stateNode.containerInfo),gn(r,t),yn(t),di=l;break;case 12:gn(r,t),yn(t);break;case 31:gn(r,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pc(t,l)));break;case 13:gn(r,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uc=pt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,j=dr,$=Mt;if(dr=j||f,Mt=$||N,gn(r,t),Mt=$,dr=j,yn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||dr||Mt||ua(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var ne=N.memoizedProps.style,F=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(he){We(N,N.return,he)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(he){We(N,N.return,he)}}}else if(r.tag===18){if(a===null){N=r;try{var Q=N.stateNode;f?yv(Q,!0):yv(N.stateNode,!1)}catch(he){We(N,N.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Pc(t,a))));break;case 19:gn(r,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pc(t,l)));break;case 30:break;case 21:break;default:gn(r,t),yn(t)}}function yn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(v_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=xd(t);kc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(mn(_,""),a.flags&=-33);var S=xd(t);kc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,j=xd(t);Md(t,j,N);break;default:throw Error(s(161))}}catch($){We(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function I_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;I_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function pr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)S_(t,r.alternate,r),r=r.sibling}function ua(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:es(4,r,r.return),ua(r);break;case 1:qi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&y_(r,r.return,a),ua(r);break;case 27:Pl(r.stateNode);case 26:case 5:qi(r,r.return),ua(r);break;case 22:r.memoizedState===null&&ua(r);break;case 30:ua(r);break;default:ua(r)}t=t.sibling}}function gr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:gr(f,d,a),Rl(4,d);break;case 1:if(gr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){We(l,l.return,j)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)sy(N[f],S)}catch(j){We(l,l.return,j)}}a&&_&64&&g_(d),Cl(d,d.return);break;case 27:E_(d);case 26:case 5:gr(f,d,a),a&&l===null&&_&4&&__(d),Cl(d,d.return);break;case 12:gr(f,d,a);break;case 31:gr(f,d,a),a&&_&4&&w_(f,d);break;case 13:gr(f,d,a),a&&_&4&&R_(f,d);break;case 22:d.memoizedState===null&&gr(f,d,a),Cl(d,d.return);break;case 30:break;default:gr(f,d,a)}r=r.sibling}}function kd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&dl(a))}function Pd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&dl(t))}function mi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)D_(t,r,a,l),r=r.sibling}function D_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:mi(t,r,a,l),f&2048&&Rl(9,r);break;case 1:mi(t,r,a,l);break;case 3:mi(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&dl(t)));break;case 12:if(f&2048){mi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){We(r,r.return,N)}}else mi(t,r,a,l);break;case 31:mi(t,r,a,l);break;case 13:mi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?mi(t,r,a,l):Il(t,r):d._visibility&2?mi(t,r,a,l):(d._visibility|=2,to(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&kd(_,r);break;case 24:mi(t,r,a,l),f&2048&&Pd(r.alternate,r);break;default:mi(t,r,a,l)}}function to(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,S=a,N=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:to(d,_,S,N,f),Rl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?to(d,_,S,N,f):Il(d,_):($._visibility|=2,to(d,_,S,N,f)),f&&j&2048&&kd(_.alternate,_);break;case 24:to(d,_,S,N,f),f&&j&2048&&Pd(_.alternate,_);break;default:to(d,_,S,N,f)}r=r.sibling}}function Il(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Il(a,l),f&2048&&kd(l.alternate,l);break;case 24:Il(a,l),f&2048&&Pd(l.alternate,l);break;default:Il(a,l)}r=r.sibling}}var Dl=8192;function no(t,r,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)O_(t,r,a),t=t.sibling}function O_(t,r,a){switch(t.tag){case 26:no(t,r,a),t.flags&Dl&&t.memoizedState!==null&&eA(a,di,t.memoizedState,t.memoizedProps);break;case 5:no(t,r,a);break;case 3:case 4:var l=di;di=$c(t.stateNode.containerInfo),no(t,r,a),di=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,no(t,r,a),Dl=l):no(t,r,a));break;default:no(t,r,a)}}function N_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ol(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ht=l,M_(l,t)}N_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)x_(t),t=t.sibling}function x_(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&es(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Lc(t)):Ol(t);break;default:Ol(t)}}function Lc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ht=l,M_(l,t)}N_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:es(8,r,r.return),Lc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Lc(r));break;default:Lc(r)}t=t.sibling}}function M_(t,r){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:es(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ht=l;else e:for(a=t;Ht!==null;){l=Ht;var f=l.sibling,d=l.return;if(b_(l),l===a){Ht=null;break e}if(f!==null){f.return=d,Ht=f;break e}Ht=d}}}var pb={getCacheForType:function(t){var r=Yt(Ot),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Yt(Ot).controller.signal}},gb=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,Ne=null,ke=0,$e=0,Dn=null,ts=!1,io=!1,Ld=!1,yr=0,_t=0,ns=0,ca=0,Ud=0,On=0,ro=0,Nl=null,_n=null,zd=!1,Uc=0,V_=0,zc=1/0,Bc=null,is=null,zt=0,rs=null,so=null,_r=0,Bd=0,jd=null,k_=null,xl=0,qd=null;function Nn(){return(Qe&2)!==0&&ke!==0?ke&-ke:X.T!==null?Yd():ju()}function P_(){if(On===0)if((ke&536870912)===0||Be){var t=Ls;Ls<<=1,(Ls&3932160)===0&&(Ls=262144),On=t}else On=536870912;return t=Cn.current,t!==null&&(t.flags|=32),On}function vn(t,r,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(ao(t,0),ss(t,ke,On,!1)),Us(t,a),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(ca|=a),_t===4&&ss(t,ke,On,!1)),Hi(t))}function L_(t,r,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||ri(t,r),f=l?vb(t,r):Fd(t,r,!0),d=l;do{if(f===0){io&&!l&&ss(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!yb(a)){f=Fd(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=t;f=Nl;var N=S.current.memoizedState.isDehydrated;if(N&&(ao(S,_).flags|=256),_=Fd(S,_,!1),_!==2){if(Ld&&!N){S.errorRecoveryDisabledLanes|=d,ca|=d,f=4;break e}d=_n,_n=f,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){ao(t,0),ss(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ss(l,r,On,!ts);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Uc+300-pt(),10<f)){if(ss(l,r,On,!ts),wi(l,0,!0)!==0)break e;_r=r,l.timeoutHandle=mv(U_.bind(null,l,a,_n,Bc,zd,r,On,ca,ro,ts,d,"Throttled",-0,0),f);break e}U_(l,a,_n,Bc,zd,r,On,ca,ro,ts,d,null,-0,0)}}break}while(!0);Hi(t)}function U_(t,r,a,l,f,d,_,S,N,j,$,ne,F,Q){if(t.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},O_(r,d,ne);var he=(d&62914560)===d?Uc-pt():(d&4194048)===d?V_-pt():0;if(he=tA(ne,he),he!==null){_r=d,t.cancelPendingCommit=he(K_.bind(null,t,r,d,a,l,f,_,S,N,$,ne,null,F,Q)),ss(t,d,_,!j);return}}K_(t,r,d,a,l,f,_,S,N)}function yb(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!wn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ss(t,r,a,l){r&=~Ud,r&=~ca,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-Et(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&zs(t,a,r)}function jc(){return(Qe&6)===0?(Ml(0),!1):!0}function Hd(){if(Ne!==null){if($e===0)var t=Ne.return;else t=Ne,or=ta=null,sd(t),$a=null,pl=0,t=Ne;for(;t!==null;)p_(t.alternate,t),t=t.return;Ne=null}}function ao(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Lb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),_r=0,Hd(),nt=t,Ne=a=sr(t.current,null),ke=r,$e=0,Dn=null,ts=!1,io=ri(t,r),Ld=!1,ro=On=Ud=ca=ns=_t=0,_n=Nl=null,zd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-Et(l),d=1<<f;r|=t[f],l&=~d}return yr=r,lc(),a}function z_(t,r){Ie=null,X.H=bl,r===Xa||r===gc?(r=ty(),$e=3):r===Qf?(r=ty(),$e=4):$e=r===Td?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,Ne===null&&(_t=1,Oc(t,Fn(r,t.current)))}function B_(){var t=Cn.current;return t===null?!0:(ke&4194048)===ke?Yn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Yn:!1}function j_(){var t=X.H;return X.H=bl,t===null?bl:t}function q_(){var t=X.A;return X.A=pb,t}function qc(){_t=4,ts||(ke&4194048)!==ke&&Cn.current!==null||(io=!0),(ns&134217727)===0&&(ca&134217727)===0||nt===null||ss(nt,ke,On,!1)}function Fd(t,r,a){var l=Qe;Qe|=2;var f=j_(),d=q_();(nt!==t||ke!==r)&&(Bc=null,ao(t,r)),r=!1;var _=_t;e:do try{if($e!==0&&Ne!==null){var S=Ne,N=Dn;switch($e){case 8:Hd(),_=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(r=!0);var j=$e;if($e=0,Dn=null,oo(t,S,N,j),a&&io){_=0;break e}break;default:j=$e,$e=0,Dn=null,oo(t,S,N,j)}}_b(),_=_t;break}catch($){z_(t,$)}while(!0);return r&&t.shellSuspendCounter++,or=ta=null,Qe=l,X.H=f,X.A=d,Ne===null&&(nt=null,ke=0,lc()),_}function _b(){for(;Ne!==null;)H_(Ne)}function vb(t,r){var a=Qe;Qe|=2;var l=j_(),f=q_();nt!==t||ke!==r?(Bc=null,zc=pt()+500,ao(t,r)):io=ri(t,r);e:do try{if($e!==0&&Ne!==null){r=Ne;var d=Dn;t:switch($e){case 1:$e=0,Dn=null,oo(t,r,d,1);break;case 2:case 9:if(Zg(d)){$e=0,Dn=null,F_(r);break}r=function(){$e!==2&&$e!==9||nt!==t||($e=7),Hi(t)},d.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Zg(d)?($e=0,Dn=null,F_(r)):($e=0,Dn=null,oo(t,r,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(_?Dv(_):S.stateNode.complete){$e=0,Dn=null;var N=S.sibling;if(N!==null)Ne=N;else{var j=S.return;j!==null?(Ne=j,Hc(j)):Ne=null}break t}}$e=0,Dn=null,oo(t,r,d,5);break;case 6:$e=0,Dn=null,oo(t,r,d,6);break;case 8:Hd(),_t=6;break e;default:throw Error(s(462))}}Eb();break}catch($){z_(t,$)}while(!0);return or=ta=null,X.H=l,X.A=f,Qe=a,Ne!==null?0:(nt=null,ke=0,lc(),_t)}function Eb(){for(;Ne!==null&&!Si();)H_(Ne)}function H_(t){var r=d_(t.alternate,t,yr);t.memoizedProps=t.pendingProps,r===null?Hc(t):Ne=r}function F_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=o_(a,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=o_(a,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:sd(r);default:p_(a,r),r=Ne=qg(r,yr),r=d_(a,r,yr)}t.memoizedProps=t.pendingProps,r===null?Hc(t):Ne=r}function oo(t,r,a,l){or=ta=null,sd(r),$a=null,pl=0;var f=r.return;try{if(lb(t,f,r,a,ke)){_t=1,Oc(t,Fn(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;_t=1,Oc(t,Fn(a,t.current)),Ne=null;return}r.flags&32768?(Be||l===1?t=!0:io||(ke&536870912)!==0?t=!1:(ts=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),G_(r,t)):Hc(r)}function Hc(t){var r=t;do{if((r.flags&32768)!==0){G_(r,ts);return}t=r.return;var a=hb(r.alternate,r,yr);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);_t===0&&(_t=5)}function G_(t,r){do{var a=fb(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);_t=6,Ne=null}function K_(t,r,a,l,f,d,_,S,N){t.cancelPendingCommit=null;do Fc();while(zt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=xf,bf(t,a,d,_,S,N),t===nt&&(Ne=nt=null,ke=0),so=r,rs=t,_r=a,Bd=d,jd=f,k_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ab(Ut,function(){return W_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=re.p,re.p=2,_=Qe,Qe|=4;try{db(t,r,a)}finally{Qe=_,re.p=f,X.T=l}}zt=1,Q_(),Y_(),X_()}}function Q_(){if(zt===1){zt=0;var t=rs,r=so,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=re.p;re.p=2;var f=Qe;Qe|=4;try{C_(r,t);var d=nm,_=Mg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&xg(S.ownerDocument.documentElement,S)){if(N!==null&&Cf(S)){var j=N.start,$=N.end;if($===void 0&&($=j),"selectionStart"in S)S.selectionStart=j,S.selectionEnd=Math.min($,S.value.length);else{var ne=S.ownerDocument||document,F=ne&&ne.defaultView||window;if(F.getSelection){var Q=F.getSelection(),he=S.textContent.length,Ee=Math.min(N.start,he),tt=N.end===void 0?Ee:Math.min(N.end,he);!Q.extend&&Ee>tt&&(_=tt,tt=Ee,Ee=_);var P=Ng(S,Ee),M=Ng(S,tt);if(P&&M&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var B=ne.createRange();B.setStart(P.node,P.offset),Q.removeAllRanges(),Ee>tt?(Q.addRange(B),Q.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),Q.addRange(B))}}}}for(ne=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var Z=ne[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}nh=!!tm,nm=tm=null}finally{Qe=f,re.p=l,X.T=a}}t.current=r,zt=2}}function Y_(){if(zt===2){zt=0;var t=rs,r=so,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=re.p;re.p=2;var f=Qe;Qe|=4;try{S_(t,r.alternate,r)}finally{Qe=f,re.p=l,X.T=a}}zt=3}}function X_(){if(zt===4||zt===3){zt=0,ni();var t=rs,r=so,a=_r,l=k_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,so=rs=null,$_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(is=null),tr(a),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ii,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=re.p,re.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{X.T=r,re.p=f}}(_r&3)!==0&&Fc(),Hi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===qd?xl++:(xl=0,qd=t):xl=0,Ml(0)}}function $_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,dl(r)))}function Fc(){return Q_(),Y_(),X_(),W_()}function W_(){if(zt!==5)return!1;var t=rs,r=Bd;Bd=0;var a=tr(_r),l=X.T,f=re.p;try{re.p=32>a?32:a,X.T=null,a=jd,jd=null;var d=rs,_=_r;if(zt=0,so=rs=null,_r=0,(Qe&6)!==0)throw Error(s(331));var S=Qe;if(Qe|=4,x_(d.current),D_(d,d.current,_,a),Qe=S,Ml(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ii,d)}catch{}return!0}finally{re.p=f,X.T=l,$_(t,r)}}function J_(t,r,a){r=Fn(a,r),r=Ed(t.stateNode,r,2),t=Wr(t,r,2),t!==null&&(Us(t,2),Hi(t))}function We(t,r,a){if(t.tag===3)J_(t,t,a);else for(;r!==null;){if(r.tag===3){J_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(is===null||!is.has(l))){t=Fn(a,t),a=Zy(2),l=Wr(r,a,2),l!==null&&(e_(a,l,r,t),Us(l,2),Hi(l));break}}r=r.return}}function Gd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new gb;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Ld=!0,f.add(a),t=Tb.bind(null,t,r,a),r.then(t,t))}function Tb(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(ke&a)===a&&(_t===4||_t===3&&(ke&62914560)===ke&&300>pt()-Uc?(Qe&2)===0&&ao(t,0):Ud|=a,ro===ke&&(ro=0)),Hi(t)}function Z_(t,r){r===0&&(r=Bu()),t=Js(t,r),t!==null&&(Us(t,r),Hi(t))}function Sb(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Z_(t,a)}function bb(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Z_(t,a)}function Ab(t,r){return ft(t,r)}var Gc=null,lo=null,Kd=!1,Kc=!1,Qd=!1,as=0;function Hi(t){t!==lo&&t.next===null&&(lo===null?Gc=lo=t:lo=lo.next=t),Kc=!0,Kd||(Kd=!0,Rb())}function Ml(t,r){if(!Qd&&Kc){Qd=!0;do for(var a=!1,l=Gc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Et(42|t)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,iv(l,d))}else d=ke,d=wi(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ri(l,d)||(a=!0,iv(l,d));l=l.next}while(a);Qd=!1}}function wb(){ev()}function ev(){Kc=Kd=!1;var t=0;as!==0&&Pb()&&(t=as);for(var r=pt(),a=null,l=Gc;l!==null;){var f=l.next,d=tv(l,r);d===0?(l.next=null,a===null?Gc=f:a.next=f,f===null&&(lo=a)):(a=l,(t!==0||(d&3)!==0)&&(Kc=!0)),l=f}zt!==0&&zt!==5||Ml(t),as!==0&&(as=0)}function tv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Et(d),S=1<<_,N=f[_];N===-1?((S&a)===0||(S&l)!==0)&&(f[_]=Sf(S,r)):N<=r&&(t.expiredLanes|=S),d&=~S}if(r=nt,a=ke,a=wi(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&on(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ri(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&on(l),tr(a)){case 2:case 8:a=gt;break;case 32:a=Ut;break;case 268435456:a=ku;break;default:a=Ut}return l=nv.bind(null,t),a=ft(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&on(l),t.callbackPriority=2,t.callbackNode=null,2}function nv(t,r){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Fc()&&t.callbackNode!==a)return null;var l=ke;return l=wi(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(L_(t,l,r),tv(t,pt()),t.callbackNode!=null&&t.callbackNode===a?nv.bind(null,t):null)}function iv(t,r){if(Fc())return null;L_(t,r,!0)}function Rb(){Ub(function(){(Qe&6)!==0?ft(dt,wb):ev()})}function Yd(){if(as===0){var t=Qa;t===0&&(t=bi,bi<<=1,(bi&261888)===0&&(bi=256)),as=t}return as}function rv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xa(""+t)}function sv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Cb(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=rv((f[jt]||null).action),_=l.submitter;_&&(r=(r=_[jt]||null)?rv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var S=new Pi("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(as!==0){var N=_?sv(f,_):new FormData(f);md(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?sv(f,_):new FormData(f),md(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Xd=0;Xd<Nf.length;Xd++){var $d=Nf[Xd],Ib=$d.toLowerCase(),Db=$d[0].toUpperCase()+$d.slice(1);fi(Ib,"on"+Db)}fi(Pg,"onAnimationEnd"),fi(Lg,"onAnimationIteration"),fi(Ug,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(GS,"onTransitionRun"),fi(KS,"onTransitionStart"),fi(QS,"onTransitionCancel"),fi(zg,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function av(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,j=S.currentTarget;if(S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=j;try{d(f)}catch($){oc($)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,j=S.currentTarget,S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=j;try{d(f)}catch($){oc($)}f.currentTarget=null,d=N}}}}function xe(t,r){var a=r[Ca];a===void 0&&(a=r[Ca]=new Set);var l=t+"__bubble";a.has(l)||(ov(r,t,2,!1),a.add(l))}function Wd(t,r,a){var l=0;r&&(l|=4),ov(a,t,l,r)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function Jd(t){if(!t[Qc]){t[Qc]=!0,Ko.forEach(function(a){a!=="selectionchange"&&(Ob.has(a)||Wd(a,!1,t),Wd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Qc]||(r[Qc]=!0,Wd("selectionchange",!1,r))}}function ov(t,r,a,l){switch(Pv(r)){case 2:var f=rA;break;case 8:f=sA;break;default:f=dm}a=f.bind(null,r,a,t),f=void 0,!Fs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Zd(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Di(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}jr(function(){var j=d,$=Bn(a),ne=[];e:{var F=Bg.get(t);if(F!==void 0){var Q=Pi,he=t;switch(t){case"keypress":if(Ks(a)===0)break e;case"keydown":case"keyup":Q=rc;break;case"focusin":he="focus",Q=Ys;break;case"focusout":he="blur",Q=Ys;break;case"beforeblur":case"afterblur":Q=Ys;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case Pg:case Lg:case Ug:Q=Wu;break;case zg:Q=b;break;case"scroll":case"scrollend":Q=rl;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=Ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=rr;break;case"toggle":case"beforetoggle":Q=Ce}var Ee=(r&4)!==0,tt=!Ee&&(t==="scroll"||t==="scrollend"),P=Ee?F!==null?F+"Capture":null:F;Ee=[];for(var M=j,B;M!==null;){var Z=M;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||P===null||(Z=li(M,P),Z!=null&&Ee.push(kl(M,Z,B))),tt)break;M=M.return}0<Ee.length&&(F=new Q(F,he,null,a,$),ne.push({event:F,listeners:Ee}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==tl&&(he=a.relatedTarget||a.fromElement)&&(Di(he)||he[Ci]))break e;if((Q||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(he=a.relatedTarget||a.toElement,Q=j,he=he?Di(he):null,he!==null&&(tt=u(he),Ee=he.tag,he!==tt||Ee!==5&&Ee!==27&&Ee!==6)&&(he=null)):(Q=null,he=j),Q!==he)){if(Ee=sl,Z="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=rr,Z="onPointerLeave",P="onPointerEnter",M="pointer"),tt=Q==null?F:bn(Q),B=he==null?F:bn(he),F=new Ee(Z,M+"leave",Q,a,$),F.target=tt,F.relatedTarget=B,Z=null,Di($)===j&&(Ee=new Ee(P,M+"enter",he,a,$),Ee.target=B,Ee.relatedTarget=tt,Z=Ee),tt=Z,Q&&he)t:{for(Ee=Nb,P=Q,M=he,B=0,Z=P;Z;Z=Ee(Z))B++;Z=0;for(var pe=M;pe;pe=Ee(pe))Z++;for(;0<B-Z;)P=Ee(P),B--;for(;0<Z-B;)M=Ee(M),Z--;for(;B--;){if(P===M||M!==null&&P===M.alternate){Ee=P;break t}P=Ee(P),M=Ee(M)}Ee=null}else Ee=null;Q!==null&&lv(ne,F,Q,Ee,!1),he!==null&&tt!==null&&lv(ne,tt,he,Ee,!0)}}e:{if(F=j?bn(j):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var He=wg;else if(bg(F))if(Rg)He=qS;else{He=BS;var de=zS}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?j&&Na(j.elementType)&&(He=wg):He=jS;if(He&&(He=He(t,j))){Ag(ne,He,a,$);break e}de&&de(t,F,j),t==="focusout"&&j&&F.type==="number"&&j.memoizedProps.value!=null&&Jo(F,"number",F.value)}switch(de=j?bn(j):window,t){case"focusin":(bg(de)||de.contentEditable==="true")&&(za=de,If=j,cl=null);break;case"focusout":cl=If=za=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,Vg(ne,a,$);break;case"selectionchange":if(FS)break;case"keydown":case"keyup":Vg(ne,a,$)}var Oe;if(Ke)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ua?Xs(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(zi&&a.locale!=="ko"&&(Ua||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ua&&(Oe=il()):(ki=$,nl="value"in ki?ki.value:ki.textContent,Ua=!0)),de=Yc(j,Pe),0<de.length&&(Pe=new Ui(Pe,t,null,a,$),ne.push({event:Pe,listeners:de}),Oe?Pe.data=Oe:(Oe=La(a),Oe!==null&&(Pe.data=Oe)))),(Oe=qn?kS(t,a):PS(t,a))&&(Pe=Yc(j,"onBeforeInput"),0<Pe.length&&(de=new Ui("onBeforeInput","beforeinput",null,a,$),ne.push({event:de,listeners:Pe}),de.data=Oe)),Cb(ne,t,j,a,$)}av(ne,r)})}function kl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Yc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=li(t,a),f!=null&&l.unshift(kl(t,f,d)),f=li(t,r),f!=null&&l.push(kl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Nb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lv(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,j=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||j===null||(N=j,f?(j=li(a,d),j!=null&&_.unshift(kl(a,j,N))):f||(j=li(a,d),j!=null&&_.push(kl(a,j,N)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var xb=/\r\n?/g,Mb=/\u0000|\uFFFD/g;function uv(t){return(typeof t=="string"?t:""+t).replace(xb,`
`).replace(Mb,"")}function cv(t,r){return r=uv(r),uv(t)===r}function et(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&mn(t,""+l);break;case"className":An(t,"class",l);break;case"tabIndex":An(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,a,l);break;case"style":el(t,l,d);break;case"data":if(r!=="object"){An(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&et(t,r,"name",f.name,f,null),et(t,r,"formEncType",f.formEncType,f,null),et(t,r,"formMethod",f.formMethod,f,null),et(t,r,"formTarget",f.formTarget,f,null)):(et(t,r,"encType",f.encType,f,null),et(t,r,"method",f.method,f,null),et(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=oi);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=xa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),Da(t,"popover",l);break;case"xlinkActuate":Dt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yu.get(a)||a,Da(t,a,l))}}function em(t,r,a,l,f,d){switch(a){case"style":el(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Da(t,a,l)}}}function $t(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(t,r,d,_,a,null)}}f&&et(t,r,"srcSet",a.srcSet,a,null),l&&et(t,r,"src",a.src,a,null);return;case"input":xe("invalid",t);var S=d=_=f=null,N=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":j=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:et(t,r,l,$,a,null)}}Gu(t,d,S,N,j,_,f,!1);return;case"select":xe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:et(t,r,f,S,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Lr(t,!!l,r,!1):a!=null&&Lr(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(t,r,_,S,a,null)}Ur(t,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,r,N,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)xe(Vl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(t,r,j,l,a,null)}return;default:if(Na(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&em(t,r,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&et(t,r,S,l,a,null))}function Vb(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,N=null,j=null,$=null;for(Q in a){var ne=a[Q];if(a.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=ne;default:l.hasOwnProperty(Q)||et(t,r,Q,null,l,ne)}}for(var F in l){var Q=l[F];if(ne=a[F],l.hasOwnProperty(F)&&(Q!=null||ne!=null))switch(F){case"type":d=Q;break;case"name":f=Q;break;case"checked":j=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ne&&et(t,r,F,Q,l,ne)}}Oa(t,_,S,N,j,$,d,f);return;case"select":Q=_=S=F=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||et(t,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&et(t,r,f,d,l,N)}r=S,a=_,l=Q,F!=null?Lr(t,!!a,F,!1):!!l!=!!a&&(r!=null?Lr(t,!!a,r,!0):Lr(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(t,r,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":F=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&et(t,r,_,f,l,d)}Ku(t,F,Q);return;case"option":for(var he in a)if(F=a[he],a.hasOwnProperty(he)&&F!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:et(t,r,he,null,l,F)}for(N in l)if(F=l[N],Q=a[N],l.hasOwnProperty(N)&&F!==Q&&(F!=null||Q!=null))switch(N){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:et(t,r,N,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)F=a[Ee],a.hasOwnProperty(Ee)&&F!=null&&!l.hasOwnProperty(Ee)&&et(t,r,Ee,null,l,F);for(j in l)if(F=l[j],Q=a[j],l.hasOwnProperty(j)&&F!==Q&&(F!=null||Q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:et(t,r,j,F,l,Q)}return;default:if(Na(r)){for(var tt in a)F=a[tt],a.hasOwnProperty(tt)&&F!==void 0&&!l.hasOwnProperty(tt)&&em(t,r,tt,void 0,l,F);for($ in l)F=l[$],Q=a[$],!l.hasOwnProperty($)||F===Q||F===void 0&&Q===void 0||em(t,r,$,F,l,Q);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&et(t,r,P,null,l,F);for(ne in l)F=l[ne],Q=a[ne],!l.hasOwnProperty(ne)||F===Q||F==null&&Q==null||et(t,r,ne,F,l,Q)}function hv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&hv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],j=N.startTime;if(j>S)break;var $=N.transferSize,ne=N.initiatorType;$&&hv(ne)&&(N=N.responseEnd,_+=$*(N<S?1:(S-j)/(N-j)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tm=null,nm=null;function Xc(t){return t.nodeType===9?t:t.ownerDocument}function fv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function im(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var rm=null;function Pb(){var t=window.event;return t&&t.type==="popstate"?t===rm?!1:(rm=t,!0):(rm=null,!1)}var mv=typeof setTimeout=="function"?setTimeout:void 0,Lb=typeof clearTimeout=="function"?clearTimeout:void 0,pv=typeof Promise=="function"?Promise:void 0,Ub=typeof queueMicrotask=="function"?queueMicrotask:typeof pv<"u"?function(t){return pv.resolve(null).then(t).catch(zb)}:mv;function zb(t){setTimeout(function(){throw t})}function os(t){return t==="head"}function gv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),fo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Pl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Pl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[Ii]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Pl(t.ownerDocument.body);a=f}while(a);fo(r)}function yv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function sm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),Ia(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Bb(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ii])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function jb(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xn(t.nextSibling),t===null))return null;return t}function _v(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Xn(t.nextSibling),t===null))return null;return t}function am(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function qb(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var lm=null;function vv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Xn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Ev(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Tv(t,r,a){switch(r=Xc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Pl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ia(t)}var $n=new Map,Sv=new Set;function $c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vr=re.d;re.d={f:Hb,r:Fb,D:Gb,C:Kb,L:Qb,m:Yb,X:$b,S:Xb,M:Wb};function Hb(){var t=vr.f(),r=jc();return t||r}function Fb(t){var r=zn(t);r!==null&&r.tag===5&&r.type==="form"?zy(r):vr.r(t)}var uo=typeof document>"u"?null:document;function bv(t,r,a){var l=uo;if(l&&typeof r=="string"&&r){var f=dn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Sv.has(f)||(Sv.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),$t(r,"link",t),It(r),l.head.appendChild(r)))}}function Gb(t){vr.D(t),bv("dns-prefetch",t,null)}function Kb(t,r){vr.C(t,r),bv("preconnect",t,r)}function Qb(t,r,a){vr.L(t,r,a);var l=uo;if(l&&t&&r){var f='link[rel="preload"][as="'+dn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+dn(a.imageSizes)+'"]')):f+='[href="'+dn(t)+'"]';var d=f;switch(r){case"style":d=co(t);break;case"script":d=ho(t)}$n.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),$n.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ll(d))||r==="script"&&l.querySelector(Ul(d))||(r=l.createElement("link"),$t(r,"link",t),It(r),l.head.appendChild(r)))}}function Yb(t,r){vr.m(t,r);var a=uo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ho(t)}if(!$n.has(d)&&(t=T({rel:"modulepreload",href:t},r),$n.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(d)))return}l=a.createElement("link"),$t(l,"link",t),It(l),a.head.appendChild(l)}}}function Xb(t,r,a){vr.S(t,r,a);var l=uo;if(l&&t){var f=Oi(l).hoistableStyles,d=co(t);r=r||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Ll(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=$n.get(d))&&um(t,a);var N=_=l.createElement("link");It(N),$t(N,"link",t),N._p=new Promise(function(j,$){N.onload=j,N.onerror=$}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Wc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function $b(t,r){vr.X(t,r);var a=uo;if(a&&t){var l=Oi(a).hoistableScripts,f=ho(t),d=l.get(f);d||(d=a.querySelector(Ul(f)),d||(t=T({src:t,async:!0},r),(r=$n.get(f))&&cm(t,r),d=a.createElement("script"),It(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Wb(t,r){vr.M(t,r);var a=uo;if(a&&t){var l=Oi(a).hoistableScripts,f=ho(t),d=l.get(f);d||(d=a.querySelector(Ul(f)),d||(t=T({src:t,async:!0,type:"module"},r),(r=$n.get(f))&&cm(t,r),d=a.createElement("script"),It(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Av(t,r,a,l){var f=(f=be.current)?$c(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=co(a.href),a=Oi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=co(a.href);var d=Oi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Ll(t)))&&!d._p&&(_.instance=d,_.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),d||Jb(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ho(a),a=Oi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function co(t){return'href="'+dn(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function wv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Jb(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),$t(r,"link",a),It(r),t.head.appendChild(r))}function ho(t){return'[src="'+dn(t)+'"]'}function Ul(t){return"script[async]"+t}function Rv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+dn(a.href)+'"]');if(l)return r.instance=l,It(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),It(l),$t(l,"style",f),Wc(l,a.precedence,t),r.instance=l;case"stylesheet":f=co(a.href);var d=t.querySelector(Ll(f));if(d)return r.state.loading|=4,r.instance=d,It(d),d;l=wv(a),(f=$n.get(f))&&um(l,f),d=(t.ownerDocument||t).createElement("link"),It(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),$t(d,"link",l),r.state.loading|=4,Wc(d,a.precedence,t),r.instance=d;case"script":return d=ho(a.src),(f=t.querySelector(Ul(d)))?(r.instance=f,It(f),f):(l=a,(f=$n.get(d))&&(l=T({},a),cm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),It(f),$t(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Wc(l,a.precedence,t));return r.instance}function Wc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===r)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function um(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function cm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Jc=null;function Cv(t,r,a){if(Jc===null){var l=new Map,f=Jc=new Map;f.set(a,l)}else f=Jc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Ii]||d[Ct]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Iv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Zb(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Dv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function eA(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=co(l.href),d=r.querySelector(Ll(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Zc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,It(d);return}d=r.ownerDocument||r,l=wv(l),(f=$n.get(f))&&um(l,f),d=d.createElement("link"),It(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),$t(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Zc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var hm=0;function tA(t,r){return t.stylesheets&&t.count===0&&th(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&th(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&hm===0&&(hm=62500*kb());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&th(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>hm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)th(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var eh=null;function th(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,eh=new Map,r.forEach(nA,t),eh=null,Zc.call(t))}function nA(t,r){if(!(r.state.loading&4)){var a=eh.get(t);if(a)var l=a.get(null);else{a=new Map,eh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Zc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var zl={$$typeof:te,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function iA(t,r,a,l,f,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Ov(t,r,a,l,f,d,_,S,N,j,$,ne){return t=new iA(t,r,a,_,N,j,$,ne,S),r=1,d===!0&&(r|=24),d=Rn(3,null,null,r),t.current=d,d.stateNode=t,r=Ff(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Yf(d),t}function Nv(t){return t?(t=qa,t):qa}function xv(t,r,a,l,f,d){f=Nv(f),l.context===null?l.context=f:l.pendingContext=f,l=$r(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Wr(t,l,r),a!==null&&(vn(a,t,r),yl(a,t,r))}function Mv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function fm(t,r){Mv(t,r),(t=t.alternate)&&Mv(t,r)}function Vv(t){if(t.tag===13||t.tag===31){var r=Js(t,67108864);r!==null&&vn(r,t,67108864),fm(t,67108864)}}function kv(t){if(t.tag===13||t.tag===31){var r=Nn();r=Bs(r);var a=Js(t,r);a!==null&&vn(a,t,r),fm(t,r)}}var nh=!0;function rA(t,r,a,l){var f=X.T;X.T=null;var d=re.p;try{re.p=2,dm(t,r,a,l)}finally{re.p=d,X.T=f}}function sA(t,r,a,l){var f=X.T;X.T=null;var d=re.p;try{re.p=8,dm(t,r,a,l)}finally{re.p=d,X.T=f}}function dm(t,r,a,l){if(nh){var f=mm(l);if(f===null)Zd(t,r,l,ih,a),Lv(t,l);else if(oA(f,t,r,a,l))l.stopPropagation();else if(Lv(t,l),r&4&&-1<aA.indexOf(t)){for(;f!==null;){var d=zn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Ai(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-Et(_);S.entanglements[1]|=N,_&=~N}Hi(d),(Qe&6)===0&&(zc=pt()+500,Ml(0))}}break;case 31:case 13:S=Js(d,2),S!==null&&vn(S,d,2),jc(),fm(d,2)}if(d=mm(l),d===null&&Zd(t,r,l,ih,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Zd(t,r,l,null,a)}}function mm(t){return t=Bn(t),pm(t)}var ih=null;function pm(t){if(ih=null,t=Di(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return ih=t,null}function Pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ln()){case dt:return 2;case gt:return 8;case Ut:case Ho:return 32;case ku:return 268435456;default:return 32}default:return 32}}var gm=!1,ls=null,us=null,cs=null,Bl=new Map,jl=new Map,hs=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lv(t,r){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Bl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(r.pointerId)}}function ql(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=zn(r),r!==null&&Vv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function oA(t,r,a,l,f){switch(r){case"focusin":return ls=ql(ls,t,r,a,l,f),!0;case"dragenter":return us=ql(us,t,r,a,l,f),!0;case"mouseover":return cs=ql(cs,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Bl.set(d,ql(Bl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,jl.set(d,ql(jl.get(d)||null,t,r,a,l,f)),!0}return!1}function Uv(t){var r=Di(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,si(t.priority,function(){kv(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,si(t.priority,function(){kv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return r=zn(a),r!==null&&Vv(r),t.blockedOn=a,!1;r.shift()}return!0}function zv(t,r,a){rh(t)&&a.delete(r)}function lA(){gm=!1,ls!==null&&rh(ls)&&(ls=null),us!==null&&rh(us)&&(us=null),cs!==null&&rh(cs)&&(cs=null),Bl.forEach(zv),jl.forEach(zv)}function sh(t,r){t.blockedOn===r&&(t.blockedOn=null,gm||(gm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,lA)))}var ah=null;function Bv(t){ah!==t&&(ah=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ah===t&&(ah=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var d=zn(a);d!==null&&(t.splice(r,3),r-=3,md(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function fo(t){function r(N){return sh(N,t)}ls!==null&&sh(ls,t),us!==null&&sh(us,t),cs!==null&&sh(cs,t),Bl.forEach(r),jl.forEach(r);for(var a=0;a<hs.length;a++){var l=hs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hs.length&&(a=hs[0],a.blockedOn===null);)Uv(a),a.blockedOn===null&&hs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[jt]||null;if(typeof d=="function")_||Bv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[jt]||null)S=_.formAction;else if(pm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Bv(a)}}}function jv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function ym(t){this._internalRoot=t}oh.prototype.render=ym.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Nn();xv(a,l,t,r,null,null)},oh.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;xv(t.current,2,null,t,null,null),jc(),r[Ci]=null}};function oh(t){this._internalRoot=t}oh.prototype.unstable_scheduleHydration=function(t){if(t){var r=ju();t={blockedOn:null,target:t,priority:r};for(var a=0;a<hs.length&&r!==0&&r<hs[a].priority;a++);hs.splice(a,0,t),a===0&&Uv(t)}};var qv=e.version;if(qv!=="19.2.0")throw Error(s(527,qv,"19.2.0"));re.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var uA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{ii=lh.inject(uA),Gt=lh}catch{}}return Fl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=Xy,d=$y,_=Wy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=Ov(t,1,!1,null,null,a,l,null,f,d,_,jv),t[Ci]=r.current,Jd(t),new ym(r)},Fl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Xy,_=$y,S=Wy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=Ov(t,1,!0,r,a??null,l,f,N,d,_,S,jv),r.context=Nv(null),a=r.current,l=Nn(),l=Bs(l),f=$r(l),f.callback=null,Wr(a,f,l),a=l,r.current.lanes=a,Us(r,a),Hi(r),t[Ci]=r.current,Jd(t),new oh(r)},Fl.version="19.2.0",Fl}var Jv;function EA(){if(Jv)return Em.exports;Jv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Em.exports=vA(),Em.exports}var TA=EA();const SA=B0(TA);var Am={exports:{}},wm={};var Zv;function bA(){if(Zv)return wm;Zv=1;var i=Xh().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return wm.c=function(e){return i.H.useMemoCache(e)},wm}var eE;function AA(){return eE||(eE=1,Am.exports=bA()),Am.exports}var Zn=AA();var tE="popstate";function wA(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=Ta(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),qm("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:ru(u))}function s(o,u){Vn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return CA(e,n,s,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Vn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RA(){return Math.random().toString(36).substring(2,10)}function nE(i,e){return{usr:i.state,key:i.key,idx:e}}function qm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ta(e):e,state:n,key:e&&e.key||s||RA()}}function ru({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ta(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function CA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let z=E(),W=z==null?null:z-g;g=z,p&&p({action:m,location:Y.location,delta:W})}function w(z,W){m="PUSH";let G=qm(Y.location,z,W);n&&n(G,z),g=E()+1;let te=nE(G,g),ce=Y.createHref(G);try{h.pushState(te,"",ce)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(ce)}u&&p&&p({action:m,location:Y.location,delta:1})}function k(z,W){m="REPLACE";let G=qm(Y.location,z,W);n&&n(G,z),g=E();let te=nE(G,g),ce=Y.createHref(G);h.replaceState(te,"",ce),u&&p&&p({action:m,location:Y.location,delta:0})}function q(z){return IA(z)}let Y={get action(){return m},get location(){return i(o,h)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(tE,T),p=z,()=>{o.removeEventListener(tE,T),p=null}},createHref(z){return e(o,z)},createURL:q,encodeLocation(z){let W=q(z);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:w,replace:k,go(z){return h.go(z)}};return Y}function IA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:ru(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function j0(i,e,n="/"){return DA(i,e,n,!1)}function DA(i,e,n,s){let o=typeof e=="string"?Ta(e):e,u=Cr(o.pathname||"/",n);if(u==null)return null;let h=q0(i);OA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=jA(u);m=zA(h[p],g,s)}return m}function q0(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ht(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=br([s,E.relativePath]),w=n.concat(E);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),q0(h.children,e,w,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:LA(T,h.index),routesMeta:w})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of H0(h.path))u(h,m,!0,p)}),e}function H0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=H0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function OA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:UA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var NA=/^:[\w-]+$/,xA=3,MA=2,VA=1,kA=10,PA=-2,iE=i=>i==="*";function LA(i,e){let n=i.split("/"),s=n.length;return n.some(iE)&&(s+=PA),e&&(s+=MA),n.filter(o=>!iE(o)).reduce((o,u)=>o+(NA.test(u)?xA:u===""?VA:kA),s)}function UA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function zA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:br([u,T.pathname]),pathnameBase:KA(br([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=br([u,T.pathnameBase]))}return h}function Ih(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=BA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let q=m[w]||"";h=u.slice(0,u.length-q.length).replace(/(.)\/+$/,"$1")}const k=m[w];return T&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function BA(i,e=!1,n=!0){Vn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function jA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Cr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var qA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HA=i=>qA.test(i);function FA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Ta(i):i,u;if(n)if(HA(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Vn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=rE(n.substring(1),"/"):u=rE(n,e)}else u=e;return{pathname:u,search:QA(s),hash:YA(o)}}function rE(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Rm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gp(i){let e=GA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function yp(i,e,n,s=!1){let o;typeof i=="string"?o=Ta(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),Rm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Rm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Rm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=FA(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var br=i=>i.join("/").replace(/\/\/+/g,"/"),KA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),QA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,YA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function XA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var F0=["POST","PUT","PATCH","DELETE"];new Set(F0);var $A=["GET",...F0];new Set($A);var xo=H.createContext(null);xo.displayName="DataRouter";var $h=H.createContext(null);$h.displayName="DataRouterState";H.createContext(!1);var G0=H.createContext({isTransitioning:!1});G0.displayName="ViewTransition";var WA=H.createContext(new Map);WA.displayName="Fetchers";var JA=H.createContext(null);JA.displayName="Await";var Ei=H.createContext(null);Ei.displayName="Navigation";var gu=H.createContext(null);gu.displayName="Location";var Zi=H.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var _p=H.createContext(null);_p.displayName="RouteError";function ZA(i,{relative:e}={}){ht(Mo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Ei),{hash:o,pathname:u,search:h}=yu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:br([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Mo(){return H.useContext(gu)!=null}function Ns(){return ht(Mo(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(gu).location}var K0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q0(i){H.useContext(Ei).static||H.useLayoutEffect(i)}function Y0(){let{isDataRoute:i}=H.useContext(Zi);return i?fw():ew()}function ew(){ht(Mo(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(xo),{basename:e,navigator:n}=H.useContext(Ei),{matches:s}=H.useContext(Zi),{pathname:o}=Ns(),u=JSON.stringify(gp(s)),h=H.useRef(!1);return Q0(()=>{h.current=!0}),H.useCallback((p,g={})=>{if(Vn(h.current,K0),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=yp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:br([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}H.createContext(null);function yu(i,{relative:e}={}){let{matches:n}=H.useContext(Zi),{pathname:s}=Ns(),o=JSON.stringify(gp(n));return H.useMemo(()=>yp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function tw(i,e){return X0(i,e)}function X0(i,e,n,s,o){ht(Mo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=H.useContext(Ei),{matches:h}=H.useContext(Zi),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let G=T&&T.path||"";$0(g,!T||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let w=Ns(),k;if(e){let G=typeof e=="string"?Ta(e):e;ht(E==="/"||G.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${G.pathname}" was given in the \`location\` prop.`),k=G}else k=w;let q=k.pathname||"/",Y=q;if(E!=="/"){let G=E.replace(/^\//,"").split("/");Y="/"+q.replace(/^\//,"").split("/").slice(G.length).join("/")}let z=j0(i,{pathname:Y});Vn(T||z!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Vn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=aw(z&&z.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:br([E,u.encodeLocation?u.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?E:br([E,u.encodeLocation?u.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),h,n,s,o);return e&&W?H.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},W):W}function nw(){let i=hw(),e=XA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,h)}var iw=H.createElement(nw,null),rw=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?H.createElement(Zi.Provider,{value:this.props.routeContext},H.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sw({routeContext:i,match:e,children:n}){let s=H.useContext(xo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Zi.Provider,{value:i},n)}function aw(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);ht(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:w,errors:k}=n,q=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||q){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:T})}:void 0;return u.reduceRight((E,T,w)=>{let k,q=!1,Y=null,z=null;n&&(k=h&&T.route.id?h[T.route.id]:void 0,Y=T.route.errorElement||iw,m&&(p<0&&w===0?($0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,z=null):p===w&&(q=!0,z=T.route.hydrateFallbackElement||null)));let W=e.concat(u.slice(0,w+1)),G=()=>{let te;return k?te=Y:q?te=z:T.route.Component?te=H.createElement(T.route.Component,null):T.route.element?te=T.route.element:te=E,H.createElement(sw,{match:T,routeContext:{outlet:E,matches:W,isDataRoute:n!=null},children:te})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?H.createElement(rw,{location:n.location,revalidation:n.revalidation,component:Y,error:k,children:G(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:g}):G()},null)}function vp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ow(i){let e=H.useContext(xo);return ht(e,vp(i)),e}function lw(i){let e=H.useContext($h);return ht(e,vp(i)),e}function uw(i){let e=H.useContext(Zi);return ht(e,vp(i)),e}function Ep(i){let e=uw(i),n=e.matches[e.matches.length-1];return ht(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function cw(){return Ep("useRouteId")}function hw(){let i=H.useContext(_p),e=lw("useRouteError"),n=Ep("useRouteError");return i!==void 0?i:e.errors?.[n]}function fw(){let{router:i}=ow("useNavigate"),e=Ep("useNavigate"),n=H.useRef(!1);return Q0(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{Vn(n.current,K0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var sE={};function $0(i,e,n){!e&&!sE[i]&&(sE[i]=!0,Vn(!1,n))}H.memo(dw);function dw({routes:i,future:e,state:n,unstable_onError:s}){return X0(i,void 0,n,s,e)}function pa({to:i,replace:e,state:n,relative:s}){ht(Mo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(Ei);Vn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=H.useContext(Zi),{pathname:h}=Ns(),m=Y0(),p=yp(i,gp(u),h,s==="path"),g=JSON.stringify(p);return H.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Er(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ht(!Mo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Ta(n));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:w="default"}=n,k=H.useMemo(()=>{let q=Cr(p,h);return q==null?null:{location:{pathname:q,search:g,hash:E,state:T,key:w},navigationType:s}},[h,p,g,E,T,w,s]);return Vn(k!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:H.createElement(Ei.Provider,{value:m},H.createElement(gu.Provider,{children:e,value:k}))}function pw({children:i,location:e}){return tw(Hm(i),e)}function Hm(i,e=[]){let n=[];return H.Children.forEach(i,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){n.push.apply(n,Hm(s.props.children,u));return}ht(s.type===Er,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Hm(s.props.children,u)),n.push(h)}),n}var gh="get",yh="application/x-www-form-urlencoded";function Wh(i){return i!=null&&typeof i.tagName=="string"}function gw(i){return Wh(i)&&i.tagName.toLowerCase()==="button"}function yw(i){return Wh(i)&&i.tagName.toLowerCase()==="form"}function _w(i){return Wh(i)&&i.tagName.toLowerCase()==="input"}function vw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Ew(i,e){return i.button===0&&(!e||e==="_self")&&!vw(i)}var uh=null;function Tw(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var Sw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cm(i){return i!=null&&!Sw.has(i)?(Vn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yh}"`),null):i}function bw(i,e){let n,s,o,u,h;if(yw(i)){let m=i.getAttribute("action");s=m?Cr(m,e):null,n=i.getAttribute("method")||gh,o=Cm(i.getAttribute("enctype"))||yh,u=new FormData(i)}else if(gw(i)||_w(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Cr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||gh,o=Cm(i.getAttribute("formenctype"))||Cm(m.getAttribute("enctype"))||yh,u=new FormData(m,i),!Tw()){let{name:g,type:E,value:T}=i;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(Wh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gh,s=null,o=yh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Aw(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Cr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function ww(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Cw(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await ww(u,n);return h.links?h.links():[]}return[]}));return Nw(s.flat(1).filter(Rw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function aE(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Iw(i,e,{includeHydrateFallback:n}={}){return Dw(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Dw(i){return[...new Set(i)]}function Ow(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Nw(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(Ow(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function W0(){let i=H.useContext(xo);return Tp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function xw(){let i=H.useContext($h);return Tp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Sp=H.createContext(void 0);Sp.displayName="FrameworkContext";function J0(){let i=H.useContext(Sp);return Tp(i,"You must render this element inside a <HydratedRouter> element"),i}function Mw(i,e){let n=H.useContext(Sp),[s,o]=H.useState(!1),[u,h]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,w=H.useRef(null);H.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let Y=W=>{W.forEach(G=>{h(G.isIntersecting)})},z=new IntersectionObserver(Y,{threshold:.5});return w.current&&z.observe(w.current),()=>{z.disconnect()}}},[i]),H.useEffect(()=>{if(s){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let k=()=>{o(!0)},q=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Gl(m,k),onBlur:Gl(p,q),onMouseEnter:Gl(g,k),onMouseLeave:Gl(E,q),onTouchStart:Gl(T,k)}]:[!1,w,{}]}function Gl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Vw({page:i,...e}){let{router:n}=W0(),s=H.useMemo(()=>j0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?H.createElement(Pw,{page:i,matches:s,...e}):null}function kw(i){let{manifest:e,routeModules:n}=J0(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return Cw(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function Pw({page:i,matches:e,...n}){let s=Ns(),{manifest:o,routeModules:u}=J0(),{basename:h}=W0(),{loaderData:m,matches:p}=xw(),g=H.useMemo(()=>aE(i,e,p,o,s,"data"),[i,e,p,o,s]),E=H.useMemo(()=>aE(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let q=new Set,Y=!1;if(e.forEach(W=>{let G=o.routes[W.route.id];!G||!G.hasLoader||(!g.some(te=>te.route.id===W.route.id)&&W.route.id in m&&u[W.route.id]?.shouldRevalidate||G.hasClientLoader?Y=!0:q.add(W.route.id))}),q.size===0)return[];let z=Aw(i,h,"data");return Y&&q.size>0&&z.searchParams.set("_routes",e.filter(W=>q.has(W.route.id)).map(W=>W.route.id).join(",")),[z.pathname+z.search]},[h,m,s,o,g,e,i,u]),w=H.useMemo(()=>Iw(E,o),[E,o]),k=kw(E);return H.createElement(H.Fragment,null,T.map(q=>H.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),w.map(q=>H.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),k.map(({key:q,link:Y})=>H.createElement("link",{key:q,nonce:n.nonce,...Y})))}function Lw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Z0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z0&&(window.__reactRouterVersion="7.9.6")}catch{}function Uw({basename:i,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=wA({window:n,v5Compat:!0}));let o=s.current,[u,h]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>h(p))},[h]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(mw,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var eT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pi=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...w},k){let{basename:q}=H.useContext(Ei),Y=typeof g=="string"&&eT.test(g),z,W=!1;if(typeof g=="string"&&Y&&(z=g,Z0))try{let I=new URL(window.location.href),V=g.startsWith("//")?new URL(I.protocol+g):new URL(g),A=Cr(V.pathname,q);V.origin===I.origin&&A!=null?g=A+V.search+V.hash:W=!0}catch{Vn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=ZA(g,{relative:o}),[te,ce,me]=Mw(s,w),ye=qw(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function O(I){e&&e(I),I.defaultPrevented||ye(I)}let R=H.createElement("a",{...w,...me,href:z||G,onClick:W||u?e:O,ref:Lw(k,ce),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return te&&!Y?H.createElement(H.Fragment,null,R,H.createElement(Vw,{page:G})):R});pi.displayName="Link";var zw=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=yu(h,{relative:g.relative}),w=Ns(),k=H.useContext($h),{navigator:q,basename:Y}=H.useContext(Ei),z=k!=null&&Qw(T)&&m===!0,W=q.encodeLocation?q.encodeLocation(T).pathname:T.pathname,G=w.pathname,te=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(G=G.toLowerCase(),te=te?te.toLowerCase():null,W=W.toLowerCase()),te&&Y&&(te=Cr(te,Y)||te);const ce=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let me=G===W||!o&&G.startsWith(W)&&G.charAt(ce)==="/",ye=te!=null&&(te===W||!o&&te.startsWith(W)&&te.charAt(W.length)==="/"),O={isActive:me,isPending:ye,isTransitioning:z},R=me?e:void 0,I;typeof s=="function"?I=s(O):I=[s,me?"active":null,ye?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(O):u;return H.createElement(pi,{...g,"aria-current":R,className:I,ref:E,style:V,to:h,viewTransition:m},typeof p=="function"?p(O):p)});zw.displayName="NavLink";var Bw=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=gh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...w},k)=>{let q=Gw(),Y=Kw(m,{relative:g}),z=h.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&eT.test(m),G=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let ce=te.nativeEvent.submitter,me=ce?.getAttribute("formmethod")||h;q(ce||te.currentTarget,{fetcherKey:e,method:me,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return H.createElement("form",{ref:k,method:z,action:Y,onSubmit:s?p:G,...w,"data-discover":!W&&i==="render"?"true":void 0})});Bw.displayName="Form";function jw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tT(i){let e=H.useContext(xo);return ht(e,jw(i)),e}function qw(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Y0(),p=Ns(),g=yu(i,{relative:u});return H.useCallback(E=>{if(Ew(E,e)){E.preventDefault();let T=n!==void 0?n:ru(p)===ru(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}var Hw=0,Fw=()=>`__${String(++Hw)}__`;function Gw(){let{router:i}=tT("useSubmit"),{basename:e}=H.useContext(Ei),n=cw();return H.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=bw(s,e);if(o.navigate===!1){let E=o.fetcherKey||Fw();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function Kw(i,{relative:e}={}){let{basename:n}=H.useContext(Ei),s=H.useContext(Zi);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...yu(i||".",{relative:e})},h=Ns();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:br([n,u.pathname])),ru(u)}function Qw(i,{relative:e}={}){let n=H.useContext(G0);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=tT("useViewTransitionState"),o=yu(i,{relative:e});if(!n.isTransitioning)return!1;let u=Cr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Cr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ih(o.pathname,h)!=null||Ih(o.pathname,u)!=null}const Yw=()=>{};var oE={};const nT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Xw=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},iT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,k=g&63;p||(k=64,h||(w=64)),s.push(n[E],n[T],n[w],n[k])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(nT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Xw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new $w;const w=u<<2|m>>4;if(s.push(w),g!==64){const k=m<<4&240|g>>2;if(s.push(k),T!==64){const q=g<<6&192|T;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class $w extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ww=function(i){const e=nT(i);return iT.encodeByteArray(e,!0)},Dh=function(i){return Ww(i).replace(/\./g,"")},rT=function(i){try{return iT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Jw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Zw=()=>Jw().__FIREBASE_DEFAULTS__,eR=()=>{if(typeof process>"u"||typeof oE>"u")return;const i=oE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},tR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&rT(i[1]);return e&&JSON.parse(e)},Jh=()=>{try{return Yw()||Zw()||eR()||tR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},sT=i=>Jh()?.emulatorHosts?.[i],nR=i=>{const e=sT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},aT=()=>Jh()?.config,oT=i=>Jh()?.[`_${i}`];class iR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Vo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lT(i){return(await fetch(i,{credentials:"include"})).ok}function rR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Dh(JSON.stringify(n)),Dh(JSON.stringify(h)),""].join(".")}const Jl={};function sR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?i.emulator.push(e):i.prod.push(e);return i}function aR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let lE=!1;function uT(i,e){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||Jl[i]===e||Jl[i]||lE)return;Jl[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=sR().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{lE=!0,h()},w}function E(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=aR(s),k=n("text"),q=document.getElementById(k)||document.createElement("span"),Y=n("learnmore"),z=document.getElementById(Y)||document.createElement("a"),W=n("preprendIcon"),G=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const te=w.element;m(te),E(z,Y);const ce=g();p(G,W),te.append(G,q,z,ce),document.body.appendChild(te)}u?(q.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function lR(){const i=Jh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function hR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fR(){const i=sn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function dR(){return!lR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mR(){try{return typeof indexedDB=="object"}catch{return!1}}function pR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const gR="FirebaseError";class Vr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=gR,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?yR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Vr(o,m,s)}}function yR(i,e){return i.replace(_R,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const _R=/\{\$([^}]+)}/g;function vR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ir(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(uE(u)&&uE(h)){if(!Ir(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function uE(i){return i!==null&&typeof i=="object"}function vu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ql(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function ER(i,e){const n=new TR(i,e);return n.subscribe.bind(n)}class TR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");SR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Im),o.error===void 0&&(o.error=Im),o.complete===void 0&&(o.complete=Im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Im(){}function wt(i){return i&&i._delegate?i._delegate:i}class ga{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ha="[DEFAULT]";class bR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new iR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wR(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:AR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AR(i){return i===ha?void 0:i}function wR(i){return i.instantiationMode==="EAGER"}class RR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const CR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},IR=Le.INFO,DR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},OR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=DR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bp{constructor(e){this.name=e,this._logLevel=IR,this._logHandler=OR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const NR=(i,e)=>e.some(n=>i instanceof n);let cE,hE;function xR(){return cE||(cE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MR(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cT=new WeakMap,Fm=new WeakMap,hT=new WeakMap,Dm=new WeakMap,Ap=new WeakMap;function VR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Es(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&cT.set(n,i)}).catch(()=>{}),Ap.set(e,i),e}function kR(i){if(Fm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Fm.set(i,e)}let Gm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Fm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||hT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function PR(i){Gm=i(Gm)}function LR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Om(this),e,...n);return hT.set(s,e.sort?e.sort():[e]),Es(s)}:MR().includes(i)?function(...e){return i.apply(Om(this),e),Es(cT.get(this))}:function(...e){return Es(i.apply(Om(this),e))}}function UR(i){return typeof i=="function"?LR(i):(i instanceof IDBTransaction&&kR(i),NR(i,xR())?new Proxy(i,Gm):i)}function Es(i){if(i instanceof IDBRequest)return VR(i);if(Dm.has(i))return Dm.get(i);const e=UR(i);return e!==i&&(Dm.set(i,e),Ap.set(e,i)),e}const Om=i=>Ap.get(i);function zR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=Es(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Es(h.result),p.oldVersion,p.newVersion,Es(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const BR=["get","getKey","getAll","getAllKeys","count"],jR=["put","add","delete","clear"],Nm=new Map;function fE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=jR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||BR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Nm.set(e,u),u}PR(i=>({...i,get:(e,n,s)=>fE(e,n)||i.get(e,n,s),has:(e,n)=>!!fE(e,n)||i.has(e,n)}));class qR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function HR(i){return i.getComponent()?.type==="VERSION"}const Km="@firebase/app",dE="0.14.6";const Dr=new bp("@firebase/app"),FR="@firebase/app-compat",GR="@firebase/analytics-compat",KR="@firebase/analytics",QR="@firebase/app-check-compat",YR="@firebase/app-check",XR="@firebase/auth",$R="@firebase/auth-compat",WR="@firebase/database",JR="@firebase/data-connect",ZR="@firebase/database-compat",e2="@firebase/functions",t2="@firebase/functions-compat",n2="@firebase/installations",i2="@firebase/installations-compat",r2="@firebase/messaging",s2="@firebase/messaging-compat",a2="@firebase/performance",o2="@firebase/performance-compat",l2="@firebase/remote-config",u2="@firebase/remote-config-compat",c2="@firebase/storage",h2="@firebase/storage-compat",f2="@firebase/firestore",d2="@firebase/ai",m2="@firebase/firestore-compat",p2="firebase",g2="12.6.0";const Qm="[DEFAULT]",y2={[Km]:"fire-core",[FR]:"fire-core-compat",[KR]:"fire-analytics",[GR]:"fire-analytics-compat",[YR]:"fire-app-check",[QR]:"fire-app-check-compat",[XR]:"fire-auth",[$R]:"fire-auth-compat",[WR]:"fire-rtdb",[JR]:"fire-data-connect",[ZR]:"fire-rtdb-compat",[e2]:"fire-fn",[t2]:"fire-fn-compat",[n2]:"fire-iid",[i2]:"fire-iid-compat",[r2]:"fire-fcm",[s2]:"fire-fcm-compat",[a2]:"fire-perf",[o2]:"fire-perf-compat",[l2]:"fire-rc",[u2]:"fire-rc-compat",[c2]:"fire-gcs",[h2]:"fire-gcs-compat",[f2]:"fire-fst",[m2]:"fire-fst-compat",[d2]:"fire-vertex","fire-js":"fire-js",[p2]:"fire-js-all"};const Oh=new Map,_2=new Map,Ym=new Map;function mE(i,e){try{i.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function bo(i){const e=i.name;if(Ym.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,i);for(const n of Oh.values())mE(n,i);for(const n of _2.values())mE(n,i);return!0}function wp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Wn(i){return i==null?!1:i.settings!==void 0}const v2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new _u("app","Firebase",v2);class E2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}const ko=g2;function fT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Qm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ts.create("bad-app-name",{appName:String(o)});if(n||(n=aT()),!n)throw Ts.create("no-options");const u=Oh.get(o);if(u){if(Ir(n,u.options)&&Ir(s,u.config))return u;throw Ts.create("duplicate-app",{appName:o})}const h=new RR(o);for(const p of Ym.values())h.addComponent(p);const m=new E2(n,s,h);return Oh.set(o,m),m}function dT(i=Qm){const e=Oh.get(i);if(!e&&i===Qm&&aT())return fT();if(!e)throw Ts.create("no-app",{appName:i});return e}function Ss(i,e,n){let s=y2[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(h.join(" "));return}bo(new ga(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const T2="firebase-heartbeat-database",S2=1,su="firebase-heartbeat-store";let xm=null;function mT(){return xm||(xm=zR(T2,S2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(i=>{throw Ts.create("idb-open",{originalErrorMessage:i.message})})),xm}async function b2(i){try{const n=(await mT()).transaction(su),s=await n.objectStore(su).get(pT(i));return await n.done,s}catch(e){if(e instanceof Vr)Dr.warn(e.message);else{const n=Ts.create("idb-get",{originalErrorMessage:e?.message});Dr.warn(n.message)}}}async function pE(i,e){try{const s=(await mT()).transaction(su,"readwrite");await s.objectStore(su).put(e,pT(i)),await s.done}catch(n){if(n instanceof Vr)Dr.warn(n.message);else{const s=Ts.create("idb-set",{originalErrorMessage:n?.message});Dr.warn(s.message)}}}function pT(i){return`${i.name}!${i.options.appId}`}const A2=1024,w2=30;class R2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>w2){const o=D2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gE(),{heartbeatsToSend:n,unsentEntries:s}=C2(this._heartbeatsCache.heartbeats),o=Dh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Dr.warn(e),""}}}function gE(){return new Date().toISOString().substring(0,10)}function C2(i,e=A2){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),yE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),yE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class I2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mR()?pR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return pE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yE(i){return Dh(JSON.stringify({version:2,heartbeats:i})).length}function D2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function O2(i){bo(new ga("platform-logger",e=>new qR(e),"PRIVATE")),bo(new ga("heartbeat",e=>new R2(e),"PRIVATE")),Ss(Km,dE,i),Ss(Km,dE,"esm2020"),Ss("fire-js","")}O2("");var N2="firebase",x2="12.6.0";Ss(N2,x2,"app");function gT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M2=gT,yT=new _u("auth","Firebase",gT());const Nh=new bp("@firebase/auth");function V2(i,...e){Nh.logLevel<=Le.WARN&&Nh.warn(`Auth (${ko}): ${i}`,...e)}function _h(i,...e){Nh.logLevel<=Le.ERROR&&Nh.error(`Auth (${ko}): ${i}`,...e)}function _i(i,...e){throw Rp(i,...e)}function Gi(i,...e){return Rp(i,...e)}function _T(i,e,n){const s={...M2(),[e]:n};return new _u("auth","Firebase",s).create(e,{appName:i.name})}function Ar(i){return _T(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return yT.create(i,...e)}function Te(i,e,...n){if(!i)throw Rp(e,...n)}function Tr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw _h(e),new Error(e)}function Or(i,e){i||Tr(e)}function Xm(){return typeof self<"u"&&self.location?.href||""}function k2(){return _E()==="http:"||_E()==="https:"}function _E(){return typeof self<"u"&&self.location?.protocol||null}function P2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k2()||cR()||"connection"in navigator)?navigator.onLine:!0}function L2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=oR()||hR()}get(){return P2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cp(i,e){Or(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class vT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const U2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const z2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],B2=new Eu(3e4,6e4);function xs(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ms(i,e,n,s,o={}){return ET(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=vu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return uR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Vo(i.emulatorConfig.host)&&(g.credentials="include"),vT.fetch()(await TT(i,i.config.apiHost,n,m),g)})}async function ET(i,e,n){i._canInitEmulator=!1;const s={...U2,...e};try{const o=new q2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ch(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ch(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw ch(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw _T(i,E,g);_i(i,E)}}catch(o){if(o instanceof Vr)throw o;_i(i,"network-request-failed",{message:String(o)})}}async function Tu(i,e,n,s,o={}){const u=await Ms(i,e,n,s,o);return"mfaPendingCredential"in u&&_i(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function TT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Cp(i.config,o):`${i.config.apiScheme}://${o}`;return z2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function j2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class q2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Gi(this.auth,"network-request-failed")),B2.get())})}}function ch(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Gi(i,e,s);return o.customData._tokenResponse=n,o}function vE(i){return i!==void 0&&i.enterprise!==void 0}class H2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F2(i,e){return Ms(i,"GET","/v2/recaptchaConfig",xs(i,e))}async function G2(i,e){return Ms(i,"POST","/v1/accounts:delete",e)}async function xh(i,e){return Ms(i,"POST","/v1/accounts:lookup",e)}function Zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function K2(i,e=!1){const n=wt(i),s=await n.getIdToken(e),o=Ip(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Zl(Mm(o.auth_time)),issuedAtTime:Zl(Mm(o.iat)),expirationTime:Zl(Mm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Mm(i){return Number(i)*1e3}function Ip(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const o=rT(n);return o?JSON.parse(o):(_h("Failed to decode base64 JWT payload"),null)}catch(o){return _h("Caught error parsing JWT payload as JSON",o?.toString()),null}}function EE(i){const e=Ip(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function au(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Vr&&Q2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Q2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class Y2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mh(i){const e=i.auth,n=await i.getIdToken(),s=await au(i,xh(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?ST(o.providerUserInfo):[],h=$2(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function X2(i){const e=wt(i);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ST(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function W2(i,e){const n=await ET(i,{},async()=>{const s=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await TT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Vo(i.emulatorConfig.host)&&(p.credentials="include"),vT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function J2(i,e){return Ms(i,"POST","/v2/accounts:revokeToken",xs(i,e))}class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=EE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await W2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new vo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return Tr("not implemented")}}function ds(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class yi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Y2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return K2(this,e)}reload(){return X2(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(Ar(this.auth));const e=await this.getIdToken();return await au(this,G2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:k,providerData:q,stsTokenManager:Y}=n;Te(T&&Y,e,"internal-error");const z=vo.fromJSON(this.name,Y);Te(typeof T=="string",e,"internal-error"),ds(s,e.name),ds(o,e.name),Te(typeof w=="boolean",e,"internal-error"),Te(typeof k=="boolean",e,"internal-error"),ds(u,e.name),ds(h,e.name),ds(m,e.name),ds(p,e.name),ds(g,e.name),ds(E,e.name);const W=new yi({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:k,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:z,createdAt:g,lastLoginAt:E});return q&&Array.isArray(q)&&(W.providerData=q.map(G=>({...G}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,n,s=!1){const o=new vo;o.updateFromServerResponse(n);const u=new yi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Mh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ST(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new vo;m.updateFromIdToken(s);const p=new yi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const TE=new Map;function Sr(i){Or(i instanceof Function,"Expected a class definition");let e=TE.get(i);return e?(Or(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,TE.set(i,e),e)}class bT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bT.type="NONE";const SE=bT;function vh(i,e,n){return`firebase:${i}:${e}:${n}`}class Eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=vh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xh(this.auth,{idToken:e}).catch(()=>{});return n?yi._fromGetAccountInfoResponse(this.auth,n,e):null}return yi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Eo(Sr(SE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Sr(SE);const h=vh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const w=await xh(e,{idToken:E}).catch(()=>{});if(!w)break;T=await yi._fromGetAccountInfoResponse(e,w,E)}else T=yi._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Eo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Eo(u,e,s))}}function bE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DT(e))return"Blackberry";if(OT(e))return"Webos";if(wT(e))return"Safari";if((e.includes("chrome/")||RT(e))&&!e.includes("edge/"))return"Chrome";if(IT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function AT(i=sn()){return/firefox\//i.test(i)}function wT(i=sn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RT(i=sn()){return/crios\//i.test(i)}function CT(i=sn()){return/iemobile/i.test(i)}function IT(i=sn()){return/android/i.test(i)}function DT(i=sn()){return/blackberry/i.test(i)}function OT(i=sn()){return/webos/i.test(i)}function Dp(i=sn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Z2(i=sn()){return Dp(i)&&!!window.navigator?.standalone}function eC(){return fR()&&document.documentMode===10}function NT(i=sn()){return Dp(i)||IT(i)||OT(i)||DT(i)||/windows phone/i.test(i)||CT(i)}function xT(i,e=[]){let n;switch(i){case"Browser":n=bE(sn());break;case"Worker":n=`${bE(sn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${s}`}class tC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function nC(i,e={}){return Ms(i,"GET","/v2/passwordPolicy",xs(i,e))}const iC=6;class rC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class sC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AE(this),this.idTokenSubscription=new AE(this),this.beforeStateQueue=new tC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xh(this,{idToken:e}),s=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=L2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(Ar(this));const n=e?wt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(Ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(Ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nC(this),n=new rC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await J2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Sr(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[Sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&V2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Sa(i){return wt(i)}class AE{constructor(e){this.auth=e,this.observer=null,this.addObserver=ER(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aC(i){Zh=i}function MT(i){return Zh.loadJS(i)}function oC(){return Zh.recaptchaEnterpriseScript}function lC(){return Zh.gapiScript}function uC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class cC{constructor(){this.enterprise=new hC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class hC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fC="recaptcha-enterprise",VT="NO_RECAPTCHA";class dC{constructor(e){this.type=fC,this.auth=Sa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{F2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new H2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;vE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(VT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&vE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=oC();p.length!==0&&(p+=m),MT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function wE(i,e,n,s=!1,o=!1){const u=new dC(i);let h;if(o)h=VT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Wm(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await wE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await wE(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}function mC(i,e){const n=wp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ir(u,e??{}))return o;_i(o,"already-initialized")}return n.initialize({options:e})}function pC(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Sr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function gC(i,e,n){const s=Sa(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=kT(e),{host:h,port:m}=yC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Ir(g,s.config.emulator)&&Ir(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Vo(h)?(lT(`${u}//${h}${p}`),uT("Auth",!0)):_C()}function kT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function yC(i){const e=kT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:RE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:RE(h)}}}function RE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function _C(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Op{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,n){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}async function vC(i,e){return Ms(i,"POST","/v1/accounts:signUp",e)}async function EC(i,e){return Tu(i,"POST","/v1/accounts:signInWithPassword",xs(i,e))}async function TC(i,e){return Tu(i,"POST","/v1/accounts:signInWithEmailLink",xs(i,e))}async function SC(i,e){return Tu(i,"POST","/v1/accounts:signInWithEmailLink",xs(i,e))}class ou extends Op{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ou(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ou(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wm(e,n,"signInWithPassword",EC);case"emailLink":return TC(e,{email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wm(e,s,"signUpPassword",vC);case"emailLink":return SC(e,{idToken:n,email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function To(i,e){return Tu(i,"POST","/v1/accounts:signInWithIdp",xs(i,e))}const bC="http://localhost";class ya extends Op{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ya(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,To(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:bC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}function AC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wC(i){const e=Kl(Ql(i)).link,n=e?Kl(Ql(e)).deep_link_id:null,s=Kl(Ql(i)).deep_link_id;return(s?Kl(Ql(s)).link:null)||s||n||e||i}class Np{constructor(e){const n=Kl(Ql(e)),s=n.apiKey??null,o=n.oobCode??null,u=AC(n.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=wC(e);try{return new Np(n)}catch{return null}}}class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,n){return ou._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Np.parseLink(n);return Te(s,"argument-error"),ou._fromEmailAndCode(e,s.code,s.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class PT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Su extends PT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ms extends Su{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";class ps extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ya._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ps.credential(n,s)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";class gs extends Su{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";class ys extends Su{constructor(){super("twitter.com")}static credential(e,n){return ya._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ys.credential(n,s)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";async function RC(i,e){return Tu(i,"POST","/v1/accounts:signUp",xs(i,e))}class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await yi._fromIdTokenResponse(e,s,o),h=CE(s);return new _a({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=CE(s);return new _a({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function CE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Vh extends Vr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Vh(e,n,s,o)}}function LT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(i,u,e,s):u})}async function CC(i,e,n=!1){const s=await au(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return _a._forOperation(i,"link",s)}async function IC(i,e,n=!1){const{auth:s}=i;if(Wn(s.app))return Promise.reject(Ar(s));const o="reauthenticate";try{const u=await au(i,LT(s,o,e,i),n);Te(u.idToken,s,"internal-error");const h=Ip(u.idToken);Te(h,s,"internal-error");const{sub:m}=h;return Te(i.uid===m,s,"user-mismatch"),_a._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&_i(s,"user-mismatch"),u}}async function UT(i,e,n=!1){if(Wn(i.app))return Promise.reject(Ar(i));const s="signIn",o=await LT(i,s,e),u=await _a._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function DC(i,e){return UT(Sa(i),e)}async function zT(i){const e=Sa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OC(i,e,n){if(Wn(i.app))return Promise.reject(Ar(i));const s=Sa(i),h=await Wm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&zT(i),p}),m=await _a._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function NC(i,e,n){return Wn(i.app)?Promise.reject(Ar(i)):DC(wt(i),Po.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&zT(i),s})}function xC(i,e,n,s){return wt(i).onIdTokenChanged(e,n,s)}function MC(i,e,n){return wt(i).beforeAuthStateChanged(e,n)}function VC(i,e,n,s){return wt(i).onAuthStateChanged(e,n,s)}function kC(i){return wt(i).signOut()}const kh="__sak";class BT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const PC=1e3,LC=10;class jT extends BT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);eC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,LC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},PC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jT.type="LOCAL";const UC=jT;class qT extends BT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qT.type="SESSION";const HT=qT;function zC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new ef(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await zC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];function xp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class BC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=xp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ki(){return window}function jC(i){Ki().location.href=i}function FT(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function qC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HC(){return navigator?.serviceWorker?.controller||null}function FC(){return FT()?self:null}const GT="firebaseLocalStorageDb",GC=1,Ph="firebaseLocalStorage",KT="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(i,e){return i.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function KC(){const i=indexedDB.deleteDatabase(GT);return new bu(i).toPromise()}function Jm(){const i=indexedDB.open(GT,GC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ph,{keyPath:KT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ph)?e(s):(s.close(),await KC(),e(await Jm()))})})}async function IE(i,e,n){const s=tf(i,!0).put({[KT]:e,value:n});return new bu(s).toPromise()}async function QC(i,e){const n=tf(i,!1).get(e),s=await new bu(n).toPromise();return s===void 0?null:s.value}function DE(i,e){const n=tf(i,!0).delete(e);return new bu(n).toPromise()}const YC=800,XC=3;class QT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>XC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(FC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qC(),!this.activeServiceWorker)return;this.sender=new BC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await IE(e,kh,"1"),await DE(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>IE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>QC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=tf(o,!1).getAll();return new bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QT.type="LOCAL";const $C=QT;new Eu(3e4,6e4);function WC(i,e){return e?Sr(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Mp extends Op{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JC(i){return UT(i.auth,new Mp(i),i.bypassAuthState)}function ZC(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),IC(n,new Mp(i),i.bypassAuthState)}async function eI(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),CC(n,new Mp(i),i.bypassAuthState)}class YT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JC;case"linkViaPopup":case"linkViaRedirect":return eI;case"reauthViaPopup":case"reauthViaRedirect":return ZC;default:_i(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tI=new Eu(2e3,1e4);class _o extends YT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tI.get())};e()}}_o.currentPopupAction=null;const nI="pendingRedirect",Eh=new Map;class iI extends YT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const s=await rI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rI(i,e){const n=oI(e),s=aI(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function sI(i,e){Eh.set(i._key(),e)}function aI(i){return Sr(i._redirectPersistence)}function oI(i){return vh(nI,i.config.apiKey,i.name)}async function lI(i,e,n=!1){if(Wn(i.app))return Promise.reject(Ar(i));const s=Sa(i),o=WC(s,e),h=await new iI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const uI=600*1e3;class cI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!XT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uI&&this.cachedEventUids.clear(),this.cachedEventUids.has(OE(e))}saveEventToCache(e){this.cachedEventUids.add(OE(e)),this.lastProcessedEventTime=Date.now()}}function OE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function XT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function hI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XT(i);default:return!1}}async function fI(i,e={}){return Ms(i,"GET","/v1/projects",e)}const dI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mI=/^https?/;async function pI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await fI(i);for(const n of e)try{if(gI(n))return}catch{}_i(i,"unauthorized-domain")}function gI(i){const e=Xm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!mI.test(n))return!1;if(dI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const yI=new Eu(3e4,6e4);function NE(){const i=Ki().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function _I(i){return new Promise((e,n)=>{function s(){NE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NE(),n(Gi(i,"network-request-failed"))},timeout:yI.get()})}if(Ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ki().gapi?.load)s();else{const o=uC("iframefcb");return Ki()[o]=()=>{gapi.load?s():n(Gi(i,"network-request-failed"))},MT(`${lC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Th=null,e})}let Th=null;function vI(i){return Th=Th||_I(i),Th}const EI=new Eu(5e3,15e3),TI="__/auth/iframe",SI="emulator/auth/iframe",bI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wI(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Cp(e,SI):`https://${i.config.authDomain}/${TI}`,s={apiKey:e.apiKey,appName:i.name,v:ko},o=AI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${vu(s).slice(1)}`}async function RI(i){const e=await vI(i),n=Ki().gapi;return Te(n,i,"internal-error"),e.open({where:document.body,url:wI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Gi(i,"network-request-failed"),m=Ki().setTimeout(()=>{u(h)},EI.get());function p(){Ki().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const CI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},II=500,DI=600,OI="_blank",NI="http://localhost";class xE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xI(i,e,n,s=II,o=DI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...CI,width:s.toString(),height:o.toString(),top:u,left:h},g=sn().toLowerCase();n&&(m=RT(g)?OI:n),AT(g)&&(e=e||NI,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[k,q])=>`${w}${k}=${q},`,"");if(Z2(g)&&m!=="_self")return MI(e||"",m),new xE(null);const T=window.open(e||"",m,E);Te(T,i,"popup-blocked");try{T.focus()}catch{}return new xE(T)}function MI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const VI="__/auth/handler",kI="emulator/auth/handler",PI=encodeURIComponent("fac");async function ME(i,e,n,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ko,eventId:o};if(e instanceof PT){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",vR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Su){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${PI}=${encodeURIComponent(p)}`:"";return`${LI(i)}?${vu(m).slice(1)}${g}`}function LI({config:i}){return i.emulator?Cp(i,kI):`https://${i.authDomain}/${VI}`}const Vm="webStorageSupport";class UI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HT,this._completeRedirectFn=lI,this._overrideRedirectResult=sI}async _openPopup(e,n,s,o){Or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await ME(e,n,s,Xm(),o);return xI(e,u,xp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await ME(e,n,s,Xm(),o);return jC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await RI(e),s=new cI(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vm,{type:Vm},o=>{const u=o?.[0]?.[Vm];u!==void 0&&n(!!u),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NT()||wT()||Dp()}}const zI=UI;var VE="@firebase/auth",kE="1.11.1";class BI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qI(i){bo(new ga("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xT(i)},g=new sC(s,o,u,p);return pC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),bo(new ga("auth-internal",e=>{const n=Sa(e.getProvider("auth").getImmediate());return(s=>new BI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(VE,kE,jI(i)),Ss(VE,kE,"esm2020")}const HI=300,FI=oT("authIdTokenMaxAge")||HI;let PE=null;const GI=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>FI)return;const o=n?.token;PE!==o&&(PE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function KI(i=dT()){const e=wp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=mC(i,{popupRedirectResolver:zI,persistence:[$C,UC,HT]}),s=oT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=GI(u.toString());MC(n,h,()=>h(n.currentUser)),xC(n,m=>h(m))}}const o=sT("auth");return o&&gC(n,`http://${o}`),n}function QI(){return document.getElementsByTagName("head")?.[0]??document}aC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Gi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",QI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qI("Browser");var LE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bs,$T;(function(){var i;function e(O,R){function I(){}I.prototype=R.prototype,O.F=R.prototype,O.prototype=new I,O.prototype.constructor=O,O.D=function(V,A,D){for(var C=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)C[Me-2]=arguments[Me];return R.prototype[A].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,I){I||(I=0);const V=Array(16);if(typeof R=="string")for(var A=0;A<16;++A)V[A]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(A=0;A<16;++A)V[A]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=O.g[0],I=O.g[1],A=O.g[2];let D=O.g[3],C;C=R+(D^I&(A^D))+V[0]+3614090360&4294967295,R=I+(C<<7&4294967295|C>>>25),C=D+(A^R&(I^A))+V[1]+3905402710&4294967295,D=R+(C<<12&4294967295|C>>>20),C=A+(I^D&(R^I))+V[2]+606105819&4294967295,A=D+(C<<17&4294967295|C>>>15),C=I+(R^A&(D^R))+V[3]+3250441966&4294967295,I=A+(C<<22&4294967295|C>>>10),C=R+(D^I&(A^D))+V[4]+4118548399&4294967295,R=I+(C<<7&4294967295|C>>>25),C=D+(A^R&(I^A))+V[5]+1200080426&4294967295,D=R+(C<<12&4294967295|C>>>20),C=A+(I^D&(R^I))+V[6]+2821735955&4294967295,A=D+(C<<17&4294967295|C>>>15),C=I+(R^A&(D^R))+V[7]+4249261313&4294967295,I=A+(C<<22&4294967295|C>>>10),C=R+(D^I&(A^D))+V[8]+1770035416&4294967295,R=I+(C<<7&4294967295|C>>>25),C=D+(A^R&(I^A))+V[9]+2336552879&4294967295,D=R+(C<<12&4294967295|C>>>20),C=A+(I^D&(R^I))+V[10]+4294925233&4294967295,A=D+(C<<17&4294967295|C>>>15),C=I+(R^A&(D^R))+V[11]+2304563134&4294967295,I=A+(C<<22&4294967295|C>>>10),C=R+(D^I&(A^D))+V[12]+1804603682&4294967295,R=I+(C<<7&4294967295|C>>>25),C=D+(A^R&(I^A))+V[13]+4254626195&4294967295,D=R+(C<<12&4294967295|C>>>20),C=A+(I^D&(R^I))+V[14]+2792965006&4294967295,A=D+(C<<17&4294967295|C>>>15),C=I+(R^A&(D^R))+V[15]+1236535329&4294967295,I=A+(C<<22&4294967295|C>>>10),C=R+(A^D&(I^A))+V[1]+4129170786&4294967295,R=I+(C<<5&4294967295|C>>>27),C=D+(I^A&(R^I))+V[6]+3225465664&4294967295,D=R+(C<<9&4294967295|C>>>23),C=A+(R^I&(D^R))+V[11]+643717713&4294967295,A=D+(C<<14&4294967295|C>>>18),C=I+(D^R&(A^D))+V[0]+3921069994&4294967295,I=A+(C<<20&4294967295|C>>>12),C=R+(A^D&(I^A))+V[5]+3593408605&4294967295,R=I+(C<<5&4294967295|C>>>27),C=D+(I^A&(R^I))+V[10]+38016083&4294967295,D=R+(C<<9&4294967295|C>>>23),C=A+(R^I&(D^R))+V[15]+3634488961&4294967295,A=D+(C<<14&4294967295|C>>>18),C=I+(D^R&(A^D))+V[4]+3889429448&4294967295,I=A+(C<<20&4294967295|C>>>12),C=R+(A^D&(I^A))+V[9]+568446438&4294967295,R=I+(C<<5&4294967295|C>>>27),C=D+(I^A&(R^I))+V[14]+3275163606&4294967295,D=R+(C<<9&4294967295|C>>>23),C=A+(R^I&(D^R))+V[3]+4107603335&4294967295,A=D+(C<<14&4294967295|C>>>18),C=I+(D^R&(A^D))+V[8]+1163531501&4294967295,I=A+(C<<20&4294967295|C>>>12),C=R+(A^D&(I^A))+V[13]+2850285829&4294967295,R=I+(C<<5&4294967295|C>>>27),C=D+(I^A&(R^I))+V[2]+4243563512&4294967295,D=R+(C<<9&4294967295|C>>>23),C=A+(R^I&(D^R))+V[7]+1735328473&4294967295,A=D+(C<<14&4294967295|C>>>18),C=I+(D^R&(A^D))+V[12]+2368359562&4294967295,I=A+(C<<20&4294967295|C>>>12),C=R+(I^A^D)+V[5]+4294588738&4294967295,R=I+(C<<4&4294967295|C>>>28),C=D+(R^I^A)+V[8]+2272392833&4294967295,D=R+(C<<11&4294967295|C>>>21),C=A+(D^R^I)+V[11]+1839030562&4294967295,A=D+(C<<16&4294967295|C>>>16),C=I+(A^D^R)+V[14]+4259657740&4294967295,I=A+(C<<23&4294967295|C>>>9),C=R+(I^A^D)+V[1]+2763975236&4294967295,R=I+(C<<4&4294967295|C>>>28),C=D+(R^I^A)+V[4]+1272893353&4294967295,D=R+(C<<11&4294967295|C>>>21),C=A+(D^R^I)+V[7]+4139469664&4294967295,A=D+(C<<16&4294967295|C>>>16),C=I+(A^D^R)+V[10]+3200236656&4294967295,I=A+(C<<23&4294967295|C>>>9),C=R+(I^A^D)+V[13]+681279174&4294967295,R=I+(C<<4&4294967295|C>>>28),C=D+(R^I^A)+V[0]+3936430074&4294967295,D=R+(C<<11&4294967295|C>>>21),C=A+(D^R^I)+V[3]+3572445317&4294967295,A=D+(C<<16&4294967295|C>>>16),C=I+(A^D^R)+V[6]+76029189&4294967295,I=A+(C<<23&4294967295|C>>>9),C=R+(I^A^D)+V[9]+3654602809&4294967295,R=I+(C<<4&4294967295|C>>>28),C=D+(R^I^A)+V[12]+3873151461&4294967295,D=R+(C<<11&4294967295|C>>>21),C=A+(D^R^I)+V[15]+530742520&4294967295,A=D+(C<<16&4294967295|C>>>16),C=I+(A^D^R)+V[2]+3299628645&4294967295,I=A+(C<<23&4294967295|C>>>9),C=R+(A^(I|~D))+V[0]+4096336452&4294967295,R=I+(C<<6&4294967295|C>>>26),C=D+(I^(R|~A))+V[7]+1126891415&4294967295,D=R+(C<<10&4294967295|C>>>22),C=A+(R^(D|~I))+V[14]+2878612391&4294967295,A=D+(C<<15&4294967295|C>>>17),C=I+(D^(A|~R))+V[5]+4237533241&4294967295,I=A+(C<<21&4294967295|C>>>11),C=R+(A^(I|~D))+V[12]+1700485571&4294967295,R=I+(C<<6&4294967295|C>>>26),C=D+(I^(R|~A))+V[3]+2399980690&4294967295,D=R+(C<<10&4294967295|C>>>22),C=A+(R^(D|~I))+V[10]+4293915773&4294967295,A=D+(C<<15&4294967295|C>>>17),C=I+(D^(A|~R))+V[1]+2240044497&4294967295,I=A+(C<<21&4294967295|C>>>11),C=R+(A^(I|~D))+V[8]+1873313359&4294967295,R=I+(C<<6&4294967295|C>>>26),C=D+(I^(R|~A))+V[15]+4264355552&4294967295,D=R+(C<<10&4294967295|C>>>22),C=A+(R^(D|~I))+V[6]+2734768916&4294967295,A=D+(C<<15&4294967295|C>>>17),C=I+(D^(A|~R))+V[13]+1309151649&4294967295,I=A+(C<<21&4294967295|C>>>11),C=R+(A^(I|~D))+V[4]+4149444226&4294967295,R=I+(C<<6&4294967295|C>>>26),C=D+(I^(R|~A))+V[11]+3174756917&4294967295,D=R+(C<<10&4294967295|C>>>22),C=A+(R^(D|~I))+V[2]+718787259&4294967295,A=D+(C<<15&4294967295|C>>>17),C=I+(D^(A|~R))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+A&4294967295,O.g[3]=O.g[3]+D&4294967295}s.prototype.v=function(O,R){R===void 0&&(R=O.length);const I=R-this.blockSize,V=this.C;let A=this.h,D=0;for(;D<R;){if(A==0)for(;D<=I;)o(this,O,D),D+=this.blockSize;if(typeof O=="string"){for(;D<R;)if(V[A++]=O.charCodeAt(D++),A==this.blockSize){o(this,V),A=0;break}}else for(;D<R;)if(V[A++]=O[D++],A==this.blockSize){o(this,V),A=0;break}}this.h=A,this.o+=R},s.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;R=this.o*8;for(var I=O.length-8;I<O.length;++I)O[I]=R&255,R/=256;for(this.v(O),O=Array(16),R=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)O[R++]=this.g[I]>>>V&255;return O};function u(O,R){var I=m;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=R(O)}function h(O,R){this.h=R;const I=[];let V=!0;for(let A=O.length-1;A>=0;A--){const D=O[A]|0;V&&D==R||(I[A]=D,V=!1)}this.g=I}var m={};function p(O){return-128<=O&&O<128?u(O,function(R){return new h([R|0],R<0?-1:0)}):new h([O|0],O<0?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return T;if(O<0)return z(g(-O));const R=[];let I=1;for(let V=0;O>=I;V++)R[V]=O/I|0,I*=4294967296;return new h(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return z(E(O.substring(1),R));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let V=T;for(let D=0;D<O.length;D+=8){var A=Math.min(8,O.length-D);const C=parseInt(O.substring(D,D+A),R);A<8?(A=g(Math.pow(R,A)),V=V.j(A).add(g(C))):(V=V.j(I),V=V.add(g(C)))}return V}var T=p(0),w=p(1),k=p(16777216);i=h.prototype,i.m=function(){if(Y(this))return-z(this).m();let O=0,R=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);O+=(V>=0?V:4294967296+V)*R,R*=4294967296}return O},i.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(q(this))return"0";if(Y(this))return"-"+z(this).toString(O);const R=g(Math.pow(O,6));var I=this;let V="";for(;;){const A=ce(I,R).g;I=W(I,A.j(R));let D=((I.g.length>0?I.g[0]:I.h)>>>0).toString(O);if(I=A,q(I))return D+V;for(;D.length<6;)D="0"+D;V=D+V}},i.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function q(O){if(O.h!=0)return!1;for(let R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function Y(O){return O.h==-1}i.l=function(O){return O=W(this,O),Y(O)?-1:q(O)?0:1};function z(O){const R=O.g.length,I=[];for(let V=0;V<R;V++)I[V]=~O.g[V];return new h(I,~O.h).add(w)}i.abs=function(){return Y(this)?z(this):this},i.add=function(O){const R=Math.max(this.g.length,O.g.length),I=[];let V=0;for(let A=0;A<=R;A++){let D=V+(this.i(A)&65535)+(O.i(A)&65535),C=(D>>>16)+(this.i(A)>>>16)+(O.i(A)>>>16);V=C>>>16,D&=65535,C&=65535,I[A]=C<<16|D}return new h(I,I[I.length-1]&-2147483648?-1:0)};function W(O,R){return O.add(z(R))}i.j=function(O){if(q(this)||q(O))return T;if(Y(this))return Y(O)?z(this).j(z(O)):z(z(this).j(O));if(Y(O))return z(this.j(z(O)));if(this.l(k)<0&&O.l(k)<0)return g(this.m()*O.m());const R=this.g.length+O.g.length,I=[];for(var V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let A=0;A<O.g.length;A++){const D=this.i(V)>>>16,C=this.i(V)&65535,Me=O.i(A)>>>16,qe=O.i(A)&65535;I[2*V+2*A]+=C*qe,G(I,2*V+2*A),I[2*V+2*A+1]+=D*qe,G(I,2*V+2*A+1),I[2*V+2*A+1]+=C*Me,G(I,2*V+2*A+1),I[2*V+2*A+2]+=D*Me,G(I,2*V+2*A+2)}for(O=0;O<R;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=R;O<2*R;O++)I[O]=0;return new h(I,0)};function G(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function te(O,R){this.g=O,this.h=R}function ce(O,R){if(q(R))throw Error("division by zero");if(q(O))return new te(T,T);if(Y(O))return R=ce(z(O),R),new te(z(R.g),z(R.h));if(Y(R))return R=ce(O,z(R)),new te(z(R.g),R.h);if(O.g.length>30){if(Y(O)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,V=R;V.l(O)<=0;)I=me(I),V=me(V);var A=ye(I,1),D=ye(V,1);for(V=ye(V,2),I=ye(I,2);!q(V);){var C=D.add(V);C.l(O)<=0&&(A=A.add(I),D=C),V=ye(V,1),I=ye(I,1)}return R=W(O,A.j(R)),new te(A,R)}for(A=T;O.l(R)>=0;){for(I=Math.max(1,Math.floor(O.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),D=g(I),C=D.j(R);Y(C)||C.l(O)>0;)I-=V,D=g(I),C=D.j(R);q(D)&&(D=w),A=A.add(D),O=W(O,C)}return new te(A,O)}i.B=function(O){return ce(this,O).h},i.and=function(O){const R=Math.max(this.g.length,O.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)&O.i(V);return new h(I,this.h&O.h)},i.or=function(O){const R=Math.max(this.g.length,O.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)|O.i(V);return new h(I,this.h|O.h)},i.xor=function(O){const R=Math.max(this.g.length,O.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)^O.i(V);return new h(I,this.h^O.h)};function me(O){const R=O.g.length+1,I=[];for(let V=0;V<R;V++)I[V]=O.i(V)<<1|O.i(V-1)>>>31;return new h(I,O.h)}function ye(O,R){const I=R>>5;R%=32;const V=O.g.length-I,A=[];for(let D=0;D<V;D++)A[D]=R>0?O.i(D+I)>>>R|O.i(D+I+1)<<32-R:O.i(D+I);return new h(A,O.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,$T=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,bs=h}).apply(typeof LE<"u"?LE:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var WT,Yl,JT,Sh,Zm,ZT,e1,t1;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in v))break e;v=v[U]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&v.push([b,y[b]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,U,K){for(var ae=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ae[Ce-2]=arguments[Ce];return y.prototype[U].apply(b,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function q(c,y){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const K=U.length||0;c.length=v+K;for(let ae=0;ae<K;ae++)c[v+ae]=U[ae]}else c.push(U)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(c){h.setTimeout(()=>{throw c},0)}function W(){var c=O;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class G{constructor(){this.h=this.g=null}add(y,v){const b=te.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var te=new Y(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ye=!1,O=new G,R=()=>{const c=Promise.resolve(void 0);me=()=>{c.then(I)}};function I(){for(var c;c=W();){try{c.h.call(c.g)}catch(v){z(v)}var y=te;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ye=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Me(c,y){A.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Me,A),Me.prototype.init=function(c,y){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Me.Z.h.call(this)},Me.prototype.h=function(){Me.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qe="closure_listenable_"+(Math.random()*1e6|0),X=0;function re(c,y,v,b,U){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=U,this.key=++X,this.da=this.fa=!1}function fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ve(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function Ve(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function x(c){const y={};for(const v in c)y[v]=c[v];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,y){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)c[v]=b[v];for(let K=0;K<J.length;K++)v=J[K],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,y,v,b,U){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const ae=be(c,y,b,U);return ae>-1?(y=c[ae],v||(y.fa=!1)):(y=new re(y,this.src,K,!!b,U),y.fa=v,c.push(y)),y};function _e(c,y){const v=y.type;if(v in c.g){var b=c.g[v],U=Array.prototype.indexOf.call(b,y,void 0),K;(K=U>=0)&&Array.prototype.splice.call(b,U,1),K&&(fe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function be(c,y,v,b){for(let U=0;U<c.length;++U){const K=c[U];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==b)return U}return-1}var De="closure_lm_"+(Math.random()*1e6|0),ot={};function Ge(c,y,v,b,U){if(Array.isArray(y)){for(let K=0;K<y.length;K++)Ge(c,y[K],v,b,U);return null}return v=Ti(v),c&&c[qe]?c.J(y,v,m(b)?!!b.capture:!1,U):fn(c,y,v,!1,b,U)}function fn(c,y,v,b,U,K){if(!y)throw Error("Invalid event type");const ae=m(U)?!!U.capture:!!U;let Ce=kn(c);if(Ce||(c[De]=Ce=new le(c)),v=Ce.add(y,v,b,ae,K),v.proxy)return v;if(b=ei(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)D||(U=ae),U===void 0&&(U=!1),c.addEventListener(y.toString(),b,U);else if(c.attachEvent)c.attachEvent(an(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ei(){function c(v){return y.call(c.src,c.listener,v)}const y=er;return c}function Sn(c,y,v,b,U){if(Array.isArray(y))for(var K=0;K<y.length;K++)Sn(c,y[K],v,b,U);else b=m(b)?!!b.capture:!!b,v=Ti(v),c&&c[qe]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],v=be(y,v,b,U),v>-1&&(fe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=kn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=be(y,v,b,U)),(v=c>-1?y[c]:null)&&ti(v))}function ti(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[qe])_e(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(an(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=kn(y))?(_e(v,c),v.h==0&&(v.src=null,y[De]=null)):fe(c)}}}function an(c){return c in ot?ot[c]:ot[c]="on"+c}function er(c,y){if(c.da)c=!0;else{y=new Me(y,this);const v=c.listener,b=c.ha||c.src;c.fa&&ti(c),c=v.call(b,y)}return c}function kn(c){return c=c[De],c instanceof le?c:null}var Pn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ti(c){return typeof c=="function"?c:(c[Pn]||(c[Pn]=function(y){return c.handleEvent(y)}),c[Pn])}function lt(){V.call(this),this.i=new le(this),this.M=this,this.G=null}T(lt,V),lt.prototype[qe]=!0,lt.prototype.removeEventListener=function(c,y,v,b){Sn(this,c,y,v,b)};function ft(c,y){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new A(y,c);else if(y instanceof A)y.target=y.target||c;else{var U=y;y=new A(b,c),se(y,U)}U=!0;let K,ae;if(v)for(ae=v.length-1;ae>=0;ae--)K=y.g=v[ae],U=on(K,b,!0,y)&&U;if(K=y.g=c,U=on(K,b,!0,y)&&U,U=on(K,b,!1,y)&&U,v)for(ae=0;ae<v.length;ae++)K=y.g=v[ae],U=on(K,b,!1,y)&&U}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let b=0;b<v.length;b++)fe(v[b]);delete c.g[y],c.h--}}this.G=null},lt.prototype.J=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},lt.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function on(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let K=0;K<y.length;++K){const ae=y[K];if(ae&&!ae.da&&ae.capture==v){const Ce=ae.listener,Tt=ae.ha||ae.src;ae.fa&&_e(c.i,ae),U=Ce.call(Tt,b)!==!1&&U}}return U&&!b.defaultPrevented}function Si(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function ni(c){c.g=Si(()=>{c.g=null,c.i&&(c.i=!1,ni(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class pt extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ni(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ln(c){V.call(this),this.h=c,this.g={}}T(Ln,V);var dt=[];function gt(c){ve(c.g,function(y,v){this.g.hasOwnProperty(v)&&ti(y)},c),c.g={}}Ln.prototype.N=function(){Ln.Z.N.call(this),gt(this)},Ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ut=h.JSON.stringify,Ho=h.JSON.parse,ku=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Pu(){}function Lu(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){A.call(this,"d")}T(Gt,A);function Un(){A.call(this,"c")}T(Un,A);var Et={},Uu=null;function Ra(){return Uu=Uu||new lt}Et.Ia="serverreachability";function zu(c){A.call(this,Et.Ia,c)}T(zu,A);function bi(c){const y=Ra();ft(y,new zu(y))}Et.STAT_EVENT="statevent";function Ls(c,y){A.call(this,Et.STAT_EVENT,c),this.stat=y}T(Ls,A);function Rt(c){const y=Ra();ft(y,new Ls(y,c))}Et.Ja="timingevent";function Ai(c,y){A.call(this,Et.Ja,c),this.size=y}T(Ai,A);function wi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function Sf(c,y,v,b,U,K){c.info(function(){if(c.g)if(K){var ae="",Ce=K.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var Tt=Ce[Ke].split("=");if(Tt.length>1){const ut=Tt[0];Tt=Tt[1];const qn=ut.split("_");ae=qn.length>=2&&qn[1]=="type"?ae+(ut+"="+Tt+"&"):ae+(ut+"=redacted&")}}}else ae=null;else ae=K;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+y+`
`+v+`
`+ae})}function Bu(c,y,v,b,U,K,ae){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+y+`
`+v+`
`+K+" "+ae})}function Ri(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+bf(c,v)+(b?" "+b:"")})}function Us(c,y){c.info(function(){return"TIMEOUT: "+y})}ri.prototype.info=function(){};function bf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var v=K[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ae=1;ae<b.length;ae++)b[ae]=""}}}}return Ut(K)}catch{return y}}var zs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Go;function Bs(){}T(Bs,Pu),Bs.prototype.g=function(){return new XMLHttpRequest},Go=new Bs;function tr(c){return encodeURIComponent(String(c))}function ju(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function si(c,y,v,b){this.j=c,this.i=y,this.l=v,this.S=b||1,this.V=new Ln(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Ct={},jt={};function Ci(c,y,v){c.M=1,c.A=js(Dt(y)),c.u=v,c.R=!0,Ca(c,null)}function Ca(c,y){c.F=Date.now(),Ii(c),c.B=Dt(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),Na(v.i,"t",b),c.C=0,v=c.j.L,c.h=new ai,c.g=nc(c.j,v?y:null,!c.u),c.P>0&&(c.O=new pt(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,b=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(dt[0]=U.toString()),U=dt);for(let K=0;K<U.length;K++){const ae=Ge(v,U[K],b||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),bi(),Sf(c.i,c.v,c.B,c.l,c.S,c.u)}si.prototype.ba=function(c){c=c.target;const y=this.O;y&&ui(c)==3?y.j():this.Y(c)},si.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=ui(this.g),Tt=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ce!=4||Tt==7||(Tt==8||Ke<=0?bi(3):bi(2)),Di(this);var y=this.g.ca();this.X=y;var v=Af(this);if(this.o=y==200,Bu(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var K=b;break t}}K=null}if(c=K)Ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,c);else{this.o=!1,this.m=3,Rt(12),bn(this),zn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<v.length;)if(ut=Hu(this,v),ut==jt){Ce==4&&(this.m=4,Rt(14),c=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==Ct){this.m=4,Rt(15),Ri(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else Ri(this.i,this.l,ut,null),Oi(this,ut);if(qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Rt(16),c=!1),this.o=this.o&&c,!c)Ri(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),zn(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),al(ae),ae.P=!0,Rt(11))}}else Ri(this.i,this.l,v,null),Oi(this,v);Ce==4&&bn(this),this.o&&!this.K&&(Ce==4?Ju(this.j,this):(this.o=!1,Ii(this)))}else ir(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),bn(this),zn(this)}}}catch{}finally{}};function Af(c){if(!qu(c))return c.g.la();const y=Kt(c.g);if(y==="")return"";let v="";const b=y.length,U=ui(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return bn(c),zn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<b;K++)c.h.h=!0,v+=c.h.i.decode(y[K],{stream:!(U&&K==b-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function qu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Hu(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?jt:(v=Number(y.substring(v,b)),isNaN(v)?Ct:(b+=1,b+v>y.length?jt:(y=y.slice(b,b+v),c.C=b+v,y)))}si.prototype.cancel=function(){this.K=!0,bn(this)};function Ii(c){c.T=Date.now()+c.H,Ia(c,c.H)}function Ia(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=wi(g(c.aa,c),y)}function Di(c){c.D&&(h.clearTimeout(c.D),c.D=null)}si.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Us(this.i,this.B),this.M!=2&&(bi(),Rt(17)),bn(this),this.m=2,zn(this)):Ia(this,this.T-c)};function zn(c){c.j.I==0||c.K||Ju(c.j,c)}function bn(c){Di(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,gt(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Oi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||xi(v.h,c))){if(!c.L&&xi(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Pa(v),Hr(v);else break e;Ys(v),Rt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=wi(g(v.Va,v),6e3));Ni(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ui(v,11)}else if((c.L||v.g==c)&&Pa(v),!C(y))for(U=v.Ba.g.parse(y),y=0;y<U.length;y++){let Ke=U[y];const ut=Ke[0];if(!(ut<=v.K))if(v.K=ut,Ke=Ke[1],v.I==2)if(Ke[0]=="c"){v.M=Ke[1],v.ba=Ke[2];const qn=Ke[3];qn!=null&&(v.ka=qn,v.j.info("VER="+v.ka));const zi=Ke[4];zi!=null&&(v.za=zi,v.j.info("SVER="+v.za));const ci=Ke[5];ci!=null&&typeof ci=="number"&&ci>0&&(b=1.5*ci,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const hi=c.g;if(hi){const Xs=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xs){var K=b.h;K.g||Xs.indexOf("spdy")==-1&&Xs.indexOf("quic")==-1&&Xs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Yo(K,K.h),K.h=null))}if(b.G){const La=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(b.wa=La,Xe(b.J,b.G,La))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ae=c;if(b.na=tc(b,b.L?b.ba:null,b.W),ae.L){Xo(b.h,ae);var Ce=ae,Tt=b.O;Tt&&(Ce.H=Tt),Ce.D&&(Di(Ce),Ii(Ce)),b.g=ae}else $u(b);v.i.length>0&&Li(v)}else Ke[0]!="stop"&&Ke[0]!="close"||Ui(v,7);else v.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ui(v,7):rl(v):Ke[0]!="noop"&&v.l&&v.l.qa(Ke),v.A=0)}}bi(4)}catch{}}var It=class{constructor(c,y){this.g=c,this.map=y}};function Ko(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ni(c){return c.h?1:c.g?c.g.size:0}function xi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Yo(c,y){c.g?c.g.add(y):c.h=y}function Xo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ko.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function $o(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return k(c.i)}var Fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let U,K=null;b>=0?(U=c[v].substring(0,b),K=c[v].substring(b+1)):U=c[v],y(U,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function An(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof An?(this.l=c.l,qt(this,c.j),this.o=c.o,this.g=c.g,Pr(this,c.u),this.h=c.h,Wo(this,Yu(c.i)),this.m=c.m):c&&(y=String(c).match(Fu))?(this.l=!1,qt(this,y[1]||"",!0),this.o=Mi(y[2]||""),this.g=Mi(y[3]||"",!0),Pr(this,y[4]),this.h=Mi(y[5]||"",!0),Wo(this,y[6]||"",!0),this.m=Mi(y[7]||"")):(this.l=!1,this.i=new Ur(null,this.l))}An.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(qs(y,Oa,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(qs(y,Oa,!0),"@"),c.push(tr(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(qs(v,v.charAt(0)=="/"?Jo:Gu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",qs(v,Ku)),c.join("")},An.prototype.resolve=function(c){const y=Dt(this);let v=!!c.j;v?qt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var b=c.h;if(v)Pr(y,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=y.h.lastIndexOf("/");U!=-1&&(b=y.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const K=[];for(let ae=0;ae<U.length;){const Ce=U[ae++];Ce=="."?b&&ae==U.length&&K.push(""):Ce==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),b&&ae==U.length&&K.push("")):(K.push(Ce),b=!0)}b=K.join("/")}else b=U}return v?y.h=b:v=c.i.toString()!=="",v?Wo(y,Yu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Dt(c){return new An(c)}function qt(c,y,v){c.j=v?Mi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Pr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Wo(c,y,v){y instanceof Ur?(c.i=y,xa(c.i,c.l)):(v||(y=qs(y,Lr)),c.i=new Ur(y,c.l))}function Xe(c,y,v){c.i.set(y,v)}function js(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Mi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,dn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function dn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oa=/[#\/\?@]/g,Gu=/[#\?:]/g,Jo=/[#\?]/g,Lr=/[#\?@]/g,Ku=/#/g;function Ur(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function mn(c){c.g||(c.g=new Map,c.h=0,c.i&&Da(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Ur.prototype,i.add=function(c,y){mn(this),this.i=null,c=zr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Qu(c,y){mn(c),y=zr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Zo(c,y){return mn(c),y=zr(c,y),c.g.has(y)}i.forEach=function(c,y){mn(this),this.g.forEach(function(v,b){v.forEach(function(U){c.call(y,U,b,this)},this)},this)};function el(c,y){mn(c);let v=[];if(typeof y=="string")Zo(c,y)&&(v=v.concat(c.g.get(zr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return mn(this),this.i=null,c=zr(this,c),Zo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=el(this,c),c.length>0?String(c[0]):y):y};function Na(c,y,v){Qu(c,y),v.length>0&&(c.i=null,c.g.set(zr(c,y),k(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var v=y[b];const U=tr(v);v=el(this,v);for(let K=0;K<v.length;K++){let ae=U;v[K]!==""&&(ae+="="+tr(v[K])),c.push(ae)}}return this.i=c.join("&")};function Yu(c){const y=new Ur;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function zr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function xa(c,y){y&&!c.j&&(mn(c),c.i=null,c.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(Qu(this,b),Na(this,U,v))},c)),c.j=y}function oi(c,y){const v=new ri;if(h.Image){const b=new Image;b.onload=E(Bn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=E(Bn,v,"TestLoadImage: error",!1,y,b),b.onabort=E(Bn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=E(Bn,v,"TestLoadImage: timeout",!1,y,b),h.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function tl(c,y){const v=new ri,b=new AbortController,U=setTimeout(()=>{b.abort(),Bn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(K=>{clearTimeout(U),K.ok?Bn(v,"TestPingServer: ok",!0,y):Bn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Bn(v,"TestPingServer: error",!1,y)})}function Bn(c,y,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function Br(){this.g=new ku}function Vi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Vi,Pu),Vi.prototype.g=function(){return new Hs(this.i,this.h)};function Hs(c,y){lt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Hs,lt),i=Hs.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,li(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?jr(this):li(this),this.readyState==3&&Ma(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,jr(this))},i.Na=function(c){this.g&&(this.response=c,jr(this))},i.ga=function(){this.g&&jr(this)};function jr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,li(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function li(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jn(c){let y="";return ve(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function Fs(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=jn(v),typeof c=="string"?v!=null&&tr(v):Xe(c,y,v))}function Je(c){lt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Je,lt);var ki=/^https?$/i,nl=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Go.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Gs(this,K);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())v.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),U=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(nl,y,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of v)this.g.setRequestHeader(K,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Gs(this,K)}};function Gs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,il(c),nr(c)}function il(c){c.A||(c.A=!0,ft(c,"complete"),ft(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ft(this,"complete"),ft(this,"abort"),nr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nr(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ks(this):this.Xa())},i.Xa=function(){Ks(this)};function Ks(c){if(c.h&&typeof u<"u"){if(c.v&&ui(c)==4)setTimeout(c.Ca.bind(c),0);else if(ft(c,"readystatechange"),ui(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=K===0){let ae=String(c.D).match(Fu)[1]||null;!ae&&h.self&&h.self.location&&(ae=h.self.location.protocol.slice(0,-1)),b=!ki.test(ae?ae.toLowerCase():"")}v=b}if(v)ft(c,"complete"),ft(c,"success");else{c.o=6;try{var U=ui(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",il(c)}}finally{nr(c)}}}}function nr(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||ft(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ui(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ho(y)}};function Kt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ir(c){const y={};c=(c.g&&ui(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(C(c[b]))continue;var v=ju(c[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[U]||[];y[U]=K,K.push(v)}Ve(y,function(b){return b.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function qr(c){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pi("baseRetryDelayMs",5e3,c),this.Za=Pi("retryDelaySeedMs",1e4,c),this.Ta=Pi("forwardChannelMaxRetries",2,c),this.va=Pi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ko(c&&c.concurrentRequestLimit),this.Ba=new Br,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=qr.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,b){Rt(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=tc(this,null,this.W),Li(this)};function rl(c){if(Va(c),c.I==3){var y=c.V++,v=Dt(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",y),Xe(v,"TYPE","terminate"),Qs(c,v),y=new si(c,c.j,y),y.M=2,y.A=js(Dt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=nc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ii(y)}ec(c)}function Hr(c){c.g&&(al(c),c.g.cancel(),c.g=null)}function Va(c){Hr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Pa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Li(c){if(!Qo(c.h)&&!c.m){c.m=!0;var y=c.Ea;me||R(),ye||(me(),ye=!0),O.add(y,c),c.D=0}}function ka(c,y){return Ni(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=wi(g(c.Ea,c,y),Zu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new si(this,this.j,c);let K=this.o;if(this.U&&(K?(K=x(K),se(K,this.U)):K=this.U),this.u!==null||this.R||(U.J=K,K=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Xu(this,U,y),v=Dt(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),Qs(this,v),K&&(this.R?y="headers="+tr(jn(K))+"&"+y:this.u&&Fs(v,this.u,K)),Yo(this.h,U),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",y),Xe(v,"SID","null"),U.U=!0,Ci(U,v,null)):Ci(U,v,y),this.I=2}}else this.I==3&&(c?sl(this,c):this.i.length==0||Qo(this.h)||sl(this))};function sl(c,y){var v;y?v=y.l:v=c.V++;const b=Dt(c.J);Xe(b,"SID",c.M),Xe(b,"RID",v),Xe(b,"AID",c.K),Qs(c,b),c.u&&c.o&&Fs(b,c.u,c.o),v=new si(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Xu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Yo(c.h,v),Ci(v,b,y)}function Qs(c,y){c.H&&ve(c.H,function(v,b){Xe(y,b,v)}),c.l&&ve({},function(v,b){Xe(y,b,v)})}function Xu(c,y,v){v=Math.min(c.i.length,v);const b=c.l?g(c.l.Ka,c.l,c):null;e:{var U=c.i;let Ce=-1;for(;;){const Tt=["count="+v];Ce==-1?v>0?(Ce=U[0].g,Tt.push("ofs="+Ce)):Ce=0:Tt.push("ofs="+Ce);let Ke=!0;for(let ut=0;ut<v;ut++){var K=U[ut].g;const qn=U[ut].map;if(K-=Ce,K<0)Ce=Math.max(0,U[ut].g-100),Ke=!1;else try{K="req"+K+"_"||"";try{var ae=qn instanceof Map?qn:Object.entries(qn);for(const[zi,ci]of ae){let hi=ci;m(ci)&&(hi=Ut(ci)),Tt.push(K+zi+"="+encodeURIComponent(hi))}}catch(zi){throw Tt.push(K+"type="+encodeURIComponent("_badmap")),zi}}catch{b&&b(qn)}}if(Ke){ae=Tt.join("&");break e}}ae=void 0}return c=c.i.splice(0,v),y.G=c,ae}function $u(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;me||R(),ye||(me(),ye=!0),O.add(y,c),c.A=0}}function Ys(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=wi(g(c.Da,c),Zu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=wi(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Hr(this),Wu(this))};function al(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Wu(c){c.g=new si(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Dt(c.na);Xe(y,"RID","rpc"),Xe(y,"SID",c.M),Xe(y,"AID",c.K),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(y,"TO",c.ia),Xe(y,"TYPE","xmlhttp"),Qs(c,y),c.u&&c.o&&Fs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=js(Dt(y)),v.u=null,v.R=!0,Ca(v,c)}i.Va=function(){this.C!=null&&(this.C=null,Hr(this),Ys(this),Rt(19))};function Pa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Ju(c,y){var v=null;if(c.g==y){Pa(c),al(c),c.g=null;var b=2}else if(xi(c.h,y))v=y.G,Xo(c.h,y),b=1;else return;if(c.I!=0){if(y.o)if(b==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var U=c.D;b=Ra(),ft(b,new Ai(b,v)),Li(c)}else $u(c);else if(U=y.m,U==3||U==0&&y.X>0||!(b==1&&ka(c,y)||b==2&&Ys(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),U){case 1:Ui(c,5);break;case 4:Ui(c,10);break;case 3:Ui(c,6);break;default:Ui(c,2)}}}function Zu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ui(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),b=c.Ua;const U=!b;b=new An(b||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||qt(b,"https"),js(b),U?oi(b.toString(),v):tl(b.toString(),v)}else Rt(2);c.I=0,c.l&&c.l.pa(y),ec(c),Va(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function ec(c){if(c.I=0,c.ja=[],c.l){const y=$o(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ja,y),q(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function tc(c,y,v){var b=v instanceof An?Dt(v):new An(v);if(b.g!="")y&&(b.g=y+"."+b.g),Pr(b,b.u);else{var U=h.location;b=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const K=new An(null);b&&qt(K,b),y&&(K.g=y),U&&Pr(K,U),v&&(K.h=v),b=K}return v=c.G,y=c.wa,v&&y&&Xe(b,v,y),Xe(b,"VER",c.ka),Qs(c,b),b}function nc(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Je(new Vi({ab:v})):new Je(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ic(){}i=ic.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Fr(){}Fr.prototype.g=function(c,y){return new ln(c,y)};function ln(c,y){lt.call(this),this.g=new qr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new rr(this)}T(ln,lt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){rl(this.g)},ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Ut(c),c=v);y.i.push(new It(y.Ya++,c)),y.I==3&&Li(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,ln.Z.N.call(this)};function rc(c){Gt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(rc,Gt);function sc(){Un.call(this),this.status=1}T(sc,Un);function rr(c){this.g=c}T(rr,ic),rr.prototype.ra=function(){ft(this.g,"a")},rr.prototype.qa=function(c){ft(this.g,new rc(c))},rr.prototype.pa=function(c){ft(this.g,new sc)},rr.prototype.oa=function(){ft(this.g,"b")},Fr.prototype.createWebChannel=Fr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,t1=function(){return new Fr},e1=function(){return Ra()},ZT=Et,Zm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,Sh=zs,Fo.COMPLETE="complete",JT=Fo,Lu.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",lt.prototype.listen=lt.prototype.J,Yl=Lu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,WT=Je}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const UE="@firebase/firestore",zE="4.9.2";class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let Lo="12.3.0";const va=new bp("@firebase/firestore");function mo(){return va.logLevel}function ue(i,...e){if(va.logLevel<=Le.DEBUG){const n=e.map(Vp);va.debug(`Firestore (${Lo}): ${i}`,...n)}}function Nr(i,...e){if(va.logLevel<=Le.ERROR){const n=e.map(Vp);va.error(`Firestore (${Lo}): ${i}`,...n)}}function Ao(i,...e){if(va.logLevel<=Le.WARN){const n=e.map(Vp);va.warn(`Firestore (${Lo}): ${i}`,...n)}}function Vp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Se(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,n1(i,s,n)}function n1(i,e,n){let s=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Nr(s),new Error(s)}function Ye(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||n1(e,o,s)}function Re(i,e){return i}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class i1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class XI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $I{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new wr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new wr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new i1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class WI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new WI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class BE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new BE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=eD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(i,e){return i<e?-1:i>e?1:0}function ep(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return km(o)===km(u)?Ue(o,u):km(o)?1:-1}return Ue(i.length,e.length)}const tD=55296,nD=57343;function km(i){const e=i.charCodeAt(0);return e>=tD&&e<=nD}function wo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const jE="__name__";class Fi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Fi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Fi.isNumericId(e),o=Fi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Fi.extractNumericId(e).compare(Fi.extractNumericId(n)):ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class it extends Fi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const iD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Fi{construct(e,n,s){return new Jt(e,n,s)}static isValidIdentifier(e){return iD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jE}static keyField(){return new Jt([jE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}function r1(i,e,n){if(!n)throw new oe(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function rD(i,e,n,s){if(e===!0&&s===!0)throw new oe(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function qE(i){if(!ge.isDocumentKey(i))throw new oe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function HE(i){if(ge.isDocumentKey(i))throw new oe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function s1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function nf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function cn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new oe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nf(i);throw new oe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Lt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Au(i,e){if(!s1(i))throw new oe(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(ee.INVALID_ARGUMENT,n);return!0}const FE=-62135596800,GE=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*GE);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<FE)throw new oe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Au(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-FE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Lt("string",at._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new at(0,0))}static max(){return new Ae(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const lu=-1;function sD(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new ws(o,ge.empty(),e)}function aD(i){return new ws(i.readTime,i.key,lu)}class ws{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ws(Ae.min(),ge.empty(),lu)}static max(){return new ws(Ae.max(),ge.empty(),lu)}}function oD(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Ue(i.largestBatchId,e.largestBatchId))}const lD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Uo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==lD)throw i;ue("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function cD(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(i){return i.name==="IndexedDbTransactionError"}class rf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rf.ce=-1;const Pp=-1;function sf(i){return i==null}function Lh(i){return i===0&&1/i==-1/0}function hD(i){return typeof i=="number"&&Number.isInteger(i)&&!Lh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const a1="";function fD(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=KE(e)),e=dD(i.get(n),e);return KE(e)}function dD(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case a1:n+="";break;default:n+=u}}return n}function KE(i){return i+a1+""}function QE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Vs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function o1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class mt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Wt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YE(this.data.getIterator())}getIteratorFrom(e){return new YE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class YE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new Bt(Jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class l1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new l1("Invalid base64 string: "+u):u}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const mD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const n=mD.exec(i);if(Ye(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:At(i.seconds),nanos:At(i.nanos)}}function At(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Cs(i){return typeof i=="string"?Zt.fromBase64String(i):Zt.fromUint8Array(i)}const u1="server_timestamp",c1="__type__",h1="__previous_value__",f1="__local_write_time__";function Lp(i){return(i?.mapValue?.fields||{})[c1]?.stringValue===u1}function af(i){const e=i.mapValue.fields[h1];return Lp(e)?af(e):e}function uu(i){const e=Rs(i.mapValue.fields[f1].timestampValue);return new at(e.seconds,e.nanos)}class pD{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Uh="(default)";class cu{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}const d1="__type__",gD="__max__",dh={mapValue:{}},m1="__vector__",zh="value";function Is(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Lp(i)?4:_D(i)?9007199254740991:yD(i)?10:11:Se(28295,{value:i})}function Wi(i,e){if(i===e)return!0;const n=Is(i);if(n!==Is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return uu(i).isEqual(uu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Rs(o.timestampValue),m=Rs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Cs(o.bytesValue).isEqual(Cs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return At(o.geoPointValue.latitude)===At(u.geoPointValue.latitude)&&At(o.geoPointValue.longitude)===At(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return At(o.integerValue)===At(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=At(o.doubleValue),m=At(u.doubleValue);return h===m?Lh(h)===Lh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return wo(i.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(QE(h)!==QE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Wi(h[p],m[p])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function hu(i,e){return(i.values||[]).find((n=>Wi(n,e)))!==void 0}function Ro(i,e){if(i===e)return 0;const n=Is(i),s=Is(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=At(u.integerValue||u.doubleValue),p=At(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return XE(i.timestampValue,e.timestampValue);case 4:return XE(uu(i),uu(e));case 5:return ep(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=Cs(u),p=Cs(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ue(m[g],p[g]);if(E!==0)return E}return Ue(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ue(At(u.latitude),At(h.latitude));return m!==0?m:Ue(At(u.longitude),At(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return $E(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[zh]?.arrayValue,E=p[zh]?.arrayValue,T=Ue(g?.values?.length||0,E?.values?.length||0);return T!==0?T:$E(g,E)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===dh.mapValue&&h===dh.mapValue)return 0;if(u===dh.mapValue)return 1;if(h===dh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=ep(p[T],E[T]);if(w!==0)return w;const k=Ro(m[p[T]],g[E[T]]);if(k!==0)return k}return Ue(p.length,E.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function XE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const n=Rs(i),s=Rs(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function $E(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ro(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function Co(i){return tp(i)}function tp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Rs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Cs(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ge.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=tp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${tp(n.fields[h])}`;return o+"}"})(i.mapValue):Se(61005,{value:i})}function bh(i){switch(Is(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(i);return e?16+bh(e):16;case 5:return 2*i.stringValue.length;case 6:return Cs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+bh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Vs(s.fields,((u,h)=>{o+=u.length+bh(h)})),o})(i.mapValue);default:throw Se(13486,{value:i})}}function WE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function np(i){return!!i&&"integerValue"in i}function Up(i){return!!i&&"arrayValue"in i}function JE(i){return!!i&&"nullValue"in i}function ZE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ah(i){return!!i&&"mapValue"in i}function yD(i){return(i?.mapValue?.fields||{})[d1]?.stringValue===m1}function eu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Vs(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=eu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(i.arrayValue.values[n]);return e}return{...i}}function _D(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===gD}class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=Jt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=eu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Vs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Tn(eu(this.value))}}function p1(i){const e=[];return Vs(i.fields,((n,s)=>{const o=new Jt([n]);if(Ah(s)){const u=p1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Mn(e)}class rn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new rn(e,0,Ae.min(),Ae.min(),Ae.min(),Tn.empty(),0)}static newFoundDocument(e,n,s,o){return new rn(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new rn(e,2,n,Ae.min(),Ae.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,Ae.min(),Ae.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bh{constructor(e,n){this.position=e,this.inclusive=n}}function e0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),n.key):s=Ro(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function t0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Wi(i.position[n],e.position[n]))return!1;return!0}class fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function vD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class g1{}class Pt extends g1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new TD(e,n,s):n==="array-contains"?new AD(e,s):n==="in"?new wD(e,s):n==="not-in"?new RD(e,s):n==="array-contains-any"?new CD(e,s):new Pt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new SD(e,s):new bD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ro(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends g1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vi(e,n)}matches(e){return y1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function y1(i){return i.op==="and"}function _1(i){return ED(i)&&y1(i)}function ED(i){for(const e of i.filters)if(e instanceof vi)return!1;return!0}function ip(i){if(i instanceof Pt)return i.field.canonicalString()+i.op.toString()+Co(i.value);if(_1(i))return i.filters.map((e=>ip(e))).join(",");{const e=i.filters.map((n=>ip(n))).join(",");return`${i.op}(${e})`}}function v1(i,e){return i instanceof Pt?(function(s,o){return o instanceof Pt&&s.op===o.op&&s.field.isEqual(o.field)&&Wi(s.value,o.value)})(i,e):i instanceof vi?(function(s,o){return o instanceof vi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&v1(h,o.filters[m])),!0):!1})(i,e):void Se(19439)}function E1(i){return i instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`})(i):i instanceof vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(E1).join(" ,")+"}"})(i):"Filter"}class TD extends Pt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class SD extends Pt{constructor(e,n){super(e,"in",n),this.keys=T1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class bD extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=T1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function T1(i,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class AD extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Up(n)&&hu(n.arrayValue,this.value)}}class wD extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class RD extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hu(this.value.arrayValue,n)}}class CD extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>hu(this.value.arrayValue,s)))}}class ID{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function n0(i,e=null,n=[],s=[],o=null,u=null,h=null){return new ID(i,e,n,s,o,u,h)}function zp(i){const e=Re(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ip(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Co(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Co(s))).join(",")),e.Te=n}return e.Te}function Bp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!vD(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!v1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!t0(i.startAt,e.startAt)&&t0(i.endAt,e.endAt)}function rp(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Bo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DD(i,e,n,s,o,u,h,m){return new Bo(i,e,n,s,o,u,h,m)}function of(i){return new Bo(i)}function i0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function S1(i){return i.collectionGroup!==null}function tu(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Bt(Jt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new fu(u,s))})),n.has(Jt.keyField().canonicalString())||e.Ie.push(new fu(Jt.keyField(),s))}return e.Ie}function Qi(i){const e=Re(i);return e.Ee||(e.Ee=OD(e,tu(i))),e.Ee}function OD(i,e){if(i.limitType==="F")return n0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new fu(o.field,u)}));const n=i.endAt?new Bh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Bh(i.startAt.position,i.startAt.inclusive):null;return n0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function sp(i,e){const n=i.filters.concat([e]);return new Bo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function jh(i,e,n){return new Bo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function lf(i,e){return Bp(Qi(i),Qi(e))&&i.limitType===e.limitType}function b1(i){return`${zp(Qi(i))}|lt:${i.limitType}`}function po(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>E1(o))).join(", ")}]`),sf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Co(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Co(o))).join(",")),`Target(${s})`})(Qi(i))}; limitType=${i.limitType})`}function uf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of tu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=e0(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,tu(s),o)||s.endAt&&!(function(h,m,p){const g=e0(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,tu(s),o))})(i,e)}function ND(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function A1(i){return(e,n)=>{let s=!1;for(const o of tu(i)){const u=xD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function xD(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Ro(p,g):Se(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Vs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return o1(this.inner)}size(){return this.innerSize}}const MD=new mt(ge.comparator);function xr(){return MD}const w1=new mt(ge.comparator);function Xl(...i){let e=w1;for(const n of i)e=e.insert(n.key,n);return e}function R1(i){let e=w1;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function fa(){return nu()}function C1(){return nu()}function nu(){return new ba((i=>i.toString()),((i,e)=>i.isEqual(e)))}const VD=new mt(ge.comparator),kD=new Bt(ge.comparator);function ze(...i){let e=kD;for(const n of i)e=e.add(n);return e}const PD=new Bt(Ue);function LD(){return PD}function jp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function I1(i){return{integerValue:""+i}}function UD(i,e){return hD(e)?I1(e):jp(i,e)}class cf{constructor(){this._=void 0}}function zD(i,e,n){return i instanceof du?(function(o,u){const h={fields:{[c1]:{stringValue:u1},[f1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Lp(u)&&(u=af(u)),u&&(h.fields[h1]=u),{mapValue:h}})(n,e):i instanceof Io?O1(i,e):i instanceof Do?N1(i,e):(function(o,u){const h=D1(o,u),m=r0(h)+r0(o.Ae);return np(h)&&np(o.Ae)?I1(m):jp(o.serializer,m)})(i,e)}function BD(i,e,n){return i instanceof Io?O1(i,e):i instanceof Do?N1(i,e):n}function D1(i,e){return i instanceof qh?(function(s){return np(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class du extends cf{}class Io extends cf{constructor(e){super(),this.elements=e}}function O1(i,e){const n=x1(e);for(const s of i.elements)n.some((o=>Wi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Do extends cf{constructor(e){super(),this.elements=e}}function N1(i,e){let n=x1(e);for(const s of i.elements)n=n.filter((o=>!Wi(o,s)));return{arrayValue:{values:n}}}class qh extends cf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function r0(i){return At(i.integerValue||i.doubleValue)}function x1(i){return Up(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class qp{constructor(e,n){this.field=e,this.transform=n}}function jD(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Io&&o instanceof Io||s instanceof Do&&o instanceof Do?wo(s.elements,o.elements,Wi):s instanceof qh&&o instanceof qh?Wi(s.Ae,o.Ae):s instanceof du&&o instanceof du})(i.transform,e.transform)}class qD{constructor(e,n){this.version=e,this.transformResults=n}}class hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hn}static exists(e){return new hn(void 0,e)}static updateTime(e){return new hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class hf{}function M1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new ff(i.key,hn.none()):new wu(i.key,i.data,hn.none());{const n=i.data,s=Tn.empty();let o=new Bt(Jt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ks(i.key,s,new Mn(o.toArray()),hn.none())}}function HD(i,e,n){i instanceof wu?(function(o,u,h){const m=o.value.clone(),p=a0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof ks?(function(o,u,h){if(!wh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=a0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(V1(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function iu(i,e,n,s){return i instanceof wu?(function(u,h,m,p){if(!wh(u.precondition,h))return m;const g=u.value.clone(),E=o0(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof ks?(function(u,h,m,p){if(!wh(u.precondition,h))return m;const g=o0(u.fieldTransforms,p,h),E=h.data;return E.setAll(V1(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,h,m){return wh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function FD(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=D1(s.transform,o||null);u!=null&&(n===null&&(n=Tn.empty()),n.set(s.field,u))}return n||null}function s0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&wo(s,o,((u,h)=>jD(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class wu extends hf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ks extends hf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function V1(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function a0(i,e,n){const s=new Map;Ye(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,BD(h,m,n[o]))}return s}function o0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,zD(u,h,e))}return s}class ff extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GD extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&HD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=iu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=iu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=C1();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=M1(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,((n,s)=>s0(n,s)))&&wo(this.baseMutations,e.baseMutations,((n,s)=>s0(n,s)))}}class Hp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return VD})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Hp(e,n,s,o)}}class QD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class YD{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vt,je;function XD(i){switch(i){case ee.OK:return Se(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function k1(i){if(i===void 0)return Nr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Vt.OK:return ee.OK;case Vt.CANCELLED:return ee.CANCELLED;case Vt.UNKNOWN:return ee.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ee.INTERNAL;case Vt.UNAVAILABLE:return ee.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ee.NOT_FOUND;case Vt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Vt.ABORTED:return ee.ABORTED;case Vt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Vt.DATA_LOSS:return ee.DATA_LOSS;default:return Se(39323,{code:i})}}(je=Vt||(Vt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function $D(){return new TextEncoder}const WD=new bs([4294967295,4294967295],0);function l0(i){const e=$D().encode(i),n=new $T;return n.update(e),new Uint8Array(n.digest())}function u0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new bs([n,s],0),new bs([o,u],0)]}class Fp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(s<0)throw new $l(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=bs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(bs.fromNumber(s)));return o.compare(WD)===1&&(o=new bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=l0(e),[s,o]=u0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Fp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=l0(e),[s,o]=u0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class df{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new df(Ae.min(),o,new mt(Ue),xr(),ze())}}class Ru{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ru(s,n,ze(),ze(),ze())}}class Rh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class P1{constructor(e,n){this.targetId=e,this.Ce=n}}class L1{constructor(e,n,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class c0{constructor(){this.ve=0,this.Fe=h0(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}})),new Ru(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=h0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JD{constructor(e){this.Ge=e,this.ze=new Map,this.je=xr(),this.Je=mh(),this.He=mh(),this.Ye=new mt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(rp(u))if(s===0){const h=new ge(u.path);this.et(n,h,rn.newNoDocument(h,Ae.min()))}else Ye(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Cs(s).toUint8Array()}catch(p){if(p instanceof l1)return Ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Fp(h,o,u)}catch(p){return Ao(p instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&rp(m.target)){const p=new ge(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,rn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=ze();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new df(e,n,this.Ye,this.je,s);return this.je=xr(),this.Je=mh(),this.He=mh(),this.Ye=new mt(Ue),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new c0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new c0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mh(){return new mt(ge.comparator)}function h0(){return new mt(ge.comparator)}const ZD={asc:"ASCENDING",desc:"DESCENDING"},eO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tO={and:"AND",or:"OR"};class nO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ap(i,e){return i.useProto3Json||sf(e)?e:{value:e}}function Hh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function iO(i,e){return Hh(i,e.toTimestamp())}function Yi(i){return Ye(!!i,49232),Ae.fromTimestamp((function(n){const s=Rs(n);return new at(s.seconds,s.nanos)})(i))}function Gp(i,e){return op(i,e).canonicalString()}function op(i,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function z1(i){const e=it.fromString(i);return Ye(F1(e),10190,{key:e.toString()}),e}function lp(i,e){return Gp(i.databaseId,e.path)}function Pm(i,e){const n=z1(e);if(n.get(1)!==i.databaseId.projectId)throw new oe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new oe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(j1(n))}function B1(i,e){return Gp(i.databaseId,e)}function rO(i){const e=z1(i);return e.length===4?it.emptyPath():j1(e)}function up(i){return new it(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function j1(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function f0(i,e,n){return{name:lp(i,e),fields:n.value.mapValue.fields}}function sO(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ye(E===void 0||typeof E=="string",58123),Zt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Zt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?ee.UNKNOWN:k1(g.code);return new oe(E,g.message||"")})(h);n=new L1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pm(i,s.document.name),u=Yi(s.document.updateTime),h=s.document.createTime?Yi(s.document.createTime):Ae.min(),m=new Tn({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Rh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pm(i,s.document),u=s.readTime?Yi(s.readTime):Ae.min(),h=rn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Rh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pm(i,s.document),u=s.removedTargetIds||[];n=new Rh([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new YD(o,u),m=s.targetId;n=new P1(m,h)}}return n}function aO(i,e){let n;if(e instanceof wu)n={update:f0(i,e.key,e.value)};else if(e instanceof ff)n={delete:lp(i,e.key)};else if(e instanceof ks)n={update:f0(i,e.key,e.data),updateMask:pO(e.fieldMask)};else{if(!(e instanceof GD))return Se(16599,{Vt:e.type});n={verify:lp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof du)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Io)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Do)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof qh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:iO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(i,e.precondition)),n}function oO(i,e){return i&&i.length>0?(Ye(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Yi(o.updateTime):Yi(u);return h.isEqual(Ae.min())&&(h=Yi(u)),new qD(h,o.transformResults||[])})(n,e)))):[]}function lO(i,e){return{documents:[B1(i,e.path)]}}function uO(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=B1(i,o);const u=(function(g){if(g.length!==0)return H1(vi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:go(w.field),direction:fO(w.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=ap(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function cO(i){let e=rO(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=q1(T);return w instanceof vi&&_1(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((w=>(function(q){return new fu(yo(q.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,sf(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,k=T.values||[];return new Bh(k,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,k=T.values||[];return new Bh(k,w)})(n.endAt)),DD(e,o,h,u,m,"F",p,g)}function hO(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function q1(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=yo(n.unaryFilter.field);return Pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(n.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(n.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=yo(n.unaryFilter.field);return Pt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Pt.create(yo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return vi.create(n.compositeFilter.filters.map((s=>q1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(i):Se(30097,{filter:i})}function fO(i){return ZD[i]}function dO(i){return eO[i]}function mO(i){return tO[i]}function go(i){return{fieldPath:i.canonicalString()}}function yo(i){return Jt.fromServerFormat(i.fieldPath)}function H1(i){return i instanceof Pt?(function(n){if(n.op==="=="){if(ZE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(JE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(JE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:dO(n.op),value:n.value}}})(i):i instanceof vi?(function(n){const s=n.getFilters().map((o=>H1(o)));return s.length===1?s[0]:{compositeFilter:{op:mO(n.op),filters:s}}})(i):Se(54877,{filter:i})}function pO(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function F1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class _s{constructor(e,n,s,o,u=Ae.min(),h=Ae.min(),m=Zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gO{constructor(e){this.yt=e}}function yO(i){const e=cO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?jh(e,e.limit,"L"):e}class _O{constructor(){this.Cn=new vO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ws.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ws.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class vO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Bt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Bt(it.comparator)).toArray()}}const d0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G1=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(G1,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class Oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Oo(0)}static cr(){return new Oo(-1)}}const m0="LruGarbageCollector",EO=1048576;function p0([i,e],[n,s]){const o=Ue(i,n);return o===0?Ue(e,s):o}class TO{constructor(e){this.Ir=e,this.buffer=new Bt(p0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();p0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(m0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?ue(m0,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Vr(3e5)}))}}class bO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(rf.ce);const s=new TO(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(d0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),mo()<=Le.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function AO(i,e){return new bO(i,e)}class wO{constructor(){this.changes=new ba((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class CO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&iu(s.mutation,o,Mn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const o=fa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Xl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=fa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=xr();const h=nu(),m=(function(){return nu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ks)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),iu(E.mutation,g,E.mutation.getFieldMask(),at.now())):h.set(g.key,Mn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new RO(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=nu();let o=new mt(((h,m)=>h-m)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Mn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||ze()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=C1();E.forEach((w=>{if(!u.has(w)){const k=M1(n.get(w),s.get(w));k!==null&&T.set(w,k),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ie.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):S1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(fa());let m=lu,p=u;return h.next((g=>ie.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ze()))).next((E=>({batchId:m,changes:R1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Xl();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(T,w){return new Bo(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,w)=>{h=h.insert(T,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,rn.newInvalidDocument(E)))}));let m=Xl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&iu(E.mutation,g,Mn.empty(),at.now()),uf(n,g)&&(m=m.insert(p,g))})),m}))}}class IO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Yi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:yO(o.bundledQuery),readTime:Yi(o.readTime)}})(n)),ie.resolve()}}class DO{constructor(){this.overlays=new mt(ge.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=fa();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=fa(),u=n.length+1,h=new ge(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new mt(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=fa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=fa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new QD(n,s));let u=this.qr.get(n);u===void 0&&(u=ze(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class OO{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Kp{constructor(){this.Qr=new Bt(Ft.$r),this.Ur=new Bt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ft(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ft(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new it([])),s=new Ft(n,e),o=new Ft(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new it([])),s=new Ft(n,e),o=new Ft(n,e+1);let u=ze();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Ft(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}class NO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Ft.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new KD(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Ft(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Pp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ft(n,0),o=new Ft(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Bt(Ue);return n.forEach((o=>{const u=new Ft(o,0),h=new Ft(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Ft(new ge(u),0);let m=new Bt(Ue);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new Ft(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ft(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class xO{constructor(e){this.ri=e,this.docs=(function(){return new mt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let s=xr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=xr();const h=n.path,m=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||oD(aD(E),s)<=0||(o.has(E.key)||uf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new MO(this)}getSize(e){return ie.resolve(this.size)}}class MO extends wO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class VO{constructor(e){this.persistence=e,this.si=new ba((n=>zp(n)),Bp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Kp,this.targetCount=0,this.ai=Oo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Oo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class K1{constructor(e,n){this.ui={},this.overlays={},this.ci=new rf(0),this.li=!1,this.li=!0,this.hi=new OO,this.referenceDelegate=e(this),this.Pi=new VO(this),this.indexManager=new _O,this.remoteDocumentCache=(function(o){return new xO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new gO(n),this.Ii=new IO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new NO(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new kO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class kO extends uD{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Ri=new Kp,this.Vi=null}static mi(e){return new Qp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Fh{constructor(e,n){this.persistence=e,this.pi=new ba((s=>fD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=AO(this,n)}static mi(e,n){return new Fh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Yp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Yp(e,n.fromCache,s,o)}}class PO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class LO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return dR()?8:cD(sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new PO;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(mo()<=Le.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(mo()<=Le.DEBUG&&ue("QueryEngine","Query:",po(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(mo()<=Le.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(n))):ie.resolve())}ys(e,n){if(i0(n))return ie.resolve(null);let s=Qi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=jh(n,null,"F"),s=Qi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=ze(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,jh(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return i0(n)||o.isEqual(Ae.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ie.resolve(null):(mo()<=Le.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(n)),this.vs(e,h,n,sD(o,lu)).next((m=>m)))}))}Ds(e,n){let s=new Bt(A1(e));return n.forEach(((o,u)=>{uf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return mo()<=Le.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",po(n)),this.ps.getDocumentsMatchingQuery(e,n,ws.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Xp="LocalStore",UO=3e8;class zO{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new mt(Ue),this.xs=new ba((u=>zp(u)),Bp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function BO(i,e,n,s){return new zO(i,e,n,s)}async function Q1(i,e){const n=Re(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=ze();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function jO(i,e){const n=Re(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,w=T.keys();let k=ie.resolve();return w.forEach((q=>{k=k.next((()=>E.getEntry(p,q))).next((Y=>{const z=g.docVersions.get(q);Ye(z!==null,48541),Y.version.compareTo(z)<0&&(T.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ze();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Y1(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function qO(i,e){const n=Re(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let k=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Zt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function(Y,z,W){return Y.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=UO?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(w,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let p=xr(),g=ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(HO(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function HO(i,e,n){let s=ze(),o=ze();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=xr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ue(Xp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function FO(i,e){const n=Re(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function GO(i,e){const n=Re(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new _s(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function cp(i,e,n){const s=Re(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!zo(h))throw h;ue(Xp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function g0(i,e,n){const s=Re(i);let o=Ae.min(),u=ze();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=Re(p),w=T.xs.get(E);return w!==void 0?ie.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,E)})(s,h,Qi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Ae.min(),n?u:ze()))).next((m=>(KO(s,ND(e),m),{documents:m,Qs:u})))))}function KO(i,e,n){let s=i.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class y0{constructor(){this.activeTargetIds=LD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QO{constructor(){this.Mo=new y0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new y0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YO{Oo(e){}shutdown(){}}const _0="ConnectivityMonitor";class v0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(_0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(_0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ph=null;function hp(){return ph===null?ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():ph++,"0x"+ph.toString(16)}const Lm="RestConnection",XO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $O{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Uh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=hp(),m=this.zo(e,n.toUriEncodedString());ue(Lm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Vo(g);return this.Jo(e,m,p,s,E).then((T=>(ue(Lm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Ao(Lm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=XO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class WO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const tn="WebChannelConnection";class JO extends $O{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=hp();return new Promise(((m,p)=>{const g=new WT;g.setWithCredentials(!0),g.listenOnce(JT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Sh.NO_ERROR:const T=g.getResponseJson();ue(tn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Sh.TIMEOUT:ue(tn,`RPC '${e}' ${h} timed out`),p(new oe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const w=g.getStatus();if(ue(tn,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const q=k?.error;if(q&&q.status&&q.message){const Y=(function(W){const G=W.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(G)>=0?G:ee.UNKNOWN})(q.status);p(new oe(Y,q.message))}else p(new oe(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(ee.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(tn,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);ue(tn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=hp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=t1(),m=e1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(tn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let w=!1,k=!1;const q=new WO({Yo:z=>{k?ue(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(w||(ue(tn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ue(tn,`RPC '${e}' stream ${o} sending:`,z),T.send(z))},Zo:()=>T.close()}),Y=(z,W,G)=>{z.listen(W,(te=>{try{G(te)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return Y(T,Yl.EventType.OPEN,(()=>{k||(ue(tn,`RPC '${e}' stream ${o} transport opened.`),q.o_())})),Y(T,Yl.EventType.CLOSE,(()=>{k||(k=!0,ue(tn,`RPC '${e}' stream ${o} transport closed`),q.a_(),this.E_(T))})),Y(T,Yl.EventType.ERROR,(z=>{k||(k=!0,Ao(tn,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),q.a_(new oe(ee.UNAVAILABLE,"The operation could not be completed")))})),Y(T,Yl.EventType.MESSAGE,(z=>{if(!k){const W=z.data[0];Ye(!!W,16349);const G=W,te=G?.error||G[0]?.error;if(te){ue(tn,`RPC '${e}' stream ${o} received error:`,te);const ce=te.status;let me=(function(R){const I=Vt[R];if(I!==void 0)return k1(I)})(ce),ye=te.message;me===void 0&&(me=ee.INTERNAL,ye="Unknown error status: "+ce+" with message "+te.message),k=!0,q.a_(new oe(me,ye)),T.close()}else ue(tn,`RPC '${e}' stream ${o} received:`,W),q.u_(W)}})),Y(m,ZT.STAT_EVENT,(z=>{z.stat===Zm.PROXY?ue(tn,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Zm.NOPROXY&&ue(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Um(){return typeof document<"u"?document:null}function mf(i){return new nO(i,!0)}class X1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const E0="PersistentStream";class $1{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new X1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(E0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(E0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZO extends $1{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sO(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Yi(h.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=up(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=rp(p)?{documents:lO(u,p)}:{query:uO(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=U1(u,h.resumeToken);const g=ap(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Hh(u,h.snapshotVersion.toTimestamp());const g=ap(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=hO(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=up(this.serializer),n.removeTarget=e,this.q_(n)}}class eN extends $1{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=oO(e.writeResults,e.commitTime),s=Yi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=up(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>aO(this.serializer,s)))};this.q_(n)}}class tN{}class nN extends tN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,op(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,op(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ea="RemoteStore";class rN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Aa(this)&&(ue(Ea,"Restarting streams for network reachability change."),await(async function(p){const g=Re(p);g.Ea.add(4),await Cu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await pf(g)})(this))}))})),this.Ra=new iN(s,o)}}async function pf(i){if(Aa(i))for(const e of i.da)await e(!0)}async function Cu(i){for(const e of i.da)await e(!1)}function W1(i,e){const n=Re(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zp(n)?Jp(n):jo(n).O_()&&Wp(n,e))}function $p(i,e){const n=Re(i),s=jo(n);n.Ia.delete(e),s.O_()&&J1(n,e),n.Ia.size===0&&(s.O_()?s.L_():Aa(n)&&n.Ra.set("Unknown"))}function Wp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jo(i).Y_(e)}function J1(i,e){i.Va.Ue(e),jo(i).Z_(e)}function Jp(i){i.Va=new JD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),jo(i).start(),i.Ra.ua()}function Zp(i){return Aa(i)&&!jo(i).x_()&&i.Ia.size>0}function Aa(i){return Re(i).Ea.size===0}function Z1(i){i.Va=void 0}async function sN(i){i.Ra.set("Online")}async function aN(i){i.Ia.forEach(((e,n)=>{Wp(i,e)}))}async function oN(i,e){Z1(i),Zp(i)?(i.Ra.ha(e),Jp(i)):i.Ra.set("Unknown")}async function lN(i,e,n){if(i.Ra.set("Online"),e instanceof L1&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ue(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Gh(i,s)}else if(e instanceof Rh?i.Va.Ze(e):e instanceof P1?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await Y1(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Zt.EMPTY_BYTE_STRING,E.snapshotVersion)),J1(u,p);const T=new _s(E.target,p,g,E.sequenceNumber);Wp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ue(Ea,"Failed to raise snapshot:",s),await Gh(i,s)}}async function Gh(i,e,n){if(!zo(e))throw e;i.Ea.add(1),await Cu(i),i.Ra.set("Offline"),n||(n=()=>Y1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(Ea,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await pf(i)}))}function eS(i,e){return e().catch((n=>Gh(i,n,e)))}async function gf(i){const e=Re(i),n=Ds(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pp;for(;uN(e);)try{const o=await FO(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,cN(e,o)}catch(o){await Gh(e,o)}tS(e)&&nS(e)}function uN(i){return Aa(i)&&i.Ta.length<10}function cN(i,e){i.Ta.push(e);const n=Ds(i);n.O_()&&n.X_&&n.ea(e.mutations)}function tS(i){return Aa(i)&&!Ds(i).x_()&&i.Ta.length>0}function nS(i){Ds(i).start()}async function hN(i){Ds(i).ra()}async function fN(i){const e=Ds(i);for(const n of i.Ta)e.ea(n.mutations)}async function dN(i,e,n){const s=i.Ta.shift(),o=Hp.from(s,e,n);await eS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await gf(i)}async function mN(i,e){e&&Ds(i).X_&&await(async function(s,o){if((function(h){return XD(h)&&h!==ee.ABORTED})(o.code)){const u=s.Ta.shift();Ds(s).B_(),await eS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await gf(s)}})(i,e),tS(i)&&nS(i)}async function T0(i,e){const n=Re(i);n.asyncQueue.verifyOperationInProgress(),ue(Ea,"RemoteStore received new credentials");const s=Aa(n);n.Ea.add(3),await Cu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pf(n)}async function pN(i,e){const n=Re(i);e?(n.Ea.delete(2),await pf(n)):e||(n.Ea.add(2),await Cu(n),n.Ra.set("Unknown"))}function jo(i){return i.ma||(i.ma=(function(n,s,o){const u=Re(n);return u.sa(),new ZO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:sN.bind(null,i),t_:aN.bind(null,i),r_:oN.bind(null,i),H_:lN.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Zp(i)?Jp(i):i.Ra.set("Unknown")):(await i.ma.stop(),Z1(i))}))),i.ma}function Ds(i){return i.fa||(i.fa=(function(n,s,o){const u=Re(n);return u.sa(),new eN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:hN.bind(null,i),r_:mN.bind(null,i),ta:fN.bind(null,i),na:dN.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await gf(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(Ea,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class eg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new eg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(i,e){if(Nr("AsyncQueue",`${e}: ${i}`),zo(i))return new oe(ee.UNAVAILABLE,`${e}: ${i}`);throw i}class So{static emptySet(e){return new So(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Xl(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new So;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class S0{constructor(){this.ga=new mt(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class No{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new No(e,n,So.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class gN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yN{constructor(){this.queries=b0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=b0(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe(ee.ABORTED,"Firestore shutting down"))}}function b0(){return new ba((i=>b1(i)),lf)}async function ng(i,e){const n=Re(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new gN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=tg(h,`Initialization of query '${po(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&rg(n)}async function ig(i,e){const n=Re(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function _N(i,e){const n=Re(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&rg(n)}function vN(i,e,n){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function rg(i){i.Ca.forEach((e=>{e.next()}))}var fp,A0;(A0=fp||(fp={})).Ma="default",A0.Cache="cache";class sg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new No(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fp.Cache}}class iS{constructor(e){this.key=e}}class rS{constructor(e){this.key=e}}class EN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=A1(e),this.tu=new So(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new S0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),k=uf(this.query,T)?T:null,q=!!w&&this.mutatedKeys.has(w.key),Y=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let z=!1;w&&k?w.data.isEqual(k.data)?q!==Y&&(s.track({type:3,doc:k}),z=!0):this.su(w,k)||(s.track({type:2,doc:k}),z=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(m=!0)):!w&&k?(s.track({type:0,doc:k}),z=!0):w&&!k&&(s.track({type:1,doc:w}),z=!0,(p||g)&&(m=!0)),z&&(k?(h=h.add(k),u=Y?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(k,q){const Y=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:z})}};return Y(k)-Y(q)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new No(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new S0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new rS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new iS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class TN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class SN{constructor(e){this.key=e,this.hu=!1}}class bN{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ba((m=>b1(m)),lf),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ge.comparator),this.Au=new Map,this.Ru=new Kp,this.Vu={},this.mu=new Map,this.fu=Oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AN(i,e,n=!0){const s=cS(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await sS(s,e,n,!0),o}async function wN(i,e){const n=cS(i);await sS(n,e,!0,!1)}async function sS(i,e,n,s){const o=await GO(i.localStore,Qi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await RN(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&W1(i.remoteStore,o),m}async function RN(i,e,n,s,o){i.pu=(T,w,k)=>(async function(Y,z,W,G){let te=z.view.ru(W);te.Cs&&(te=await g0(Y.localStore,z.query,!1).then((({documents:O})=>z.view.ru(O,te))));const ce=G&&G.targetChanges.get(z.targetId),me=G&&G.targetMismatches.get(z.targetId)!=null,ye=z.view.applyChanges(te,Y.isPrimaryClient,ce,me);return R0(Y,z.targetId,ye.au),ye.snapshot})(i,T,w,k);const u=await g0(i.localStore,e,!0),h=new EN(e,u.Qs),m=h.ru(u.documents),p=Ru.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);R0(i,n,g.au);const E=new TN(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function CN(i,e,n){const s=Re(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!lf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await cp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&$p(s.remoteStore,o.targetId),dp(s,o.targetId)})).catch(Uo)):(dp(s,o.targetId),await cp(s.localStore,o.targetId,!0))}async function IN(i,e){const n=Re(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),$p(n.remoteStore,s.targetId))}async function DN(i,e,n){const s=PN(i);try{const o=await(function(h,m){const p=Re(h),g=at.now(),E=m.reduce(((k,q)=>k.add(q.key)),ze());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let q=xr(),Y=ze();return p.Ns.getEntries(k,E).next((z=>{q=z,q.forEach(((W,G)=>{G.isValidDocument()||(Y=Y.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,q))).next((z=>{T=z;const W=[];for(const G of m){const te=FD(G,T.get(G.key).overlayedDocument);te!=null&&W.push(new ks(G.key,te,p1(te.value.mapValue),hn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,W,m)})).next((z=>{w=z;const W=z.applyToLocalDocumentSet(T,Y);return p.documentOverlayCache.saveOverlays(k,z.batchId,W)}))})).then((()=>({batchId:w.batchId,changes:R1(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new mt(Ue)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Iu(s,o.changes),await gf(s.remoteStore)}catch(o){const u=tg(o,"Failed to persist write");n.reject(u)}}async function aS(i,e){const n=Re(i);try{const s=await qO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ye(h.hu,14607):o.removedDocuments.size>0&&(Ye(h.hu,42227),h.hu=!1))})),await Iu(n,s,e)}catch(s){await Uo(s)}}function w0(i,e,n){const s=Re(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Re(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&rg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ON(i,e,n){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new mt(ge.comparator);h=h.insert(u,rn.newNoDocument(u,Ae.min()));const m=ze().add(u),p=new df(Ae.min(),new Map,new mt(Ue),h,m);await aS(s,p),s.du=s.du.remove(u),s.Au.delete(e),og(s)}else await cp(s.localStore,e,!1).then((()=>dp(s,e,n))).catch(Uo)}async function NN(i,e){const n=Re(i),s=e.batch.batchId;try{const o=await jO(n.localStore,e);lS(n,s,null),oS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Iu(n,o)}catch(o){await Uo(o)}}async function xN(i,e,n){const s=Re(i);try{const o=await(function(h,m){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ye(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);lS(s,e,n),oS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Iu(s,o)}catch(o){await Uo(o)}}function oS(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function lS(i,e,n){const s=Re(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function dp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||uS(i,s)}))}function uS(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&($p(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),og(i))}function R0(i,e,n){for(const s of n)s instanceof iS?(i.Ru.addReference(s.key,e),MN(i,s)):s instanceof rS?(ue(ag,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||uS(i,s.key)):Se(19791,{wu:s})}function MN(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ue(ag,"New document in limbo: "+n),i.Eu.add(s),og(i))}function og(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ge(it.fromString(e)),s=i.fu.next();i.Au.set(s,new SN(n)),i.du=i.du.insert(n,s),W1(i.remoteStore,new _s(Qi(of(n.path)),s,"TargetPurposeLimboResolution",rf.ce))}}async function Iu(i,e,n){const s=Re(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Yp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(g,(w=>ie.forEach(w.Es,(k=>E.persistence.referenceDelegate.addReference(T,w.targetId,k))).next((()=>ie.forEach(w.ds,(k=>E.persistence.referenceDelegate.removeReference(T,w.targetId,k)))))))))}catch(T){if(!zo(T))throw T;ue(Xp,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const k=E.Ms.get(w),q=k.snapshotVersion,Y=k.withLastLimboFreeSnapshotVersion(q);E.Ms=E.Ms.insert(w,Y)}}})(s.localStore,u))}async function VN(i,e){const n=Re(i);if(!n.currentUser.isEqual(e)){ue(ag,"User change. New user:",e.toKey());const s=await Q1(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(ee.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Iu(n,s.Ls)}}function kN(i,e){const n=Re(i),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let o=ze();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function cS(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=aS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ON.bind(null,e),e.Pu.H_=_N.bind(null,e.eventManager),e.Pu.yu=vN.bind(null,e.eventManager),e}function PN(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xN.bind(null,e),e}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BO(this.persistence,new LO,e.initialUser,this.serializer)}Cu(e){return new K1(Qp.mi,this.serializer)}Du(e){return new QO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class LN extends Kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new SO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new K1((s=>Fh.mi(s,n)),this.serializer)}}class mp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>w0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=VN.bind(null,this.syncEngine),await pN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yN})()}createDatastore(e){const n=mf(e.databaseInfo.databaseId),s=(function(u){return new JO(u)})(e.databaseInfo);return(function(u,h,m,p){return new nN(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new rN(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>w0(this.syncEngine,n,0)),(function(){return v0.v()?new v0:new YO})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new bN(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);ue(Ea,"RemoteStore shutting down."),s.Ea.add(5),await Cu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mp.provider={build:()=>new mp};class lg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Os="FirestoreClient";class UN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ue(Os,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ue(Os,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=tg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function zm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(Os,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Q1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function C0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await zN(i);ue(Os,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>T0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>T0(e.remoteStore,o))),i._onlineComponents=e}async function zN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(Os,"Using user provided OfflineComponentProvider");try{await zm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await zm(i,new Kh)}}else ue(Os,"Using default OfflineComponentProvider"),await zm(i,new LN(void 0));return i._offlineComponents}async function hS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(Os,"Using user provided OnlineComponentProvider"),await C0(i,i._uninitializedComponentsProvider._online)):(ue(Os,"Using default OnlineComponentProvider"),await C0(i,new mp))),i._onlineComponents}function BN(i){return hS(i).then((e=>e.syncEngine))}async function Qh(i){const e=await hS(i),n=e.eventManager;return n.onListen=AN.bind(null,e.syncEngine),n.onUnlisten=CN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=IN.bind(null,e.syncEngine),n}function jN(i,e,n={}){const s=new wr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new lg({next:w=>{E.Nu(),h.enqueueAndForget((()=>ig(u,T)));const k=w.docs.has(m);!k&&w.fromCache?g.reject(new oe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&p&&p.source==="server"?g.reject(new oe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new sg(of(m.path),E,{includeMetadataChanges:!0,qa:!0});return ng(u,T)})(await Qh(i),i.asyncQueue,e,n,s))),s.promise}function qN(i,e,n={}){const s=new wr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new lg({next:w=>{E.Nu(),h.enqueueAndForget((()=>ig(u,T))),w.fromCache&&p.source==="server"?g.reject(new oe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new sg(m,E,{includeMetadataChanges:!0,qa:!0});return ng(u,T)})(await Qh(i),i.asyncQueue,e,n,s))),s.promise}function fS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const I0=new Map;const dS="firestore.googleapis.com",D0=!0;class O0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dS,this.ssl=D0}else this.host=e.host,this.ssl=e.ssl??D0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=G1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EO)throw new oe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new YI;switch(s.type){case"firstParty":return new JI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=I0.get(n);s&&(ue("ComponentProvider","Removing Datastore"),I0.delete(n),s.terminate())})(this),Promise.resolve()}}function HN(i,e,n,s={}){i=cn(i,yf);const o=Vo(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(lT(`https://${m}`),uT("Firestore",!0)),u.host!==dS&&u.host!==m&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Ir(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=nn.MOCK_USER;else{g=rR(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new oe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new nn(T)}i._authCredentials=new XI(new i1(g,E))}}class kr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new kr(this.firestore,e,this._query)}}class vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Au(n,vt._jsonSchema))return new vt(e,s||null,new ge(it.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Lt("string",vt._jsonSchemaVersion),referencePath:Lt("string")};class As extends kr{constructor(e,n,s){super(e,n,of(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ge(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function Mr(i,e,...n){if(i=wt(i),r1("collection","path",e),i instanceof yf){const s=it.fromString(e,...n);return HE(s),new As(i,null,s)}{if(!(i instanceof vt||i instanceof As))throw new oe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...n));return HE(s),new As(i.firestore,null,s)}}function gi(i,e,...n){if(i=wt(i),arguments.length===1&&(e=kp.newId()),r1("doc","path",e),i instanceof yf){const s=it.fromString(e,...n);return qE(s),new vt(i,null,new ge(s))}{if(!(i instanceof vt||i instanceof As))throw new oe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...n));return qE(s),new vt(i.firestore,i instanceof As?i.converter:null,new ge(s))}}const N0="AsyncQueue";class x0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new X1(this,"async_queue_retry"),this._c=()=>{const s=Um();s&&ue(N0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zo(e))throw e;ue(N0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Nr("INTERNAL UNHANDLED ERROR: ",M0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=eg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:M0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function M0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function V0(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Ji extends yf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new x0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new x0(e),this._firestoreClient=void 0,await e}}}function FN(i,e){const n=typeof i=="object"?i:dT(),s=typeof i=="string"?i:Uh,o=wp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=nR("firestore");u&&HN(o,...u)}return o}function Du(i){if(i._terminated)throw new oe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||GN(i),i._firestoreClient}function GN(i){const e=i._freezeSettings(),n=(function(o,u,h,m){return new pD(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,fS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new UN(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(Zt.fromBase64String(e))}catch(n){throw new oe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Au(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Lt("string",Jn._jsonSchemaVersion),bytes:Lt("string")};class Ou{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qo{constructor(e){this._methodName=e}}class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(Au(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Lt("string",Xi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class $i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Au(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $i(e.vectorValues);throw new oe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Lt("string",$i._jsonSchemaVersion),vectorValues:Lt("object")};const KN=/^__.*__$/;class QN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}class mS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class _f{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _f({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Yh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(pS(this.Ac)&&KN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||mf(e)}Cc(e,n,s,o=!1){return new _f({Ac:e,methodName:n,Dc:s,path:Jt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nu(i){const e=i._freezeSettings(),n=mf(i._databaseId);return new YN(i._databaseId,!!e.ignoreUndefinedProperties,n)}function ug(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);dg("Data must be an object, but it was:",h,s);const m=vS(s,h);let p,g;if(u.merge)p=new Mn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=pp(e,T,n);if(!h.contains(w))throw new oe(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);TS(E,w)||E.push(w)}p=new Mn(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new QN(new Tn(m),p,g)}class xu extends qo{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xu}}function gS(i,e,n){return new _f({Ac:3,Dc:e.settings.Dc,methodName:i._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cg extends qo{_toFieldTransform(e){return new qp(e.path,new du)}isEqual(e){return e instanceof cg}}class hg extends qo{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=gS(this,e,!0),s=this.vc.map((u=>wa(u,n))),o=new Io(s);return new qp(e.path,o)}isEqual(e){return e instanceof hg&&Ir(this.vc,e.vc)}}class fg extends qo{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=gS(this,e,!0),s=this.vc.map((u=>wa(u,n))),o=new Do(s);return new qp(e.path,o)}isEqual(e){return e instanceof fg&&Ir(this.vc,e.vc)}}function yS(i,e,n,s){const o=i.Cc(1,e,n);dg("Data must be an object, but it was:",o,s);const u=[],h=Tn.empty();Vs(s,((p,g)=>{const E=mg(e,p,n);g=wt(g);const T=o.yc(E);if(g instanceof xu)u.push(E);else{const w=wa(g,T);w!=null&&(u.push(E),h.set(E,w))}}));const m=new Mn(u);return new mS(h,m,o.fieldTransforms)}function _S(i,e,n,s,o,u){const h=i.Cc(1,e,n),m=[pp(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(pp(e,u[w])),p.push(u[w+1]);const g=[],E=Tn.empty();for(let w=m.length-1;w>=0;--w)if(!TS(g,m[w])){const k=m[w];let q=p[w];q=wt(q);const Y=h.yc(k);if(q instanceof xu)g.push(k);else{const z=wa(q,Y);z!=null&&(g.push(k),E.set(k,z))}}const T=new Mn(g);return new mS(E,T,h.fieldTransforms)}function XN(i,e,n,s=!1){return wa(n,i.Cc(s?4:3,e))}function wa(i,e){if(ES(i=wt(i)))return dg("Unsupported field value:",e,i),vS(i,e);if(i instanceof qo)return(function(s,o){if(!pS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=wa(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return UD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:Hh(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hh(o.serializer,u)}}if(s instanceof Xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jn)return{bytesValue:U1(o.serializer,s._byteString)};if(s instanceof vt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof $i)return(function(h,m){return{mapValue:{fields:{[d1]:{stringValue:m1},[zh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return jp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${nf(s)}`)})(i,e)}function vS(i,e){const n={};return o1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vs(i,((s,o)=>{const u=wa(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function ES(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof Xi||i instanceof Jn||i instanceof vt||i instanceof qo||i instanceof $i)}function dg(i,e,n){if(!ES(n)||!s1(n)){const s=nf(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function pp(i,e,n){if((e=wt(e))instanceof Ou)return e._internalPath;if(typeof e=="string")return mg(i,e);throw Yh("Field path arguments must be of type string or ",i,!1,void 0,n)}const $N=new RegExp("[~\\*/\\[\\]]");function mg(i,e,n){if(e.search($N)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Ou(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Yh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(ee.INVALID_ARGUMENT,m+i+p)}function TS(i,e){return i.some((n=>n.isEqual(e)))}class SS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WN extends SS{data(){return super.data()}}function vf(i,e){return typeof e=="string"?mg(i,e):e instanceof Ou?e._internalPath:e._delegate._internalPath}function bS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new oe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pg{}class gg extends pg{}function yg(i,e,...n){let s=[];e instanceof pg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof _g)).length,m=u.filter((p=>p instanceof Ef)).length;if(h>1||h>0&&m>0)throw new oe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Ef extends gg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ef(e,n,s)}_apply(e){const n=this._parse(e);return wS(e._query,n),new kr(e.firestore,e.converter,sp(e._query,n))}_parse(e){const n=Nu(e.firestore);return(function(u,h,m,p,g,E,T){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){P0(T,E);const q=[];for(const Y of T)q.push(k0(p,u,Y));w={arrayValue:{values:q}}}else w=k0(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||P0(T,E),w=XN(m,h,T,E==="in"||E==="not-in");return Pt.create(g,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function AS(i,e,n){const s=e,o=vf("where",i);return Ef._create(o,s,n)}class _g extends pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _g(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)wS(h,p),h=sp(h,p)})(e._query,n),new kr(e.firestore,e.converter,sp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vg extends gg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new vg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new oe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(u,h)})(e._query,this._field,this._direction);return new kr(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Bo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function JN(i,e="asc"){const n=e,s=vf("orderBy",i);return vg._create(s,n)}class Eg extends gg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Eg(e,n,s)}_apply(e){return new kr(e.firestore,e.converter,jh(e._query,this._limit,this._limitType))}}function ZN(i){return Eg._create("limit",i,"F")}function k0(i,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new oe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S1(e)&&n.indexOf("/")!==-1)throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ge.isDocumentKey(s))throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return WE(i,new ge(s))}if(n instanceof vt)return WE(i,n._key);throw new oe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function P0(i,e){if(!Array.isArray(i)||i.length===0)throw new oe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wS(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ex{convertValue(e,n="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Vs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[zh].arrayValue?.values?.map((s=>At(s.doubleValue)));return new $i(n)}convertGeoPoint(e){return new Xi(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=af(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=Rs(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ye(F1(s),9688,{name:e});const o=new cu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||Nr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Tg(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class Wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends SS{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(vf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:Lt("string",da._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Ch extends da{data(e={}){return super.data(e)}}class ma{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ch(this._firestore,this._userDataWriter,s.key,s,new Wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:tx(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}function Mu(i){i=cn(i,vt);const e=cn(i.firestore,Ji);return jN(Du(e),i._key).then((n=>IS(e,i,n)))}ma._jsonSchemaVersion="firestore/querySnapshot/1.0",ma._jsonSchema={type:Lt("string",ma._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Sg extends ex{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function RS(i){i=cn(i,kr);const e=cn(i.firestore,Ji),n=Du(e),s=new Sg(e);return bS(i._query),qN(n,i._query).then((o=>new ma(e,s,i,o)))}function mu(i,e,n){i=cn(i,vt);const s=cn(i.firestore,Ji),o=Tg(i.converter,e,n);return Vu(s,[ug(Nu(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,hn.none())])}function vs(i,e,n,...s){i=cn(i,vt);const o=cn(i.firestore,Ji),u=Nu(o);let h;return h=typeof(e=wt(e))=="string"||e instanceof Ou?_S(u,"updateDoc",i._key,e,n,s):yS(u,"updateDoc",i._key,e),Vu(o,[h.toMutation(i._key,hn.exists(!0))])}function nx(i){return Vu(cn(i.firestore,Ji),[new ff(i._key,hn.none())])}function CS(i,e){const n=cn(i.firestore,Ji),s=gi(i),o=Tg(i.converter,e);return Vu(n,[ug(Nu(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,hn.exists(!1))]).then((()=>s))}function pu(i,...e){i=wt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||V0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(V0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(i instanceof vt)h=cn(i.firestore,Ji),m=of(i._key.path),u={next:p=>{e[s]&&e[s](IS(h,i,p))},error:e[s+1],complete:e[s+2]};else{const p=cn(i,kr);h=cn(p.firestore,Ji),m=p._query;const g=new Sg(h);u={next:E=>{e[s]&&e[s](new ma(h,g,p,E))},error:e[s+1],complete:e[s+2]},bS(i._query)}return(function(g,E,T,w){const k=new lg(w),q=new sg(E,k,T);return g.asyncQueue.enqueueAndForget((async()=>ng(await Qh(g),q))),()=>{k.Nu(),g.asyncQueue.enqueueAndForget((async()=>ig(await Qh(g),q)))}})(Du(h),m,o,u)}function Vu(i,e){return(function(s,o){const u=new wr;return s.asyncQueue.enqueueAndForget((async()=>DN(await BN(s),o,u))),u.promise})(Du(i),e)}function IS(i,e,n){const s=n.docs.get(e._key),o=new Sg(i);return new da(i,o,e._key,s,new Wl(n.hasPendingWrites,n.fromCache),e.converter)}class ix{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Nu(e)}set(e,n,s){this._verifyNotCommitted();const o=Bm(e,this._firestore),u=Tg(o.converter,n,s),h=ug(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,hn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Bm(e,this._firestore);let h;return h=typeof(n=wt(n))=="string"||n instanceof Ou?_S(this._dataReader,"WriteBatch.update",u._key,n,s,o):yS(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Bm(e,this._firestore);return this._mutations=this._mutations.concat(new ff(n._key,hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bm(i,e){if((i=wt(i)).firestore!==e)throw new oe(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function rx(){return new xu("deleteField")}function DS(){return new cg("serverTimestamp")}function OS(...i){return new hg("arrayUnion",i)}function NS(...i){return new fg("arrayRemove",i)}function sx(i){return Du(i=cn(i,Ji)),new ix(i,(e=>Vu(i,e)))}(function(e,n=!0){(function(o){Lo=o})(ko),bo(new ga("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ji(new $I(s.getProvider("auth-internal")),new ZI(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ss(UE,zE,e),Ss(UE,zE,"esm2020")})();const ax={apiKey:"AIzaSyDO6KvC0B8IyNJXInBXmGde9oYM3Ybm1DU",authDomain:"react-firebase-role.firebaseapp.com",projectId:"react-firebase-role",storageBucket:"react-firebase-role.firebasestorage.app",messagingSenderId:"363204886046",appId:"1:363204886046:web:c62086bf5fa7b947caf80f",measurementId:"G-JZ54NP3E5B"},xS=fT(ax),Tf=KI(xS),kt=FN(xS),MS=i=>gi(kt,"users",i);async function ox(i,e={}){const n=MS(i);(await Mu(n)).exists()||await mu(n,{role:"user",createdAt:DS(),...e})}async function lx(i){const e=await Mu(MS(i));return e.exists()?e.data().role:null}const VS=H.createContext(null);function ux(i){const e=Zn.c(9),{children:n}=i,[s,o]=H.useState(null),[u,h]=H.useState(null),[m,p]=H.useState(!0);let g,E;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{const G=VC(Tf,async te=>{if(o(te),te){const ce=await lx(te.uid);h(ce||"user")}else h(null);p(!1)});return()=>G()},E=[],e[0]=g,e[1]=E):(g=e[0],E=e[1]),H.useEffect(g,E);const T=fx,w=hx,k=cx;let q;e[2]!==s||e[3]!==m||e[4]!==u?(q={currentUser:s,role:u,login:T,register:w,logout:k,loading:m},e[2]=s,e[3]=m,e[4]=u,e[5]=q):q=e[5];const Y=q,z=!m&&n;let W;return e[6]!==z||e[7]!==Y?(W=L.jsx(VS.Provider,{value:Y,children:z}),e[6]=z,e[7]=Y,e[8]=W):W=e[8],W}function cx(){return kC(Tf)}async function hx(i,e){const n=await OC(Tf,i,e);return await ox(n.user.uid,{email:i,role:"user"}),n}function fx(i,e){return NC(Tf,i,e)}const Ps=()=>H.useContext(VS);function dx(){const i=Zn.c(28),{currentUser:e,role:n,logout:s}=Ps();let o;i[0]===Symbol.for("react.memo_cache_sentinel")?(o={textDecoration:"none",color:"#6366f1",fontWeight:500,padding:"8px 16px",borderRadius:8,transition:"background 0.2s, color 0.2s",fontSize:16,letterSpacing:.5,marginRight:2,display:"inline-block"},i[0]=o):o=i[0];const u=o,h=vx,m=_x;let p;i[1]===Symbol.for("react.memo_cache_sentinel")?(p={padding:"8px 16px",borderRadius:8,border:"none",background:"#ef4444",color:"#fff",fontWeight:500,fontSize:16,cursor:"pointer",transition:"background 0.2s",marginLeft:6},i[1]=p):p=i[1];const g=p;let E;i[2]===Symbol.for("react.memo_cache_sentinel")?(E={display:"flex",alignItems:"center",gap:10,padding:"12px 28px",borderBottom:"1px solid #e0e7ff",background:"linear-gradient(90deg,#e0e7ff 0%,#f3f4f6 100%)",boxShadow:"0 2px 12px rgba(99,102,241,0.06)",fontFamily:"Segoe UI, Arial, sans-serif"},i[2]=E):E=i[2];let T;i[3]!==e?(T=e&&L.jsx(pi,{to:"/dashboard",style:u,onMouseOver:h,onMouseOut:m,children:"Dashboard"}),i[3]=e,i[4]=T):T=i[4];let w;i[5]!==e?(w=e&&L.jsx(pi,{to:"/chat",style:u,onMouseOver:h,onMouseOut:m,children:"Phng Chat"}),i[5]=e,i[6]=w):w=i[6];let k;i[7]!==n?(k=n!=="uservip"&&L.jsx(pi,{to:"https://thehoang21.github.io/ntp-luong/",style:u,target:"_blank",rel:"noopener noreferrer",onMouseOver:h,onMouseOut:m,children:"Tnh lng"}),i[7]=n,i[8]=k):k=i[8];let q;i[9]!==e?(q=e&&L.jsx(pi,{to:"https://thehoang21.github.io/grammar-check/",style:u,target:"_blank",rel:"noopener noreferrer",onMouseOver:h,onMouseOut:m,children:"Kim tra ng php"}),i[9]=e,i[10]=q):q=i[10];let Y;i[11]!==n?(Y=n==="admin"&&L.jsxs(L.Fragment,{children:[L.jsx(pi,{to:"/admin",style:u,onMouseOver:h,onMouseOut:m,children:"Admin"}),L.jsx(pi,{to:"/roles",style:u,onMouseOver:h,onMouseOut:m,children:"Roles"})]}),i[11]=n,i[12]=Y):Y=i[12];let z;i[13]!==n?(z=n==="quality"&&L.jsx(pi,{to:"/quality",style:u,onMouseOver:h,onMouseOut:m,children:"Quality"}),i[13]=n,i[14]=z):z=i[14];let W;i[15]===Symbol.for("react.memo_cache_sentinel")?(W={marginLeft:"auto",display:"flex",alignItems:"center"},i[15]=W):W=i[15];let G;i[16]!==e||i[17]!==s||i[18]!==n?(G=L.jsx("div",{style:W,children:e?L.jsxs(L.Fragment,{children:[L.jsxs("span",{style:{marginRight:12,color:"#374151",fontWeight:500,fontSize:15,padding:"6px 10px",background:"#e0e7ff",borderRadius:8},children:[e.email," ",L.jsxs("span",{style:{color:"#6366f1"},children:["(",n,")"]})]}),L.jsx("button",{style:g,onMouseOver:px,onMouseOut:mx,onClick:s,children:"ng xut"})]}):L.jsx(pi,{to:"/login",style:{...u,background:"#6366f1",color:"#fff"},onMouseOver:yx,onMouseOut:gx,children:"ng nhp"})}),i[16]=e,i[17]=s,i[18]=n,i[19]=G):G=i[19];let te;return i[20]!==G||i[21]!==T||i[22]!==w||i[23]!==k||i[24]!==q||i[25]!==Y||i[26]!==z?(te=L.jsxs("nav",{style:E,children:[T,w,k,q,Y,z,G]}),i[20]=G,i[21]=T,i[22]=w,i[23]=k,i[24]=q,i[25]=Y,i[26]=z,i[27]=te):te=i[27],te}function mx(i){return i.target.style.background="#ef4444"}function px(i){return i.target.style.background="#dc2626"}function gx(i){i.target.style.background="#6366f1",i.target.style.color="#fff"}function yx(i){i.target.style.background="#818cf8",i.target.style.color="#fff"}function _x(i){i.target.style.background="none",i.target.style.color="#6366f1"}function vx(i){i.target.style.background="#6366f1",i.target.style.color="#fff"}function Ex(){const i=Zn.c(39),{currentUser:e,login:n,register:s}=Ps(),[o,u]=H.useState(!1),[h,m]=H.useState(""),[p,g]=H.useState(""),[E,T]=H.useState("");if(e){let ve;return i[0]===Symbol.for("react.memo_cache_sentinel")?(ve=L.jsx(pa,{to:"/dashboard",replace:!0}),i[0]=ve):ve=i[0],ve}let w;i[1]!==h||i[2]!==o||i[3]!==n||i[4]!==p||i[5]!==s?(w=async ve=>{ve.preventDefault(),T("");try{o?await s(h,p):await n(h,p)}catch(Ve){T(Ve.message)}},i[1]=h,i[2]=o,i[3]=n,i[4]=p,i[5]=s,i[6]=w):w=i[6];const k=w;let q,Y;i[7]===Symbol.for("react.memo_cache_sentinel")?(q={maxWidth:380,margin:"60px auto",padding:"32px 28px",background:"linear-gradient(135deg, #e0e7ff 0%, #f3f4f6 100%)",borderRadius:18,boxShadow:"0 4px 24px rgba(0,0,0,0.12)",border:"1px solid #e5e7eb"},Y={textAlign:"center",marginBottom:24,fontWeight:700,color:"#374151",letterSpacing:1},i[7]=q,i[8]=Y):(q=i[7],Y=i[8]);const z=o?"ng k ti khon":"ng nhp";let W;i[9]!==z?(W=L.jsx("h2",{style:Y,children:z}),i[9]=z,i[10]=W):W=i[10];let G;i[11]===Symbol.for("react.memo_cache_sentinel")?(G={display:"grid",gap:18},i[11]=G):G=i[11];let te,ce;i[12]===Symbol.for("react.memo_cache_sentinel")?(te=ve=>m(ve.target.value),ce={padding:"12px 14px",borderRadius:10,border:"1px solid #c7d2fe",outline:"none",fontSize:16,background:"#fff",boxShadow:"0 2px 8px rgba(99,102,241,0.04)",transition:"border 0.2s"},i[12]=te,i[13]=ce):(te=i[12],ce=i[13]);let me;i[14]!==h?(me=L.jsx("input",{placeholder:"Email",value:h,onChange:te,style:ce,onFocus:Dx,onBlur:Ix}),i[14]=h,i[15]=me):me=i[15];let ye,O;i[16]===Symbol.for("react.memo_cache_sentinel")?(O=ve=>g(ve.target.value),ye={padding:"12px 14px",borderRadius:10,border:"1px solid #c7d2fe",outline:"none",fontSize:16,background:"#fff",boxShadow:"0 2px 8px rgba(99,102,241,0.04)",transition:"border 0.2s"},i[16]=ye,i[17]=O):(ye=i[16],O=i[17]);let R;i[18]!==p?(R=L.jsx("input",{placeholder:"Mt khu",type:"password",value:p,onChange:O,style:ye,onFocus:Cx,onBlur:Rx}),i[18]=p,i[19]=R):R=i[19];let I;i[20]!==E?(I=E&&L.jsx("div",{style:{color:"#ef4444",background:"#fee2e2",borderRadius:8,padding:"8px 12px",fontSize:15,marginTop:-6,textAlign:"center",border:"1px solid #fecaca"},children:E}),i[20]=E,i[21]=I):I=i[21];let V;i[22]===Symbol.for("react.memo_cache_sentinel")?(V={padding:"12px 0",borderRadius:10,border:"none",background:"linear-gradient(90deg,#6366f1 0%,#818cf8 100%)",color:"#fff",fontWeight:600,fontSize:16,cursor:"pointer",boxShadow:"0 2px 8px rgba(99,102,241,0.09)",transition:"background 0.2s"},i[22]=V):V=i[22];const A=o?"To ti khon":"ng nhp";let D;i[23]!==A?(D=L.jsx("button",{type:"submit",style:V,onMouseOver:wx,onMouseOut:Ax,children:A}),i[23]=A,i[24]=D):D=i[24];let C;i[25]!==k||i[26]!==R||i[27]!==I||i[28]!==D||i[29]!==me?(C=L.jsxs("form",{onSubmit:k,style:G,children:[me,R,I,D]}),i[25]=k,i[26]=R,i[27]=I,i[28]=D,i[29]=me,i[30]=C):C=i[30];let Me;i[31]===Symbol.for("react.memo_cache_sentinel")?(Me={marginTop:20,width:"100%",padding:"10px 0",borderRadius:8,border:"none",background:"#e0e7ff",color:"#6366f1",fontWeight:500,fontSize:15,cursor:"pointer",transition:"background 0.2s, color 0.2s"},i[31]=Me):Me=i[31];let qe;i[32]===Symbol.for("react.memo_cache_sentinel")?(qe=()=>u(Tx),i[32]=qe):qe=i[32];const X=o?" c ti khon? ng nhp":"Cha c ti khon? ng k";let re;i[33]!==X?(re=L.jsx("button",{style:Me,onMouseOver:bx,onMouseOut:Sx,onClick:qe,children:X}),i[33]=X,i[34]=re):re=i[34];let fe;return i[35]!==C||i[36]!==re||i[37]!==W?(fe=L.jsxs("div",{style:q,children:[W,C,re]}),i[35]=C,i[36]=re,i[37]=W,i[38]=fe):fe=i[38],fe}function Tx(i){return!i}function Sx(i){i.target.style.background="#e0e7ff",i.target.style.color="#6366f1"}function bx(i){i.target.style.background="#6366f1",i.target.style.color="#fff"}function Ax(i){return i.target.style.background="linear-gradient(90deg,#6366f1 0%,#818cf8 100%)"}function wx(i){return i.target.style.background="linear-gradient(90deg,#818cf8 0%,#6366f1 100%)"}function Rx(i){return i.target.style.border="1px solid #c7d2fe"}function Cx(i){return i.target.style.border="1.5px solid #6366f1"}function Ix(i){return i.target.style.border="1px solid #c7d2fe"}function Dx(i){return i.target.style.border="1.5px solid #6366f1"}function Ox(){const i=Zn.c(10),{currentUser:e,role:n}=Ps();if(n==="uservip"){let s;i[0]===Symbol.for("react.memo_cache_sentinel")?(s={padding:24},i[0]=s):s=i[0];const o=e?.email;let u;i[1]!==o?(u=L.jsxs("h2",{children:["Chao xn: ",o]}),i[1]=o,i[2]=u):u=i[2];let h;i[3]!==n?(h=L.jsxs("p",{children:["Vai tr hin ti: ",L.jsx("b",{children:n})]}),i[3]=n,i[4]=h):h=i[4];let m;i[5]===Symbol.for("react.memo_cache_sentinel")?(m=L.jsx("a",{href:"http://localhost:5173/react-firebase-role/#/christmas",rel:"noopener noreferrer",style:{textDecoration:"none"},children:L.jsx("button",{style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"12px 32px",fontSize:"16px",fontWeight:"600",borderRadius:"8px",cursor:"pointer",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.3s ease",display:"inline-block"},onMouseOver:xx,onMouseOut:Nx,children:"Click  xem"})}),i[5]=m):m=i[5];let p;return i[6]!==u||i[7]!==h?(p=L.jsxs("div",{style:s,children:[u,h,m]}),i[6]=u,i[7]=h,i[8]=p):p=i[8],p}else{let s;return i[9]===Symbol.for("react.memo_cache_sentinel")?(s=L.jsxs("div",{style:{padding:24},children:[L.jsx("h2",{children:"Dashboard"}),L.jsx("p",{children:"Cho mng bn n vi th gii ca ti."})]}),i[9]=s):s=i[9],s}}function Nx(i){i.target.style.backgroundColor="#007bff",i.target.style.transform="translateY(0)",i.target.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)"}function xx(i){i.target.style.backgroundColor="#0056b3",i.target.style.transform="translateY(-3px)",i.target.style.boxShadow="0 8px 16px rgba(0, 0, 0, 0.2)"}function Mx(){const{role:i,currentUser:e}=Ps(),[n,s]=H.useState([]),[o,u]=H.useState({uid:"",email:"",role:"user"}),[h,m]=H.useState(!1),[p,g]=H.useState(""),[E,T]=H.useState(["admin","user","quality","uservip"]);if(i!=="admin")return L.jsx(pa,{to:"/dashboard",replace:!0});H.useEffect(()=>{const A=Mr(kt,"users"),D=pu(A,C=>{const Me=C.docs.map(qe=>({id:qe.id,...qe.data()}));s(Me)},C=>g(C.message));return()=>D()},[]),H.useEffect(()=>{const A=gi(kt,"settings","roles"),D=pu(A,async C=>{if(!C.exists())await mu(A,{roles:["admin","user","quality"]},{merge:!0}),T(["admin","user","quality"]);else{const Me=C.data()||{},qe=Array.isArray(Me.roles)?Me.roles:[];qe.length&&T(qe)}},C=>g(C.message));return()=>D()},[]);const w=H.useMemo(()=>n.filter(A=>A.role==="admin").length,[n]),k=A=>n.find(C=>C.id===A)?.role==="admin"&&w<=1,q=A=>e?.uid===A,Y=async(A,D)=>{try{if(g(""),q(A)&&D!=="admin"){g("Bn khng th t h cp chnh mnh.");return}if(k(A)&&D!=="admin"){g("Khng th h cp admin cui cng. Vui lng to thm admin khc trc.");return}m(!0),await vs(gi(kt,"users",A),{role:D})}catch(C){g(C.message)}finally{m(!1)}},z=async A=>{if(confirm("Xa trng 'role' khi ngi dng ny?"))try{if(g(""),q(A)){g("Bn khng th xa role ca chnh mnh.");return}if(k(A)){g("Khng th xo role ca admin cui cng.");return}m(!0),await vs(gi(kt,"users",A),{role:rx()})}catch(D){g(D.message)}finally{m(!1)}},W=async A=>{try{if(g(""),q(A)){g("Bn khng th t h cp chnh mnh.");return}if(k(A)){g("Khng th h cp admin cui cng. Vui lng to thm admin khc trc.");return}m(!0),await vs(gi(kt,"users",A),{role:"user"})}catch(D){g(D.message)}finally{m(!1)}},G=async(A,D)=>{try{m(!0),await vs(gi(kt,"users",A),{email:D})}catch(C){g(C.message)}finally{m(!1)}},te=async A=>{const D=n.find(C=>C.id===A);if(confirm("Xa document ngi dng ny? Thao tc khng th hon tc."))try{if(g(""),q(A)){g("Bn khng th xa chnh mnh.");return}if(D?.role==="admin"&&w<=1){g("Khng th xo document ca admin cui cng.");return}m(!0),await nx(gi(kt,"users",A))}catch(C){g(C.message)}finally{m(!1)}},ce=async A=>{A.preventDefault(),g("");try{m(!0);const D=o.uid.trim();D?await mu(gi(kt,"users",D),{email:o.email||"",role:o.role||"user"},{merge:!0}):await CS(Mr(kt,"users"),{email:o.email||"",role:o.role||"user"}),u({uid:"",email:"",role:"user"})}catch(D){g(D.message)}finally{m(!1)}},me={border:"1px solid #e0e7ff",background:"#fff",borderRadius:12,boxShadow:"0 2px 12px rgba(99,102,241,0.07)",padding:16,marginBottom:8,transition:"box-shadow 0.2s"},ye={padding:"10px 14px",borderRadius:8,border:"1px solid #c7d2fe",fontSize:15,outline:"none",background:"#f3f4f6",marginBottom:2,transition:"border 0.2s"},O={...ye,padding:"10px 12px",cursor:"pointer",background:"#eef2ff"},R={padding:"8px 16px",borderRadius:8,border:"none",background:"#6366f1",color:"#fff",fontWeight:500,fontSize:15,cursor:"pointer",transition:"background 0.2s",boxShadow:"0 2px 6px rgba(99,102,241,0.09)"},I={...R,background:"#ef4444",color:"#fff",marginLeft:4},V={...R,background:"#818cf8",color:"#fff",marginLeft:4};return L.jsxs("div",{style:{maxWidth:820,margin:"32px auto",padding:"32px 24px",background:"linear-gradient(135deg,#e0e7ff 0%,#f3f4f6 100%)",borderRadius:22,boxShadow:"0 6px 32px rgba(99,102,241,0.08)",fontFamily:"Segoe UI, Arial, sans-serif"},children:[L.jsx("h2",{style:{textAlign:"center",color:"#6366f1",fontWeight:700,marginBottom:18},children:"Khu vc Admin"}),p&&L.jsx("div",{style:{color:p.startsWith("i")?"#22c55e":"#ef4444",background:p.startsWith("i")?"#dcfce7":"#fee2e2",border:`1px solid ${p.startsWith("i")?"#bbf7d0":"#fecaca"}`,borderRadius:8,padding:"10px 14px",fontSize:15,marginBottom:16,textAlign:"center"},children:p}),L.jsxs("section",{style:{margin:"32px 0 28px 0"},children:[L.jsx("h3",{style:{color:"#374151",fontWeight:600,marginBottom:10},children:"Thm/Sa document ngi dng"}),L.jsxs("form",{onSubmit:ce,style:{display:"grid",gap:12,maxWidth:520},children:[L.jsx("input",{style:ye,placeholder:"UID (nu ngi dng  ng k Auth).  trng nu mun to ID t sinh.",value:o.uid,onChange:A=>u(D=>({...D,uid:A.target.value})),onFocus:A=>A.target.style.border="1.5px solid #6366f1",onBlur:A=>A.target.style.border="1px solid #c7d2fe"}),L.jsx("input",{style:ye,placeholder:"Email (tu chn)",value:o.email,onChange:A=>u(D=>({...D,email:A.target.value})),onFocus:A=>A.target.style.border="1.5px solid #6366f1",onBlur:A=>A.target.style.border="1px solid #c7d2fe"}),L.jsx("select",{style:O,value:o.role,onChange:A=>u(D=>({...D,role:A.target.value})),children:E.map(A=>L.jsx("option",{value:A,children:A},A))}),L.jsx("button",{type:"submit",disabled:h,style:R,onMouseOver:A=>A.target.style.background="#818cf8",onMouseOut:A=>A.target.style.background="#6366f1",children:"Thm/Sa doc"})]}),L.jsxs("small",{style:{color:"#64748b",marginTop:8,display:"block"},children:[" Vic ny ",L.jsx("b",{children:"khng to ti khon ng nhp"}),". Ngi dng cn ",L.jsx("b",{children:"t ng k"}),"  c UID tht."]})]}),L.jsxs("section",{children:[L.jsxs("h3",{style:{color:"#374151",fontWeight:600,marginBottom:10},children:["Danh sch ngi dng (",L.jsx("code",{children:"users"}),")"]}),L.jsxs("div",{style:{display:"grid",gap:18},children:[n.map(A=>L.jsxs("div",{style:me,onMouseOver:D=>D.currentTarget.style.boxShadow="0 4px 18px rgba(99,102,241,0.12)",onMouseOut:D=>D.currentTarget.style.boxShadow="0 2px 12px rgba(99,102,241,0.07)",children:[L.jsxs("div",{style:{display:"grid",gap:8},children:[L.jsxs("label",{style:{color:"#6366f1",fontWeight:500},children:["Doc ID (uid): ",L.jsx("span",{style:{color:"#374151"},children:A.id})]}),L.jsxs("label",{style:{color:"#374151"},children:["Email:",L.jsx("input",{style:{...ye,width:240,display:"inline-block"},value:A.email||"",onChange:D=>G(A.id,D.target.value),disabled:h,onFocus:D=>D.target.style.border="1.5px solid #6366f1",onBlur:D=>D.target.style.border="1px solid #c7d2fe"})]}),L.jsxs("label",{style:{color:"#374151"},children:["Role:",L.jsx("select",{style:{...O,minWidth:120,display:"inline-block"},value:A.role||"user",onChange:D=>Y(A.id,D.target.value),disabled:h,children:E.map(D=>L.jsx("option",{value:D,children:D},D))})]})]}),L.jsxs("div",{style:{marginTop:12,display:"flex",gap:8,flexWrap:"wrap"},children:[L.jsx("button",{style:V,onMouseOver:D=>D.target.style.background="#6366f1",onMouseOut:D=>D.target.style.background="#818cf8",onClick:()=>W(A.id),disabled:h||q(A.id),children:"Reset role  user"}),L.jsx("button",{style:R,onMouseOver:D=>D.target.style.background="#818cf8",onMouseOut:D=>D.target.style.background="#6366f1",onClick:()=>z(A.id),disabled:h||q(A.id),children:"Xa role (delete field)"}),L.jsx("button",{style:I,onMouseOver:D=>D.target.style.background="#b91c1c",onMouseOut:D=>D.target.style.background="#ef4444",onClick:()=>te(A.id),disabled:h||q(A.id),children:"Xa doc"})]})]},A.id)),n.length===0&&L.jsx("i",{style:{color:"#64748b",fontSize:15},children:"Cha c ngi dng no."})]})]})]})}function Vx(){const i=Zn.c(1);let e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=L.jsxs("div",{style:{padding:24},children:[L.jsx("h2",{children:"404 - Khng tm thy trang"}),L.jsx(pi,{to:"/",children:"V trang ch"})]}),i[0]=e):e=i[0],e}function L0(i){const e=Zn.c(1),{children:n}=i,{currentUser:s}=Ps();if(!s){let o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=L.jsx(pa,{to:"/login",replace:!0}),e[0]=o):o=e[0],o}return n}function jm(i){const e=Zn.c(2),{roles:n,children:s}=i,o=n===void 0?[]:n,{currentUser:u,role:h}=Ps();if(!u){let m;return e[0]===Symbol.for("react.memo_cache_sentinel")?(m=L.jsx(pa,{to:"/login",replace:!0}),e[0]=m):m=e[0],m}if(!o.includes(h)){let m;return e[1]===Symbol.for("react.memo_cache_sentinel")?(m=L.jsx(pa,{to:"/dashboard",replace:!0}),e[1]=m):m=e[1],m}return s}const Rr=gi(kt,"settings","roles");async function kx(){const i=await Mu(Rr);if(!i.exists())return await mu(Rr,{roles:["admin","user","quality"]}),["admin","user","quality"];const e=i.data()||{},n=Array.isArray(e.roles)?e.roles:[];return n.length?n:["admin","user","quality"]}async function Px(i){const e=(i||"").trim();if(!e)throw new Error("Tn role khng c rng.");if(e.toLowerCase()==="admin")throw new Error("Khng th to role 'admin'.");const n=await Mu(Rr);if((n.exists()?n.data().roles||[]:[]).includes(e))throw new Error("Role  tn ti.");return await vs(Rr,{roles:OS(e)}).catch(async()=>{await mu(Rr,{roles:[e]},{merge:!0})}),e}async function Lx(i,e){const n=(i||"").trim(),s=(e||"").trim();if(!n||!s)throw new Error("Tn role khng hp l.");if(n===s)return{updated:0};if(n==="admin")throw new Error("Khng th i tn role 'admin'.");if(s==="admin")throw new Error("Khng th i tn thnh 'admin'.");const o=await Mu(Rr),u=o.exists()?o.data().roles||[]:[];if(!u.includes(n))throw new Error("Role c khng tn ti.");if(u.includes(s))throw new Error("Role mi  tn ti.");const h=Mr(kt,"users"),m=yg(h,AS("role","==",n)),g=(await RS(m)).docs,E=450;for(let T=0;T<g.length;T+=E){const w=sx(kt);g.slice(T,T+E).forEach(k=>w.update(k.ref,{role:s})),await w.commit()}return await vs(Rr,{roles:OS(s)}),await vs(Rr,{roles:NS(n)}),{updated:g.length}}async function Ux(i){const e=(i||"").trim();if(!e)throw new Error("Role khng hp l.");if(e==="admin")throw new Error("Khng th xo role 'admin'.");const n=Mr(kt,"users"),s=yg(n,AS("role","==",e)),o=await RS(s);if(!o.empty)throw new Error(`Khng th xo v cn ${o.size} ngi dng ang dng role '${e}'.`);return await vs(Rr,{roles:NS(e)}),e}function zx(){const{role:i}=Ps(),[e,n]=H.useState([]),[s,o]=H.useState(""),[u,h]=H.useState(null),[m,p]=H.useState(""),[g,E]=H.useState(!1),[T,w]=H.useState("");if(i!=="admin")return L.jsx(pa,{to:"/dashboard",replace:!0});H.useEffect(()=>{const G=gi(kt,"settings","roles"),te=pu(G,async ce=>{if(ce.exists()){const me=ce.data()||{};n(Array.isArray(me.roles)?me.roles:[])}else{const me=await kx();n(me)}},ce=>w(ce.message));return()=>te()},[]),H.useMemo(()=>e.filter(G=>G!=="admin"),[e]);const k=async G=>{G.preventDefault(),w("");try{E(!0),await Px(s),o(""),w("Thm role mi thnh cng.")}catch(te){w(te.message)}finally{E(!1)}},q=G=>{h(G),p(e[G]||"")},Y=()=>{h(null),p("")},z=async()=>{if(u==null)return;const G=e[u],te=m.trim();if(!te||te===G){Y();return}w("");try{E(!0);const{updated:ce}=await Lx(G,te);w(`i '${G}'  '${te}' thnh cng.  cp nht ${ce} user.`)}catch(ce){w(ce.message)}finally{E(!1),Y()}},W=async G=>{if(confirm(`Xo role '${G}'?`)){w("");try{E(!0),await Ux(G),w(` xo role '${G}'.`)}catch(te){w(te.message)}finally{E(!1)}}};return L.jsxs("div",{style:{padding:24},children:[L.jsx("h2",{children:"Qun l loi Role"}),L.jsxs("p",{children:["Thm, i tn, xo cc loi role h thng. (Role ",L.jsx("b",{children:"admin"})," khng th i tn hoc xo)"]}),L.jsxs("section",{style:{marginTop:16},children:[L.jsx("h3",{children:"Thm role mi"}),L.jsxs("form",{onSubmit:k,style:{display:"flex",gap:8,maxWidth:520},children:[L.jsx("input",{placeholder:"Tn role (v d: operator)",value:s,onChange:G=>o(G.target.value),disabled:g,style:{flex:1}}),L.jsx("button",{type:"submit",disabled:g,children:"Thm"})]}),L.jsx("small",{children:"Gi : t tn ch thng, khng du, khng khong trng."})]}),T&&L.jsx("div",{style:{margin:"12px 0",color:/thnh cng|/.test(T)?"green":"crimson"},children:T}),L.jsxs("section",{style:{margin:"16px 0"},children:[L.jsx("h3",{children:"Danh sch role"}),L.jsxs("ul",{style:{listStyle:"none",padding:0,display:"grid",gap:8,maxWidth:520},children:[e.map((G,te)=>L.jsx("li",{style:{border:"1px solid #ddd",borderRadius:8,padding:10,display:"flex",alignItems:"center",gap:8},children:u===te?L.jsxs(L.Fragment,{children:[L.jsx("input",{value:m,onChange:ce=>p(ce.target.value),disabled:g,style:{flex:1}}),L.jsx("button",{onClick:z,disabled:g,children:"Lu"}),L.jsx("button",{onClick:Y,disabled:g,children:"Hu"})]}):L.jsxs(L.Fragment,{children:[L.jsx("span",{style:{flex:1},children:G==="admin"?L.jsx("b",{children:G}):G}),G!=="admin"&&L.jsxs(L.Fragment,{children:[L.jsx("button",{onClick:()=>q(te),disabled:g,children:"i tn"}),L.jsx("button",{onClick:()=>W(G),disabled:g,style:{color:"#b00"},children:"Xo"})]})]})},G)),e.length===0&&L.jsx("i",{children:"Cha c role no."})]})]})]})}const Bx=["Chc bn Ging Sinh an lnh!","Merry Christmas v nm mi hnh phc!","Ging Sinh vui v bn ngi thn yu!","Chc bn ma l hi trn y yu thng!","An lnh, hnh phc v thnh cng!","Ging Sinh m p, ngp trn nim vui!","Chc bn mt ma Noel tuyt vi!","Merry Christmas & Happy Holidays!"];function xn(i,e){return Math.random()*(e-i)+i}const jx=i=>{const e=Zn.c(8);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={x:xn(0,100),y:xn(-10,0),opacity:xn(.5,1),size:xn(8,20),speed:xn(1,3),swing:xn(-20,20)},e[0]=n):n=e[0];const[s,o]=H.useState(n);let u,h;if(e[1]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{const T=setInterval(()=>{o(Hx)},50);return()=>clearInterval(T)},h=[],e[1]=u,e[2]=h):(u=e[1],h=e[2]),H.useEffect(u,h),s.y>100)return null;const m=`${s.x}%`,p=`${s.y}%`,g=`${s.size}px`;let E;return e[3]!==s.opacity||e[4]!==m||e[5]!==p||e[6]!==g?(E=L.jsx("div",{style:{position:"fixed",left:m,top:p,fontSize:g,opacity:s.opacity,pointerEvents:"none",zIndex:1},children:""}),e[3]=s.opacity,e[4]=m,e[5]=p,e[6]=g,e[7]=E):E=e[7],E},U0=i=>{const e=Zn.c(5),{style:n}=i,[s,o]=H.useState(0);let u,h;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{const g=setInterval(()=>{o(Fx)},50);return()=>clearInterval(g)},h=[],e[0]=u,e[1]=h):(u=e[0],h=e[1]),H.useEffect(u,h);const m=`rotate(${s*.3}deg) scale(1.1)`;let p;return e[2]!==n||e[3]!==m?(p=L.jsx("div",{style:{...n,fontSize:80,transform:m,transition:"transform 0.05s linear",filter:"drop-shadow(0 0 10px rgba(34, 139, 34, 0.6))"},children:""}),e[2]=n,e[3]=m,e[4]=p):p=e[4],p},z0=i=>{const e=Zn.c(5),{style:n}=i,[s,o]=H.useState(0);let u,h;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{const g=setInterval(()=>{o(Gx)},50);return()=>clearInterval(g)},h=[],e[0]=u,e[1]=h):(u=e[0],h=e[1]),H.useEffect(u,h);const m=`translateY(${Math.sin(s)*15}px) scale(1.1)`;let p;return e[2]!==n||e[3]!==m?(p=L.jsx("div",{style:{...n,fontSize:60,transform:m,transition:"transform 0.05s ease-in-out",filter:"drop-shadow(0 0 8px rgba(255, 105, 180, 0.7))"},children:""}),e[2]=n,e[3]=m,e[4]=p):p=e[4],p};function qx(){const[i,e]=H.useState([]),[n,s]=H.useState([]);return H.useEffect(()=>{const o=Bx.map((u,h)=>({id:h,text:u,x:xn(0,90),y:xn(0,80),rotate:xn(-15,15),scale:xn(.8,1.2),dx:xn(-.3,.3),dy:xn(-.3,.3),dRotate:xn(-.3,.3)}));e(o),s(Array.from({length:30},(u,h)=>h))},[]),H.useEffect(()=>{const o=setInterval(()=>{e(u=>u.map(h=>{let m=h.x+h.dx,p=h.y+h.dy,g=h.rotate+h.dRotate;return(m<0||m>90)&&(h.dx=-h.dx),(p<0||p>80)&&(h.dy=-h.dy),(g<-30||g>30)&&(h.dRotate=-h.dRotate),{...h,x:m,y:p,rotate:g}}))},50);return()=>clearInterval(o)},[]),L.jsxs("div",{style:{position:"relative",height:"100vh",background:"linear-gradient(135deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%)",overflow:"hidden",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",color:"#fff",padding:24},children:[n.map(o=>L.jsx(jx,{id:o},o)),L.jsx(U0,{style:{position:"absolute",left:20,top:100,zIndex:5}}),L.jsx(U0,{style:{position:"absolute",right:20,top:100,zIndex:5}}),L.jsx(z0,{style:{position:"absolute",left:30,bottom:100,zIndex:5}}),L.jsx(z0,{style:{position:"absolute",right:30,bottom:100,zIndex:5}}),L.jsx("h1",{style:{textAlign:"center",marginBottom:40,textShadow:"2px 2px 8px #a83232",fontSize:48,zIndex:10,position:"relative"},children:" Mng Ging Sinh an lnh "}),i.map(({id:o,text:u,x:h,y:m,rotate:p,scale:g})=>L.jsx("div",{style:{position:"absolute",left:`${h}%`,top:`${m}%`,transform:`rotate(${p}deg) scale(${g})`,backgroundColor:"rgba(255, 255, 255, 0.2)",padding:"10px 18px",borderRadius:12,boxShadow:"0 4px 8px rgba(0,0,0,0.2)",fontWeight:"600",cursor:"default",userSelect:"none",whiteSpace:"nowrap",transition:"background-color 0.3s ease",zIndex:2},onMouseEnter:E=>{E.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.5)",E.currentTarget.style.transform=`rotate(${p}deg) scale(${g*1.2})`,E.currentTarget.style.zIndex="10"},onMouseLeave:E=>{E.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",E.currentTarget.style.transform=`rotate(${p}deg) scale(${g})`,E.currentTarget.style.zIndex="2"},children:u},o)),L.jsx("footer",{style:{position:"absolute",bottom:12,width:"100%",textAlign:"center",fontSize:14,color:"rgba(255,255,255,0.7)",fontStyle:"italic",zIndex:10},children:"Chc bn mt ma Ging Sinh an lnh v trn y nim vui!"})]})}function Hx(i){return{...i,y:i.y+i.speed,x:i.x+Math.sin(i.y*.05)*.5}}function Fx(i){return(i+.5)%360}function Gx(i){return(i+.1)%(Math.PI*2)}function Kx(i,e){return[i,e].sort().join("_")}async function Qx(i,e,n="messages",s=!1){if(!e.trim())return;const o=s?Mr(kt,"private_chats",n,"messages"):Mr(kt,"messages");await CS(o,{text:e.trim(),uid:i.uid,email:i.email,role:i.role||"user",createdAt:DS()})}function Yx(i,e="messages",n=!1){const s=n?Mr(kt,"private_chats",e,"messages"):Mr(kt,"messages"),o=yg(s,JN("createdAt","asc"),ZN(100));return pu(o,u=>{const h=u.docs.map(m=>({id:m.id,...m.data()}));i(h)})}function Xx(){const i=Zn.c(82),{currentUser:e,role:n}=Ps();let s;i[0]===Symbol.for("react.memo_cache_sentinel")?(s=[],i[0]=s):s=i[0];const[o,u]=H.useState(s),[h,m]=H.useState("");let p;i[1]===Symbol.for("react.memo_cache_sentinel")?(p=[],i[1]=p):p=i[1];const[g,E]=H.useState(p),[T,w]=H.useState(null),k=H.useRef(null);let q,Y;i[2]!==e.uid?(q=()=>{const dt=pu(Mr(kt,"users"),gt=>{const Ut=gt.docs.map(Wx);E(Ut.filter(Ho=>Ho.id!==e.uid))});return()=>dt()},Y=[e.uid],i[2]=e.uid,i[3]=q,i[4]=Y):(q=i[3],Y=i[4]),H.useEffect(q,Y);let z;i[5]!==e.uid||i[6]!==T?(z=T?Kx(e.uid,T.id):"messages",i[5]=e.uid,i[6]=T,i[7]=z):z=i[7];const W=z,G=!!T;let te,ce;i[8]!==W||i[9]!==G?(te=()=>{u([]);const dt=Yx(gt=>{u(gt)},W,G);return()=>dt()},ce=[W,G],i[8]=W,i[9]=G,i[10]=te,i[11]=ce):(te=i[10],ce=i[11]),H.useEffect(te,ce);let me;i[12]===Symbol.for("react.memo_cache_sentinel")?(me=()=>{k.current?.scrollIntoView({behavior:"smooth"})},i[12]=me):me=i[12];let ye;i[13]!==o?(ye=[o],i[13]=o,i[14]=ye):ye=i[14],H.useEffect(me,ye);let O;i[15]!==W||i[16]!==e||i[17]!==G||i[18]!==h||i[19]!==n?(O=async dt=>{if(dt.preventDefault(),!!h.trim())try{await Qx({...e,role:n},h,W,G),m("")}catch(gt){console.error(gt)}},i[15]=W,i[16]=e,i[17]=G,i[18]=h,i[19]=n,i[20]=O):O=i[20];const R=O;let I;i[21]===Symbol.for("react.memo_cache_sentinel")?(I={display:"flex",height:"85vh",maxWidth:1e3,margin:"20px auto",background:"#fff",borderRadius:16,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",overflow:"hidden",border:"1px solid #e0e7ff"},i[21]=I):I=i[21];const V=I;let A;i[22]===Symbol.for("react.memo_cache_sentinel")?(A={width:"30%",borderRight:"1px solid #e0e7ff",background:"#f9fafb",display:"flex",flexDirection:"column"},i[22]=A):A=i[22];const D=A;let C;i[23]===Symbol.for("react.memo_cache_sentinel")?(C={width:"70%",display:"flex",flexDirection:"column",background:"#fff"},i[23]=C):C=i[23];const Me=C,qe=$x;let X,re;i[24]===Symbol.for("react.memo_cache_sentinel")?(X=L.jsx("div",{style:{padding:16,fontWeight:"bold",borderBottom:"1px solid #e0e7ff",background:"#fff"},children:"Danh sch thnh vin"}),re={overflowY:"auto",flex:1},i[24]=X,i[25]=re):(X=i[24],re=i[25]);const fe=T===null;let ve;i[26]!==fe?(ve=qe(fe),i[26]=fe,i[27]=ve):ve=i[27];let Ve;i[28]===Symbol.for("react.memo_cache_sentinel")?(Ve=()=>w(null),i[28]=Ve):Ve=i[28];let x;i[29]!==ve?(x=L.jsx("div",{style:ve,onClick:Ve,children:" Chat Chung (Global)"}),i[29]=ve,i[30]=x):x=i[30];let J;if(i[31]!==T?.id||i[32]!==g){let dt;i[34]!==T?.id?(dt=gt=>L.jsxs("div",{style:qe(T?.id===gt.id),onClick:()=>w(gt),children:[" ",gt.email?.split("@")[0],gt.role==="admin"&&L.jsx("span",{style:{color:"red",fontSize:12},children:" (Admin)"})]},gt.id),i[34]=T?.id,i[35]=dt):dt=i[35],J=g.map(dt),i[31]=T?.id,i[32]=g,i[33]=J}else J=i[33];let se;i[36]!==x||i[37]!==J?(se=L.jsxs("div",{style:D,children:[X,L.jsxs("div",{style:re,children:[x,J]})]}),i[36]=x,i[37]=J,i[38]=se):se=i[38];const le=G?"#f0fdf4":"#eef2ff";let _e;i[39]!==le?(_e={padding:"16px 24px",borderBottom:"1px solid #e0e7ff",background:le,fontWeight:"bold",color:"#374151"},i[39]=le,i[40]=_e):_e=i[40];const be=G?` Chat ring vi: ${T?.email}`:" Phng Chat Chung";let De;i[41]!==_e||i[42]!==be?(De=L.jsx("div",{style:_e,children:be}),i[41]=_e,i[42]=be,i[43]=De):De=i[43];let ot;i[44]===Symbol.for("react.memo_cache_sentinel")?(ot={flex:1,padding:20,overflowY:"auto",background:"#f9fafb",display:"flex",flexDirection:"column",gap:12},i[44]=ot):ot=i[44];let Ge;i[45]!==o.length?(Ge=o.length===0&&L.jsx("div",{style:{textAlign:"center",color:"#9ca3af",marginTop:20},children:"Cha c tin nhn no. Hy bt u tr chuyn!"}),i[45]=o.length,i[46]=Ge):Ge=i[46];let fn;if(i[47]!==e.uid||i[48]!==G||i[49]!==o){let dt;i[51]!==e.uid||i[52]!==G?(dt=gt=>{const Ut=gt.uid===e?.uid;return L.jsxs("div",{style:{alignSelf:Ut?"flex-end":"flex-start",maxWidth:"70%",display:"flex",flexDirection:"column",alignItems:Ut?"flex-end":"flex-start"},children:[!Ut&&L.jsx("small",{style:{color:"#6b7280",marginBottom:4,fontSize:11},children:gt.email?.split("@")[0]}),L.jsx("div",{style:{padding:"10px 16px",borderRadius:12,background:Ut?G?"#10b981":"#6366f1":"#e5e7eb",color:Ut?"#fff":"#374151",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",borderBottomRightRadius:Ut?2:12,borderBottomLeftRadius:Ut?12:2},children:gt.text})]},gt.id)},i[51]=e.uid,i[52]=G,i[53]=dt):dt=i[53],fn=o.map(dt),i[47]=e.uid,i[48]=G,i[49]=o,i[50]=fn}else fn=i[50];let ei;i[54]===Symbol.for("react.memo_cache_sentinel")?(ei=L.jsx("div",{ref:k}),i[54]=ei):ei=i[54];let Sn;i[55]!==Ge||i[56]!==fn?(Sn=L.jsxs("div",{style:ot,children:[Ge,fn,ei]}),i[55]=Ge,i[56]=fn,i[57]=Sn):Sn=i[57];let ti;i[58]===Symbol.for("react.memo_cache_sentinel")?(ti={padding:16,borderTop:"1px solid #e0e7ff",display:"flex",gap:10},i[58]=ti):ti=i[58];let an;i[59]===Symbol.for("react.memo_cache_sentinel")?(an=dt=>m(dt.target.value),i[59]=an):an=i[59];const er=G?`Nhn cho ${T?.email}...`:"Nhn cho mi ngi...";let kn;i[60]===Symbol.for("react.memo_cache_sentinel")?(kn={flex:1,padding:"12px 16px",borderRadius:24,border:"1px solid #c7d2fe",outline:"none"},i[60]=kn):kn=i[60];let Pn;i[61]!==h||i[62]!==er?(Pn=L.jsx("input",{value:h,onChange:an,placeholder:er,style:kn}),i[61]=h,i[62]=er,i[63]=Pn):Pn=i[63];let Ti;i[64]!==h?(Ti=h.trim(),i[64]=h,i[65]=Ti):Ti=i[65];const lt=!Ti,ft=G?"#10b981":"#6366f1";let on;i[66]!==ft?(on={padding:"0 24px",borderRadius:24,border:"none",background:ft,color:"#fff",fontWeight:"600",cursor:"pointer"},i[66]=ft,i[67]=on):on=i[67];let Si;i[68]!==lt||i[69]!==on?(Si=L.jsx("button",{type:"submit",disabled:lt,style:on,children:"Gi"}),i[68]=lt,i[69]=on,i[70]=Si):Si=i[70];let ni;i[71]!==R||i[72]!==Pn||i[73]!==Si?(ni=L.jsxs("form",{onSubmit:R,style:ti,children:[Pn,Si]}),i[71]=R,i[72]=Pn,i[73]=Si,i[74]=ni):ni=i[74];let pt;i[75]!==De||i[76]!==Sn||i[77]!==ni?(pt=L.jsxs("div",{style:Me,children:[De,Sn,ni]}),i[75]=De,i[76]=Sn,i[77]=ni,i[78]=pt):pt=i[78];let Ln;return i[79]!==se||i[80]!==pt?(Ln=L.jsxs("div",{style:V,children:[se,pt]}),i[79]=se,i[80]=pt,i[81]=Ln):Ln=i[81],Ln}function $x(i){return{padding:"12px 16px",cursor:"pointer",background:i?"#e0e7ff":"transparent",borderBottom:"1px solid #f3f4f6",transition:"0.2s",fontWeight:i?"600":"400",color:i?"#4f46e5":"#374151"}}function Wx(i){return{id:i.id,...i.data()}}function Jx(){const i=Zn.c(9);let e;i[0]===Symbol.for("react.memo_cache_sentinel")?(e=L.jsx(dx,{}),i[0]=e):e=i[0];let n;i[1]===Symbol.for("react.memo_cache_sentinel")?(n=L.jsx(Er,{path:"/",element:L.jsx(pa,{to:"/dashboard",replace:!0})}),i[1]=n):n=i[1];let s;i[2]===Symbol.for("react.memo_cache_sentinel")?(s=L.jsx(Er,{path:"/login",element:L.jsx(Ex,{})}),i[2]=s):s=i[2];let o;i[3]===Symbol.for("react.memo_cache_sentinel")?(o=L.jsx(Er,{path:"/dashboard",element:L.jsx(L0,{children:L.jsx(Ox,{})})}),i[3]=o):o=i[3];let u;i[4]===Symbol.for("react.memo_cache_sentinel")?(u=L.jsx(Er,{path:"/admin",element:L.jsx(jm,{roles:["admin"],children:L.jsx(Mx,{})})}),i[4]=u):u=i[4];let h;i[5]===Symbol.for("react.memo_cache_sentinel")?(h=L.jsx(Er,{path:"/roles",element:L.jsx(jm,{roles:["admin"],children:L.jsx(zx,{})})}),i[5]=h):h=i[5];let m;i[6]===Symbol.for("react.memo_cache_sentinel")?(m=L.jsx(Er,{path:"/christmas",element:L.jsx(jm,{roles:["uservip","admin"],children:L.jsx(qx,{})})}),i[6]=m):m=i[6];let p;i[7]===Symbol.for("react.memo_cache_sentinel")?(p=L.jsx(Er,{path:"/chat",element:L.jsx(L0,{children:L.jsx(Xx,{})})}),i[7]=p):p=i[7];let g;return i[8]===Symbol.for("react.memo_cache_sentinel")?(g=L.jsxs(L.Fragment,{children:[e,L.jsxs(pw,{children:[n,s,o,u,h,m,p,L.jsx(Er,{path:"*",element:L.jsx(Vx,{})})]})]}),i[8]=g):g=i[8],g}SA.createRoot(document.getElementById("root")).render(L.jsx(mA.StrictMode,{children:L.jsx(ux,{children:L.jsx(Uw,{children:L.jsx(Jx,{})})})}));
